({8954:function(){const r=function(){let r=sessionStorage.getItem("bis_data");return null!==r?JSON.parse(r):null}(),T=r?r.config.twitterConfig.TRAFFIC_DETECTOR:null,l=r?r.id+"_w":null;if(null!==T){var H=this&&this.__extends||function(r,T){for(var l in T)T.hasOwnProperty(l)&&(r[l]=T[l]);function H(){this.constructor=r}H.prototype=T.prototype,r.prototype=new H},F=function(){function r(){}return r.isWhiteSpace=function(r){return/\s/g.test(r)},r.isLetter=function(r){return r.match(/[a-z]/i)},r.isNumber=function(r){return!isNaN(parseFloat(r))&&!isNaN(r-0)},r.capitalizeFirst=function(r){return"string"!=typeof r?"":r.charAt(0).toUpperCase()+r.slice(1)},r.isLookLikeLogicalOperator=function(r){return[">","<","=","!"].includes(r)},r}(),y=function(){function r(){this.reset()}return r.prototype.reset=function(){this._prop="",this._alias=null},r.prototype.hasProp=function(){return this._prop.length>0},r.prototype.build=function(){if(!this.hasProp())return[];var r={prop:this._prop,alias:this._alias};return this.reset(),r},r.prototype.addCharToAlias=function(r){this._alias=this._alias?this._alias+r:r},r.prototype.addCharToProp=function(r){this._prop=this._prop?this._prop+r:r},r}(),P={OPERATOR:"OPERATOR",OPERAND_CONST_STRING_VALUE:"OPERAND_CONST_STRING_VALUE",OPERAND_CONST_NUMBER_VALUE:"OPERAND_CONST_NUMBER_VALUE",OPERAND_PROPERTY:"OPERAND_PROPERTY"},X=function(){function r(){this.reset()}return r.prototype.reset=function(){this._value=null,this._type=null},r.prototype.build=function(){if(!this._type)return[];var r=this._type===P.OPERAND_CONST_NUMBER_VALUE?parseFloat(this._value):this._value,T={type:{OPERATOR:"OPERATOR",OPERAND_CONST_STRING_VALUE:"CONST_VALUE",OPERAND_CONST_NUMBER_VALUE:"CONST_VALUE",OPERAND_PROPERTY:"PROPERTY"}[this._type],value:r};return this.reset(),T},r.prototype.markAsOperator=function(){return this._type=P.OPERATOR,this},r.prototype.markAsConstStringValueOperand=function(){return this._type=P.OPERAND_CONST_STRING_VALUE,this},r.prototype.markAsConstNumberValueOperand=function(){return this._type=P.OPERAND_CONST_NUMBER_VALUE,this},r.prototype.markAsPropertyOperand=function(){return this._type=P.OPERAND_PROPERTY,this},r.prototype.addCharToValue=function(r){return this._value=this._value?this._value+r:r,this},r.prototype.withValue=function(r){return this._value=r,this},r}(),I=new(function(){function r(){this._selectBuilder=new y,this._filterBuilder=new X,this.reset()}return r.prototype.reset=function(){return this.filterBuilder().reset(),this.selectBuilder().reset(),this._element="",this._select=[],this._filter=[],this._limit=null,this},r.prototype.filterBuilder=function(){return this._filterBuilder},r.prototype.selectBuilder=function(){return this._selectBuilder},r.prototype.build=function(){var r={element:this._element,select:this._select,filter:this._filter,limit:this._limit};return this.reset(),r},r.prototype.addCharToElementName=function(r){return this._element+=r,this},r.prototype.hasElementName=function(){return this._element.length>0},r.prototype.addConditionToFilter=function(r){return this._filter.push(r),this},r.prototype.addPropertyToSelect=function(r){return this._select.push(r),this},r.prototype.hasPropertiesInSelect=function(){return this._select.length>0},r}()),R=function(){function r(){}return r.query=function(r,T){let l=new q(r).parse(0),H=[{data:T,parents:[]}],F=0,y=[];for(let r=0;r<l.length;r++){let T=l[r],P=[];for(let r=0;r<H.length;r++){let l=H[r];if(!l.data.hasOwnProperty(T.element))continue;let X={data:l.data[T.element],parents:l.parents.slice()};if("*"===T.limit){let r=X.data;X.data.length||(r=Object.keys(X.data));for(let H of r){const r="string"==typeof H?H:X.data.indexOf(H);let I=X.data[r],R={data:I,parents:l.parents.slice()};if(T.select.length>0){let r={element:T.element,data:{}};T.select.forEach((function(T){if(T.prop.includes(".")){let l,H=T.prop.split(".");const F=H.length-1;H.forEach(((H,y)=>{if(l||(l=I[H]),l&&l.hasOwnProperty(H)&&y!==F&&l[H]&&(l=l[H]),l&&l.hasOwnProperty(H)&&y===F&&l[H]){let F=T.alias?T.alias:H;r.data[F]=l[H]}}))}if(I.hasOwnProperty(T.prop)&&!r.data[column]){let l=T.alias?T.alias:T.prop;r.data[l]=I[T.prop]}})),y.push(r),R.parents.push(F),F+=1}P.push(R)}}else P.push(X)}if(H=P,T.filter.length>0){let r=T.filter[0],l=T.filter[1],F=T.filter[2],y=function(r,T){return"CONST_VALUE"===T.type?T.value:r.data[T.value]};H=H.filter((function(T){let H=y(T,r),P=y(T,F);return"=="===l.value?H==P:"==="===l.value?H===P:"!="===l.value?H!=P:"!=="===l.value?H!==P:">="===l.value?H>=P:"<="===l.value?H<=P:">"===l.value?H>P:"<"===l.value?H<P:void 0}))}}let P=l[l.length-1],X=[];return H.forEach((function(r){r.parents.length&&r.parents.forEach((function(T){var l=y[T];X.hasOwnProperty(T)||(X[T]={},X[T][l.element]=l.data),X[T][P.element]=X[T][P.element]?X[T][P.element].concat(r.data):[r.data]}))})),X.filter((function(r){return r}))},r}(),_={FILTER:"filter",SELECT:"select"},t=function(){function r(r){if("string"!=typeof r)throw new TypeError('Param "query" must be string type');if(0===r.trim().length)throw new TypeError('Param "query" must be not empty type');this._query=r,this._process=null,this._pos=null}return r.prototype.switchProcess=function(r){this._process=r},r.prototype.isRunningProcess=function(r){return this._process===r},r.prototype.parse=function(){throw new Error("A child must implement this method")},r.prototype.name=function(){throw new Error("A child must implement this method")},r.prototype.throwSyntaxError=function(r){throw new SyntaxError("JsonQuery: "+r)},r.prototype.throwSyntaxErrorWithTrace=function(r){var T=this._query.substr(0,this._pos+1);this.throwSyntaxError(r+' "'+T+'"')},r.prototype.throwSyntaxErrorUnexpectedChar=function(){var r=this._query[this._pos];this.throwSyntaxErrorWithTrace('Unexpected symbol "'+r+'" in')},r}(),D={LOOKING_FOR_PROPERTY:"LOOKING_FOR_PROPERTY",LOOKING_FOR_SEPARATOR_OR_ALIAS:"LOOKING_FOR_SEPARATOR_OR_ALIAS",LOOKING_FOR_ALIAS_NAME:"LOOKING_FOR_ALIAS_NAME",SELECT_OPERATION_SUCCESS:"SELECT_OPERATION_SUCCESS",SELECT_OPERATION_BEFORE_FINISH:"SELECT_OPERATION_BEFORE_FINISH",SELECT_RECORDING_PROPERTY_NAME:"SELECT_RECORDING_PROPERTY_NAME",SELECT_PARSING_ALIAS_KEYWORD:"SELECT_PARSING_ALIAS_KEYWORD",SELECT_RECORDING_ALIAS_NAME:"SELECT_RECORDING_ALIAS_NAME"},M=function(r){function T(){r.apply(this,arguments)}return H(T,r),T.prototype.parse=function(r){var T=I.selectBuilder();for(this._runLookingForPropertyProcess(),this._pos=r;this._pos<this._query.length;this._pos++){var l=this._query[this._pos];if(this._isLookingForProperty()){if(" "===l)continue;")"===l?(this._pos=this._pos-1,this._finishParsing()):(this._pos=this._pos-1,this._runRecordingPropertyNameProcess())}else if(this._isRecordingPropertyName())if(" "===l)this._runLookingForSeparatorOrAlias();else if(","===l){var H=T.build();I.addPropertyToSelect(H),this._runLookingForPropertyProcess()}else")"===l?(this._pos=this._pos-1,this._finishParsing()):T.addCharToProp(l);else if(this._isLookingForSeparatorOrAlias()){if(" "===l)continue;")"===l?(this._pos=this._pos-1,this._finishParsing()):","===l?(H=T.build(),I.addPropertyToSelect(H),this._runLookingForPropertyProcess()):"a"===l?(this._pos=this._pos-1,this._runParsingAlias()):this.throwSyntaxErrorUnexpectedChar()}else if(this._isParsingAliasKeyword()){if(this._query.substr(this._pos).toLowerCase().startsWith("as ")){this._pos=this._pos+3-1,this._runLookingForAliasName();continue}this.throwSyntaxErrorUnexpectedChar()}else if(this._isLookingForAliasName()){if(" "===l)continue;this._pos=this._pos-1,this._runRecordingAliasName()}else if(this._isRecordingAliasName())" "===l||","===l?(H=T.build(),I.addPropertyToSelect(H),this._runLookingForPropertyProcess()):")"===l?(this._pos=this._pos-1,this._finishParsing()):T.addCharToAlias(l);else if(this._isFinishOperation()){T.hasProp()&&(H=T.build(),I.addPropertyToSelect(H)),this._markAsSuccessParsing();break}}return this._isSuccessParsed()?I.hasPropertiesInSelect()||this.throwSyntaxErrorWithTrace("select operation requires at least one property"):this.throwSyntaxErrorWithTrace("unexpected end of select operation"),this._pos},T.prototype.name=function(){return _.SELECT},T.prototype._runLookingForPropertyProcess=function(){this.switchProcess(D.LOOKING_FOR_PROPERTY)},T.prototype._runRecordingPropertyNameProcess=function(){this.switchProcess(D.SELECT_RECORDING_PROPERTY_NAME)},T.prototype._runLookingForSeparatorOrAlias=function(){this.switchProcess(D.LOOKING_FOR_SEPARATOR_OR_ALIAS)},T.prototype._runParsingAlias=function(){this.switchProcess(D.SELECT_PARSING_ALIAS_KEYWORD)},T.prototype._runLookingForAliasName=function(){this.switchProcess(D.LOOKING_FOR_ALIAS_NAME)},T.prototype._runRecordingAliasName=function(){this.switchProcess(D.SELECT_RECORDING_ALIAS_NAME)},T.prototype._finishParsing=function(){this.switchProcess(D.SELECT_OPERATION_BEFORE_FINISH)},T.prototype._markAsSuccessParsing=function(){this.switchProcess(D.SELECT_OPERATION_SUCCESS)},T.prototype._isLookingForProperty=function(){return this.isRunningProcess(D.LOOKING_FOR_PROPERTY)},T.prototype._isLookingForAliasName=function(){return this.isRunningProcess(D.LOOKING_FOR_ALIAS_NAME)},T.prototype._isRecordingPropertyName=function(){return this.isRunningProcess(D.SELECT_RECORDING_PROPERTY_NAME)},T.prototype._isSuccessParsed=function(){return this.isRunningProcess(D.SELECT_OPERATION_SUCCESS)},T.prototype._isLookingForSeparatorOrAlias=function(){return this.isRunningProcess(D.LOOKING_FOR_SEPARATOR_OR_ALIAS)},T.prototype._isParsingAliasKeyword=function(){return this.isRunningProcess(D.SELECT_PARSING_ALIAS_KEYWORD)},T.prototype._isRecordingAliasName=function(){return this.isRunningProcess(D.SELECT_RECORDING_ALIAS_NAME)},T.prototype._isFinishOperation=function(){return this.isRunningProcess(D.SELECT_OPERATION_BEFORE_FINISH)},T}(t),V={FILTER_LOOKING_FOR_OPERAND:"FILTER_LOOKING_FOR_OPERAND",FILTER_LOOKING_FOR_OPERATOR:"FILTER_LOOKING_FOR_OPERATOR",FILTER_RECORDING_PROPERTY_NAME:"FILTER_RECORDING_PROPERTY_NAME",FILTER_RECORDING_STRING_VALUE:"FILTER_RECORDING_STRING_VALUE",FILTER_RECORDING_NUMBER_VALUE:"FILTER_RECORDING_NUMBER_VALUE",FILTER_PARSING_OPERATOR:"FILTER_PARSING_OPERATOR",FILTER_FINISH_PROCESS:"FILTER_FINISH_PROCESS",FILTER_SUCCESS:"FILTER_SUCCESS"},U=function(r){function T(){r.apply(this,arguments)}return H(T,r),T.prototype.parse=function(r){var T=I.filterBuilder();for(this.switchProcess(V.FILTER_LOOKING_FOR_OPERAND),this._pos=r;this._pos<this._query.length;this._pos++){var l=this._query[this._pos];if(this.isRunningProcess(V.FILTER_LOOKING_FOR_OPERAND)){if(" "===l)continue;"@"===l?(T.markAsPropertyOperand(),this.switchProcess(V.FILTER_RECORDING_PROPERTY_NAME)):"'"===l?(T.markAsConstStringValueOperand(),this.switchProcess(V.FILTER_RECORDING_STRING_VALUE)):F.isNumber(l)?(this._pos=this._pos-1,T.markAsConstNumberValueOperand(),this.switchProcess(V.FILTER_RECORDING_NUMBER_VALUE)):")"===l?(this._pos=this._pos-1,this.switchProcess(V.FILTER_FINISH_PROCESS)):this.throwSyntaxErrorUnexpectedChar()}else if(this.isRunningProcess(V.FILTER_RECORDING_PROPERTY_NAME))if(" "===l){var H=T.build();I.addConditionToFilter(H),this.switchProcess(V.FILTER_LOOKING_FOR_OPERATOR)}else")"===l?(this._pos=this._pos-1,H=T.build(),I.addConditionToFilter(H),this.switchProcess(V.FILTER_FINISH_PROCESS)):F.isLookLikeLogicalOperator(l)?(this._pos=this._pos-1,H=T.build(),I.addConditionToFilter(H),this.switchProcess(V.FILTER_LOOKING_FOR_OPERATOR)):T.addCharToValue(l);else if(this.isRunningProcess(V.FILTER_LOOKING_FOR_OPERATOR)){if(" "===l)continue;")"===l?(this._pos=this._pos-1,this.switchProcess(V.FILTER_FINISH_PROCESS)):F.isLookLikeLogicalOperator(l)&&(this._pos=this._pos-1,this.switchProcess(V.FILTER_PARSING_OPERATOR))}else if(this.isRunningProcess(V.FILTER_RECORDING_STRING_VALUE))"'"===l?(H=T.build(),I.addConditionToFilter(H),this.switchProcess(V.FILTER_LOOKING_FOR_OPERATOR)):T.addCharToValue(l);else if(this.isRunningProcess(V.FILTER_RECORDING_NUMBER_VALUE))" "===l?(H=T.build(),I.addConditionToFilter(H),this.switchProcess(V.FILTER_LOOKING_FOR_OPERATOR)):F.isLookLikeLogicalOperator(l)?(this._pos=this._pos-1,this.switchProcess(V.FILTER_PARSING_OPERATOR)):")"===l?(this._pos=this._pos-1,H=T.build(),I.addConditionToFilter(H),this.switchProcess(V.FILTER_FINISH_PROCESS)):F.isNumber(l)||"."===l?T.addCharToValue(l):this.throwSyntaxErrorUnexpectedChar();else if(this.isRunningProcess(V.FILTER_PARSING_OPERATOR)){var y=this.parseLogicalOperation(this._query.substr(this._pos));T.markAsOperator().withValue(y),H=T.build(),I.addConditionToFilter(H),this._pos=this._pos+y.length-1,this.switchProcess(V.FILTER_LOOKING_FOR_OPERAND)}else if(this.isRunningProcess(V.FILTER_FINISH_PROCESS)){this.switchProcess(V.FILTER_SUCCESS);break}}return this.isRunningProcess(V.FILTER_SUCCESS)||this.throwSyntaxErrorWithTrace("unexpected end of filter operation"),this._pos},T.prototype.name=function(){return _.FILTER},T.prototype.parseLogicalOperation=function(r){for(var T=r.substr(0,3),l=[["!==","==="],["!=","==","<=",">="],["<",">"]],H=0;H<l.length;H++){var F=l[H].find((function(r){return T.startsWith(r)}));if(F)return F}throw new Error("JsonQuery: could not find operator")},T}(t),Q={LOOKING_FOR_ELEMENT_NAME:"LOOKING_FOR_ELEMENT_NAME",RECORDING_ELEMENT_NAME:"RECORDING_ELEMENT_NAME",BLOCK_PARSING:"BLOCK_PARSING",LIMIT_PARSING:"LIMIT_PARSING",LOOKING_FOR_OPERATION:"LOOKING_FOR_OPERATION",RECORDING_OPERATION_NAME:"RECORDING_OPERATION_NAME"},q=function(r){function T(T){r.call(this,T),this._operations=[new U(T),new M(T)]}return H(T,r),T.prototype.parse=function(r){I.reset();var T="",l=[];for(this._runLookingForElementNameProcess(),this._pos=r;this._pos<this._query.length;this._pos++){var H=this._query[this._pos];if(this._isLookingForElementNameProcess()){if(" "===H)continue;"."===H||(this._pos=this._pos-1),this._runRecordingElementNameProcess()}else if(this.isRunningProcess(Q.RECORDING_ELEMENT_NAME))if(this._isElementSeparator(H)){var F=I.build();l.push(F)}else this._needStartParseBlock(H)?this._runParsingBlockProcess():this._isNotAllowedCharForElementName(H)?this.throwSyntaxErrorWithTrace('symbol "'+H+'" is not allowed as part of element name'):I.addCharToElementName(H);else if(this._isRunningBlockParsingProcess()){if(" "===H)continue;this._isLooksLikeLimitOperation(H)?(I._limit="*",this._runLookingForOperation()):"#"===H?this._runRecordingOperationName():this.throwSyntaxErrorUnexpectedChar()}else if(this._isRunningLookingForOperation()){if(" "===H)continue;"#"===H?this._runRecordingOperationName():"]"===H?(F=I.build(),l.push(F),this._runLookingForElementNameProcess()):this.throwSyntaxErrorUnexpectedChar()}else if(this._isRunningRecordingOperationName())if("("===H){var y=this._findParserForOperatorOrThrowException(T);T="",this._pos=this._pos+1,this._pos=y.parse(this._pos),this._runLookingForOperation()}else this._isNotAllowedCharForOperationName(H)?this.throwSyntaxErrorUnexpectedChar():T+=H}return I.hasElementName()&&(F=I.build(),l.push(F)),l},T.prototype._runLookingForElementNameProcess=function(){this.switchProcess(Q.LOOKING_FOR_ELEMENT_NAME)},T.prototype._runRecordingElementNameProcess=function(){this.switchProcess(Q.RECORDING_ELEMENT_NAME)},T.prototype._runParsingBlockProcess=function(){this.switchProcess(Q.BLOCK_PARSING)},T.prototype._runLookingForOperation=function(){this.switchProcess(Q.LOOKING_FOR_OPERATION)},T.prototype._runRecordingOperationName=function(){this.switchProcess(Q.RECORDING_OPERATION_NAME)},T.prototype._isLookingForElementNameProcess=function(){return this.isRunningProcess(Q.LOOKING_FOR_ELEMENT_NAME)},T.prototype._isRunningBlockParsingProcess=function(){return this.isRunningProcess(Q.BLOCK_PARSING)},T.prototype._isRunningLookingForOperation=function(){return this.isRunningProcess(Q.LOOKING_FOR_OPERATION)},T.prototype._isRunningRecordingOperationName=function(){return this.isRunningProcess(Q.RECORDING_OPERATION_NAME)},T.prototype._isElementSeparator=function(r){return"."===r},T.prototype._isNotAllowedCharForElementName=function(r){return F.isWhiteSpace(r)||["#","@","!","[","]","%","-","+","^","*","(",")","?",":","{","}"].includes(r)},T.prototype._isNotAllowedCharForOperationName=function(r){return F.isWhiteSpace(r)||["#","@","!","[","]","%","-","+","^","*","(",")","?",":","{","}"].includes(r)},T.prototype._isLooksLikeLimitOperation=function(r){return"*"===r},T.prototype._needStartParseBlock=function(r){return"["===r},T.prototype._findParserForOperatorOrThrowException=function(r){let T=this._operations.find((function(T){return T.name()===r}));return T||this.throwSyntaxErrorWithTrace('unknown operation "'+r+'"'),T},T}(t);const e={parseJSON:function(r){try{if(r&&"string"==typeof r)return JSON.parse(r)}catch(r){}},jsonQuery:function(r,T){let l=[],H=T.queries.map((function(H,F){let y=Object.assign({},r);return l.push(y),R.query(H,l[F]).map((r=>{if(T.props)for(let l of T.props){let T=l[0],H=l[1];r[T]&&(r[T]=r[T][0].map((r=>{let T={};return r.key&&H.includes(r.key)?r.value:r.key?void 0:(H.forEach((l=>{r[l]&&!T[l]&&(r[l].length&&"string"!=typeof r[l]?T[l]=r[l][0]:T[l]=r[l])})),Object.keys(T).length?T:void 0)})).filter((r=>r)))}else!r.hasOwnProperty(T.prop)&&r.media&&(r[T.prop]=[JSON.stringify(r.media[0])],delete r.media);return r}))})),F=[];return H.forEach((function(r){F=F.concat(r)})),F},forEach:function(r,T){let l=[];return r.forEach((function(r){const H=T.prop?r[T.prop]:r,F=e[T.pipe](H);l.push(F)})),l},filterContains:function(r,T){return r.filter((r=>{let l=!1;return T.props&&T.props.length&&(l=T.props.some((T=>r.hasOwnProperty(T)))),!(!r.hasOwnProperty(T.prop)&&!l)&&T.types.some((H=>{let F=!1;if(r[T.prop]&&(F=r[T.prop].includes(`"${H}"`)),l)for(let l of T.props){if("string"==typeof r[l]&&r[l].includes(`"${H}"`)){F=!0;break}if(r.hasOwnProperty("type")&&r.type===H){F=!0;break}}return F}))}))},arrToVal:function(r,T){return r.map((r=>{let l={};return T.prop&&r[T.prop]&&!T.props&&(r[T.prop]=r[T.prop][0],l=r),T.props&&T.props.forEach((T=>{const H=T[0];T[1].forEach((T=>{r[H]&&(r[H].length&&(r[H]=r[H][0]),r[H][T]&&(l[T]=r[H][T]))}))})),l}))},sendVideoData:function(r){!function(r){r.detectionTime=Date.now()/1e3|0;let T={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"TWITTER_VIDEO_DATA",from:l,to:l.substring(0,l.length-2),content:r};try{window.postMessage(T)}catch(r){}}(r)},sendCarouselData:function(r){!function(r){r.detectionTime=Date.now()/1e3|0;let T={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"TWITTER_CAROUSEL_DATA",from:l,to:l.substring(0,l.length-2),content:r};try{window.postMessage(T)}catch(r){}}(r)},mapParseJsonToObj:function(r,T){return r.map((r=>(r[T.prop]&&"string"==typeof r[T.prop]&&(r[T.prop]=JSON.parse(r[T.prop])),r[T.prop]&&1===r[T.prop].length&&(r[T.prop]=r[T.prop][0]),r)))},mapVideoData:function(r,T){return r.map((r=>{const l=r.tweets?r.tweets:{};T&&T.props&&T.props.forEach((T=>{if("string"==typeof T)r[T]&&(l[T]=r[T]);else if("object"==typeof T&&T.length){let H=r;T.forEach(((r,T,F)=>{H[r]&&T!==F.length-1?H=H[r]:T===F.length-1&&(l[r]=H[r])}))}}));let H={tweets:l};if(r.string_value){if(r.string_value.media_entities){const T=Object.keys(r.string_value.media_entities);return H.variants=r.string_value.media_entities[T[0]].video_info?.variants,H}if(r.string_value.video_info&&r.string_value.video_info?.variants)return H.variants=r.string_value.video_info?.variants,H}else if(r.video_info&&r.video_info.variants)return H.variants=r.video_info.variants,H})).filter((r=>void 0!==r))},mapCarouselData:function(r,T){return r.map((r=>{const l=r.tweets?r.tweets:{};T&&T.props&&T.props.forEach((T=>{if("string"==typeof T)r[T]&&(l[T]=r[T]);else if("object"==typeof T&&T.length)for(let H of T){let T=r;for(let r=0;r<H.length;r++){let F=H[r];if("*"===F){let F=Object.keys(T),y=H.slice(r+1,H.length),P=[];for(let r of F){let l=T[r];if(!l)break;for(let r=0;r<y.length;r++){let T=y[r];l[T]&&r!==y.length-1?l=l[T]:r===y.length-1&&P.push(l[T])}}l.slides=P;break}T[F]&&r!==H.length-1?T=T[F]:r===H.length-1&&(l[F]=T[F])}}}));let H={tweets:l};if(r.string_value&&r.string_value.type&&T.types&&T.types.includes(r.string_value.type))return H})).filter((r=>void 0!==r))}},b="WATCH_EVENT",d=new(function(){function r(){this.listeners={}}return r.prototype.on=function(r,T){this.listeners[r]=T},r.prototype.emit=function(r,T){let l=this;setTimeout((function(){return l.listeners[r](T)}),0)},r}());function B(r){return(T.parsers||[]).filter((T=>new RegExp(T.watch).test(r)))}d.on(b,(function(r){B(r.url).forEach((T=>setTimeout((()=>function(r,T){for(const l of r.pipes){const r=e[l.name];r&&(T=r(T,l.arguments))}}(T,r.content)),0)))}));let n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],this.url=arguments[1],n.apply(this,arguments)};let p=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){let r=this.onreadystatechange;var l=this;let H=!1;for(let r of T.parsers)if(H=new RegExp(r.watch,"i").test(l.url),H)break;return H?(this.onreadystatechange=function(){if(4===this.readyState&&B(this.url).length>0){const r={url:this.url,content:""===l.responseType||"text"===l.responseType?l.responseText:""};d.emit(b,r)}if(r)return r.apply(this,arguments)},p.apply(this,arguments)):p.apply(this,arguments)}}}})[8954]();