(()=>{const r=null!==(T=sessionStorage.getItem("bis_data"))?JSON.parse(T):null;var T;const l=document.querySelector("script[bis_id]");window.bisData={id:l?l.getAttribute("bis_id")+"_w":null,html5TargetUrlDetectionConfig:r?r.config.html5TargetUrlDetectionConfig:null};const H=window.bisData.html5TargetUrlDetectionConfig,F=window.bisData.id;function y(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}function P(r,T,l,H){if(!window.bisData)return;let F=window.bisData.html5TargetUrlDetectionConfig.TARGET_URL_CLICK_ELEMENTS_SELECTOR;var P=document.querySelectorAll(F);if(P.length){window.bisData.origWindowOpen=window.open,window.bisData.elementSquare=0,window.bisData.clickTargetUrl=[],window.bisData.clickTargetUrlProcessed=!1;var X=function(F){if(window.bisData.clickTargetUrl.some((r=>r.href===F)))return null;if(window.bisData.clickTargetUrl.push({href:F,square:window.bisData.elementSquare}),window.bisData&&window.bisData.clickTargetUrl&&window.bisData.clickTargetUrl.length){let F="GET_WINDOW_TARGET_URL"===H.type?{targetUrlList:window.bisData.clickTargetUrl}:{chainId:H.content.chainId,clickTargetUrl:window.bisData.clickTargetUrl},P={posdMessageId:"PANELOS_MESSAGE",posdHash:y(),type:`${H.type}_RESPOND`,from:r,to:r.substring(0,r.length-2),content:F};document.body&&document.body.setAttribute&&document.body.setAttribute("bis_mes_to_fr",JSON.stringify(P)),T.postMessage&&T.postMessage(P,l)}return null};window.open=X;for(var I=0;I<P.length&&0===window.bisData.clickTargetUrl.length;I++)try{if(P[I]&&P[I].click&&P[I].getBoundingClientRect){let r=P[I].getBoundingClientRect();r.width>40&&r.height>40&&(window.bisData.elementSquare=r.width*r.height,window.open==X&&P[I].click())}}catch(r){}setTimeout((()=>{window.open=window.bisData.origWindowOpen}),1e3),window.bisData.clickTargetUrlProcessed=!0}}window.addEventListener("message",(function(r){try{var T=F,l=r.data;let I=r.source,R=r.origin;if(void 0!==(X=l)&&void 0!==X.posdMessageId&&void 0!==X.from&&void 0!==X.to&&void 0!==X.type&&void 0!==X.content&&"PANELOS_MESSAGE"===X.posdMessageId&&l.to===T)if("GET_WINDOW_TARGET_URL"===l.type){let F=function(r,T,l){let H=t(T,[F,y,P,X,I,R],l);H&&H.length;return H;function F(r){if(void 0!==r.clickTag&&_(r.clickTag))return{href:r.clickTag,square:1000001}}function y(r){if(void 0!==r.adData){if(void 0!==r.adData.destination_url&&_(r.adData.destination_url))return{href:r.adData.destination_url,square:1000001};if(void 0!==r.adData.redirect_url&&_(r.adData.redirect_url))return{href:r.adData.redirect_url,square:1000001}}}function P(r){if(void 0!==r.BF&&void 0!==r.BF.Parameters&&void 0!==r.BF.Parameters.targeturl&&_(r.BF.Parameters.targeturl))return{href:r.BF.Parameters.targeturl,square:1000001}}function X(r){if(void 0!==r.ADAPT&&void 0!==r.ADAPT.symbols&&void 0!==r.ADAPT.symbols.stage&&void 0!==r.ADAPT.symbols.stage.clickUrl&&_(r.ADAPT.symbols.stage.clickUrl))return{href:r.ADAPT.symbols.stage.clickUrl,square:1000001}}function I(r){if(void 0!==r.admixAPI&&void 0!==r.admixAPI.ownerBanner&&void 0!==r.admixAPI.ownerBanner.clickUrl&&_(r.admixAPI.ownerBanner.clickUrl))return{href:r.admixAPI.ownerBanner.clickUrl,square:1000001}}function R(T,l){let H=D(r,T,l);if(_(H))return{href:H,square:999999}}function _(r){return"string"==typeof r&&r.length>0&&(-1!==r.indexOf("http")||-1!==r.indexOf("//"))}function t(r,T,l){let H=[];for(let F of T)try{let T=F(r,l);T&&T.href&&H.push(T)}catch(r){}return H}function D(r,T,l){let H=Q(T,l);return H&&0!==H.length?M(T,H,l):null}function M(r,T,l,H=[]){let F=l.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(H.length>F)return null;for(let F of T)try{let T=r[F];if(!T)return null;let y=H.concat(F);if("object"==typeof T){let r=M(T,Object.getOwnPropertyNames(T),l,y);if(r)return r}else if("string"==typeof T&&V(F,l)&&_(T))return T}catch(r){}return null}function V(r,T){let l=U(r),H=T.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let r of H){if(l===r)return!0}return!1}function U(r){return r.toLowerCase().replace(/[^a-zA-Z]+/g,"")}function Q(r,T){let l=Object.getOwnPropertyNames(r);const H=T.WINDOW_PROPERTY_NAMES;return l.filter((r=>H.indexOf(r)<0))}}(T,window,H);if(F.length){let l={posdMessageId:"PANELOS_MESSAGE",posdHash:y(),type:"GET_WINDOW_TARGET_URL_RESPOND",from:T,to:T.substring(0,T.length-2),content:{targetUrlList:F}};document.body&&document.body.setAttribute&&document.body.setAttribute("bis_mes_to_fr",JSON.stringify(l)),r.source.postMessage&&r.source.postMessage(l,r.origin)}else{if(window.bisData.clickTargetUrlProcessed)return;P(T,I,R,l)}}else if("GET_WINDOW_CLICK_TARGET_URL"===l.type){if(window.bisData.clickTargetUrlProcessed)return;P(T,I,R,l)}}catch(r){}var X}),!1)})();