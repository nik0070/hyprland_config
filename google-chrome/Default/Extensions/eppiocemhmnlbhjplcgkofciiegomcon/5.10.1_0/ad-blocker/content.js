(()=>{var r={7452:r=>{var T=function(r){"use strict";var T,l=Object.prototype,H=l.hasOwnProperty,F="function"==typeof Symbol?Symbol:{},y=F.iterator||"@@iterator",P=F.asyncIterator||"@@asyncIterator",X=F.toStringTag||"@@toStringTag";function I(r,T,l){return Object.defineProperty(r,T,{value:l,enumerable:!0,configurable:!0,writable:!0}),r[T]}try{I({},"")}catch(r){I=function(r,T,l){return r[T]=l}}function R(r,T,l,H){var F=T&&T.prototype instanceof Q?T:Q,y=Object.create(F.prototype),P=new j(H||[]);return y._invoke=function(r,T,l){var H=t;return function(F,y){if(H===M)throw new Error("Generator is already running");if(H===V){if("throw"===F)throw y;return $()}for(l.method=F,l.arg=y;;){var P=l.delegate;if(P){var X=s(P,l);if(X){if(X===U)continue;return X}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(H===t)throw H=V,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);H=M;var I=_(r,T,l);if("normal"===I.type){if(H=l.done?V:D,I.arg===U)continue;return{value:I.arg,done:l.done}}"throw"===I.type&&(H=V,l.method="throw",l.arg=I.arg)}}}(r,l,P),y}function _(r,T,l){try{return{type:"normal",arg:r.call(T,l)}}catch(r){return{type:"throw",arg:r}}}r.wrap=R;var t="suspendedStart",D="suspendedYield",M="executing",V="completed",U={};function Q(){}function q(){}function B(){}var e={};I(e,y,(function(){return this}));var b=Object.getPrototypeOf,d=b&&b(b(c([])));d&&d!==l&&H.call(d,y)&&(e=d);var n=B.prototype=Q.prototype=Object.create(e);function p(r){["next","throw","return"].forEach((function(T){I(r,T,(function(r){return this._invoke(T,r)}))}))}function Y(r,T){function l(F,y,P,X){var I=_(r[F],r,y);if("throw"!==I.type){var R=I.arg,t=R.value;return t&&"object"==typeof t&&H.call(t,"__await")?T.resolve(t.__await).then((function(r){l("next",r,P,X)}),(function(r){l("throw",r,P,X)})):T.resolve(t).then((function(r){R.value=r,P(R)}),(function(r){return l("throw",r,P,X)}))}X(I.arg)}var F;this._invoke=function(r,H){function y(){return new T((function(T,F){l(r,H,T,F)}))}return F=F?F.then(y,y):y()}}function s(r,l){var H=r.iterator[l.method];if(H===T){if(l.delegate=null,"throw"===l.method){if(r.iterator.return&&(l.method="return",l.arg=T,s(r,l),"throw"===l.method))return U;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return U}var F=_(H,r.iterator,l.arg);if("throw"===F.type)return l.method="throw",l.arg=F.arg,l.delegate=null,U;var y=F.arg;return y?y.done?(l[r.resultName]=y.value,l.next=r.nextLoc,"return"!==l.method&&(l.method="next",l.arg=T),l.delegate=null,U):y:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,U)}function v(r){var T={tryLoc:r[0]};1 in r&&(T.catchLoc=r[1]),2 in r&&(T.finallyLoc=r[2],T.afterLoc=r[3]),this.tryEntries.push(T)}function S(r){var T=r.completion||{};T.type="normal",delete T.arg,r.completion=T}function j(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(v,this),this.reset(!0)}function c(r){if(r){var l=r[y];if(l)return l.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var F=-1,P=function l(){for(;++F<r.length;)if(H.call(r,F))return l.value=r[F],l.done=!1,l;return l.value=T,l.done=!0,l};return P.next=P}}return{next:$}}function $(){return{value:T,done:!0}}return q.prototype=B,I(n,"constructor",B),I(B,"constructor",q),q.displayName=I(B,X,"GeneratorFunction"),r.isGeneratorFunction=function(r){var T="function"==typeof r&&r.constructor;return!!T&&(T===q||"GeneratorFunction"===(T.displayName||T.name))},r.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,B):(r.__proto__=B,I(r,X,"GeneratorFunction")),r.prototype=Object.create(n),r},r.awrap=function(r){return{__await:r}},p(Y.prototype),I(Y.prototype,P,(function(){return this})),r.AsyncIterator=Y,r.async=function(T,l,H,F,y){void 0===y&&(y=Promise);var P=new Y(R(T,l,H,F),y);return r.isGeneratorFunction(l)?P:P.next().then((function(r){return r.done?r.value:P.next()}))},p(n),I(n,X,"Generator"),I(n,y,(function(){return this})),I(n,"toString",(function(){return"[object Generator]"})),r.keys=function(r){var T=[];for(var l in r)T.push(l);return T.reverse(),function l(){for(;T.length;){var H=T.pop();if(H in r)return l.value=H,l.done=!1,l}return l.done=!0,l}},r.values=c,j.prototype={constructor:j,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=T,this.done=!1,this.delegate=null,this.method="next",this.arg=T,this.tryEntries.forEach(S),!r)for(var l in this)"t"===l.charAt(0)&&H.call(this,l)&&!isNaN(+l.slice(1))&&(this[l]=T)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var l=this;function F(H,F){return X.type="throw",X.arg=r,l.next=H,F&&(l.method="next",l.arg=T),!!F}for(var y=this.tryEntries.length-1;y>=0;--y){var P=this.tryEntries[y],X=P.completion;if("root"===P.tryLoc)return F("end");if(P.tryLoc<=this.prev){var I=H.call(P,"catchLoc"),R=H.call(P,"finallyLoc");if(I&&R){if(this.prev<P.catchLoc)return F(P.catchLoc,!0);if(this.prev<P.finallyLoc)return F(P.finallyLoc)}else if(I){if(this.prev<P.catchLoc)return F(P.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return F(P.finallyLoc)}}}},abrupt:function(r,T){for(var l=this.tryEntries.length-1;l>=0;--l){var F=this.tryEntries[l];if(F.tryLoc<=this.prev&&H.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var y=F;break}}y&&("break"===r||"continue"===r)&&y.tryLoc<=T&&T<=y.finallyLoc&&(y=null);var P=y?y.completion:{};return P.type=r,P.arg=T,y?(this.method="next",this.next=y.finallyLoc,U):this.complete(P)},complete:function(r,T){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&T&&(this.next=T),U},finish:function(r){for(var T=this.tryEntries.length-1;T>=0;--T){var l=this.tryEntries[T];if(l.finallyLoc===r)return this.complete(l.completion,l.afterLoc),S(l),U}},catch:function(r){for(var T=this.tryEntries.length-1;T>=0;--T){var l=this.tryEntries[T];if(l.tryLoc===r){var H=l.completion;if("throw"===H.type){var F=H.arg;S(l)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(r,l,H){return this.delegate={iterator:c(r),resultName:l,nextLoc:H},"next"===this.method&&(this.arg=T),U}},r}(r.exports);try{regeneratorRuntime=T}catch(r){"object"==typeof globalThis?globalThis.regeneratorRuntime=T:Function("r","regeneratorRuntime = r")(T)}},8384:r=>{r.exports=class{static get hr(){return"2.0.33"}static get Ur(){return 1}static get Qr(){return 5}static get qr(){return 5}static get Lr(){return"https://authentication.urban-vpn.com"}static get Mr(){return"https://analytics-toolbar.urban-vpn.com"}static get Br(){return"/tickets"}static get Vr(){return"/install"}static get nr(){return`/configuration?pv=${this.hr}`}static get br(){return!1}static get er(){return!0}static get Kr(){return!1}static get Jr(){return!1}static get tr(){return!0}static get Gr(){return!0}static get Dr(){return!0}static get dr(){return!0}static get kr(){return!1}static get Or(){return!1}}},3326:(r,T,l)=>{const H=l(5364),F=l(1568);r.exports=class{constructor(r){this.id=r,this.init=!1,this.InspectorConfig=null,this.hasActiveAdblock=!1}Init(r){return this.InspectorConfig=r,!this.init&&this.InspectorConfig&&this.InspectorConfig.active&&(this.init=!0,setTimeout(this.CheckForActiveAdblocker.bind(this),1e3*this.GetAgentActivationTimeout())),this.init}CheckForActiveAdblocker(){document.readyState===F.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.CheckAdblockerActivityStatus.bind(this)):document.readyState!==F.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==F.DOCUMENT_READYSTATE_COMPLETE||this.CheckAdblockerActivityStatus()}CheckAdblockerActivityStatus(){let r=this.CreateDumpAdElements(),T=r.length,l=0;for(;0!==T||this.hasActiveAdblock;){T-=1;let H=setTimeout((()=>{this.CheckAndRemoveTestAd(r[l]),l+=1,H&&clearTimeout(H)}),1e3*this.GetAdblockerAdRemovingTimeout())}}IsElementHidden(r){return!!r&&0===r.offsetHeight}CreateDumpAdElements(){let r=this.GetAdblockerDetectingSrcPatterns();return r&&r.length||(r=[""]),r.map((r=>{let T=document.createElement("iframe");return T.innerHTML="&nbsp;",T.className=this.GetAdblockerDetectionClassName(),T.style.position="absolute",T.style.visibility="hidden",T.style.zIndex="-9999",r&&(T.src=r),document.body.appendChild(T),T}))}CheckAndRemoveTestAd(r){let T={};T.hasActiveAdblock=this.IsElementHidden(r),r.remove(),H.SendAdBlockInspectorAgentReport(this.id,T,null)}GetAdblockerDetectionClassName(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionClassName}GetAdblockerDetectingSrcPatterns(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionSrcPatterns}GetAgentActivationTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.agentActivationTimeoutSec}GetAdblockerAdRemovingTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.adRemovingTimeoutSec}}},3522:(r,T,l)=>{const H=l(8384),F=l(1568),y=l(2880),P=l(5364);r.exports=class{constructor(r,T){this.id=r,this.IOManager=T,this.init=!1,this.tabId=null,this.status=y.GetDefaultAdblockerStatus(),this.excludeList={domains:[],pages:[]},this.IOManager&&(this.IOManager.onAdBlockerStatusChanged=this.onAdBlockerStatusChanged.bind(this),this.IOManager.onAdBlockerSetHiddenAmount=this.SetHiddenAmount.bind(this))}GetStatus(){return this.status}Init(r,T,l){return!this.init&&H.tr&&(this.tabId=l,this.status=r,this.excludeList=T,this.init=!0),this.init}onAdBlockerStatusChanged(r){this.status=r}SetHiddenAmount(r){r>0&&P.SendHiddenAdCandidatesAmount(this.id,r)}IsEnabled(){return this.init&&H.tr&&this.status[F.ADBLOCKER_FOR_DISPLAY]===F.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForFacebook(){return this.init&&H.tr&&this.status[F.ADBLOCKER_FOR_FACEBOOK]===F.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTwitter(){return this.init&&H.tr&&this.status[F.ADBLOCKER_FOR_TWITTER]===F.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForReddit(){return this.init&&H.tr&&this.status[F.ADBLOCKER_FOR_REDDIT]===F.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForPinterest(){return this.init&&H.tr&&this.status[F.ADBLOCKER_FOR_PINTEREST]===F.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForInstagram(){return this.init&&H.tr&&this.status[F.ADBLOCKER_FOR_INSTAGRAM]===F.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTiktok(){return this.init&&H.tr&&this.status[F.ADBLOCKER_FOR_TIKTOK]===F.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForLinkedin(){return this.init&&H.tr&&this.status[F.ADBLOCKER_FOR_LINKEDIN]===F.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsConfigUseLocal(){return this.init&&this.status[F.USE_LOCAL_CONFIG]===F.ADBLOCKER_STATUS_ENABLED}GetCurrentDomain(){return window.location.origin}GetCurrentPageUrl(){return window.location.href}IsExcluded(){return this.IsExcludedByDomainRule()||this.IsExcludedByPageRule()}IsNotExcluded(){return!this.IsExcluded()}IsExcludedByDomainRule(){return-1!==this.excludeList.domains.indexOf(this.GetCurrentDomain())}IsExcludedByPageRule(){return-1!==this.excludeList.pages.indexOf(this.GetCurrentPageUrl())}IsElementHidden(r){return"hidden"===r.getAttribute(F.ATTRIBUTE_BIS_HIDE_STATUS)}}},9346:(r,T,l)=>{const H=l(9358),F=l(533),y=l(2880),P=l(1568),X=l(8384);r.exports=class extends F{constructor(r){super(),this.id=r,this.active=!1,this.candidates=[],this.hiddenAmount=0,this.pageUrl="",this.ticketId="",this.onPageRefreshed=null,this.isActive=!1,this.available=!1,this.elementId=0}getGlobalContainer(){}sendAdCandidatesToBackground(){}getUniqueContentId(){}get CandidatesCount(){return this.candidates.length}get Candidates(){return this.candidates}get HiddenAmount(){return this.hiddenAmount}get PageUrl(){return this.pageUrl}get TicketId(){return this.ticketId}get IsActive(){return this.active}Activated(){this.active=!0}CandidateHidden(){this.hiddenAmount=this.hiddenAmount+1}ClearHiddenCounter(){this.hiddenAmount=0}ClearCandidates(){this.candidates=[]}AddCandidate(r){this.candidates.push(r)}PageRefreshed(r,T){this.pageUrl=r,this.ticketId=T,this.onPageRefreshed&&this.onPageRefreshed(r,T)}getSponsorTwitterScreenName(r){let T=this.getSponsorPageRelativeUrl(r),l=T.lastIndexOf("/")+1;return T.substring(l)}getSponsorRedditScreenName(r){let T=this.getSponsorScreenNameReddit(r);return T?T.replace(/^.*\/user\//gi,"").replace(/\/.*/gi,""):""}getSponsorPageRelativeUrl(r){let T="",l=r.querySelectorAll("a");if(l.length){T=l[0].getAttribute("href");let r=l[0].getBoundingClientRect().x;l.forEach((l=>{l.getBoundingClientRect().x<r&&(T=l.getAttribute("href"),r=l.getBoundingClientRect().x)}))}return T}getSponsorScreenNameReddit(r){let T,l=Array.from(r.querySelectorAll("a[href]"));for(let r of l){const l=new RegExp(/^\/user\/.*/),H=r.getAttribute("href");if(H&&l.test(H)){T=H.replace(/\/user\//,"").replace(/\/.*/,"");break}}return T}get Context(){return this}getAdTwitterObject(r,T,l,F){let P=y.SetFullSizeToElement(T),X=y.GetCookie("ct0");return{content:H.encode(r.outerHTML),screenName:this.getSponsorTwitterScreenName(r),stylesByElementBisId:F?{}:this.getStylesByElementsBisId(r),adPlacementType:l,size:P,userDataByScreenName:"",token:X}}getAdRedditObject(r,T,l,F){let P=y.SetFullSizeToElement(r);return{content:H.encode(T.outerHTML),screenName:this.getSponsorRedditScreenName(T),adPlacementType:F,targetUrl:l,size:P}}getAdLinkedinObject(r,T,l,F,P,X,I=null){let R=y.SetFullSizeToElement(r);return{content:H.encode(T.outerHTML),socialAdvertiserUrl:P,advertiserName:X,advertiserUrl:"",adPlacementType:l,targetUrl:F,size:R,cookie:y.GetAllCookies(),uniqueDataId:I}}getAdPinterestObject(r,T,l,F,P,X,I){let R=y.SetFullSizeToElement(r),_=this.getUniqueContentId(T);return{content:H.encode(T.outerHTML),screenName:l,adPlacementType:I,targetUrl:F,size:R,adText:P,advertiserUrl:X,uniqueContentId:_}}getAdInstagramObject(r,T,l,F,P,X){let I=y.SetFullSizeToElement(r);return{content:H.encode(T.outerHTML),screenName:l,adPlacementType:X,targetUrl:F,size:I,aboutPageUrl:P}}setSizesAndIdForAllElements(r){if(r&&r.setAttribute){let T=this.getElementId();r.setAttribute(P.ATTRIBUTE_BIS_ELEMENT_ID,T),r.querySelectorAll("*").forEach((r=>{let T=this.getElementId();r.setAttribute&&(r.setAttribute(P.ATTRIBUTE_BIS_ELEMENT_ID,T),y.SetFullSizeToElement(r))}))}}isEmpty(r){return void 0===r||0===r.length}getElementId(){return this.elementId++}set setActive(r){"boolean"==typeof r&&(this.isActive=r)}set setAvailable(r){"boolean"==typeof r&&(this.available=r)}HideElement(r){r&&r.style&&(r.style.cssText+=P.STYLES_HIDE_ELEMENT,r.setAttribute(P.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}HideElementForInstagramFeedOnly(r){r&&r.style&&(r.firstElementChild.style.cssText+=P.STYLES_HIDE_INSTAGRAM_FEED_AD[0],r.style.cssText+=P.STYLES_HIDE_INSTAGRAM_FEED_AD[1],r.setAttribute(P.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}UnhideElement(r){if(r&&r.style){let T=r.style.cssText;T.includes(P.STYLES_HIDE_ELEMENT)&&(T=T.replace(P.STYLES_HIDE_ELEMENT,""),r.style.cssText=T)}}removeCloneElement(r){r.remove()}isCarousel(r){let T=r.querySelector("ul");return!!T&&T.offsetHeight>40}isVideo(r,T){return!(!r||!r.querySelectorAll(T).length)}doesElementExists(r){if(!r)return!1;let T=r.outerHTML;return document.querySelector("html").outerHTML.includes(T)}addRedBorderForCandidates(r){X.Kr&&(r.style.cssText+="border: 6px solid red !important;")}}},1153:(r,T,l)=>{const H=l(1568),F=l(2880),y=l(7235),P=l(3210),X=l(4430),I=l(855),R=l(97),_=l(4919),t=l(5465),D=l(2075),M=l(3375),V=l(9181),U=l(5849),Q=l(9203),q=l(1368);r.exports=class{constructor(r,T,l,H){if(this.id=r,this.Config=T,this.AdBlockerAgent=H,this.IOManager=l,this.PageUrl=document.location.href,this.FacebookAds=null,this.TwitterAds=null,this.RedditAds=null,this.SkinAds=null,this.HTML5Ads=null,this.VideoAds=null,this.PinterestAds=null,this.InstagramAds=null,this.LinkedinAds=null,this.TwitchAds=null,this.TiktokAds=null,this.IsBlacklistedPublisher=F.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),!this.IsBlacklistedPublisher)switch(!0){case F.IsFacebookUrl(this.PageUrl):this.FacebookAds=new R(this.id,this.Config,this.AdBlockerAgent);break;case F.IsTwitterUrl(this.PageUrl):this.TwitterAds=new _(this.id,this.Config,this.AdBlockerAgent);break;case F.IsRedditUrl(this.PageUrl):this.RedditAds=new t(this.id,this.Config,this.AdBlockerAgent);break;case F.IsTiktokUrl(this.PageUrl):this.TiktokAds=new U(this.id,this.Config,this.AdBlockerAgent);break;case F.IsPinterestUrl(this.PageUrl):this.PinterestAds=new D(this.id,this.Config,this.AdBlockerAgent);break;case F.IsInstagramUrl(this.PageUrl):this.InstagramAds=new M(this.id,this.Config,this.AdBlockerAgent);break;case F.IsLinkedinUrl(this.PageUrl):this.LinkedinAds=new V(this.id,this.Config,this.AdBlockerAgent);break;case F.IsTwitchUrl(this.PageUrl)&&this.Config.twitchConfig.COLLECT_INSTREAM_ADS:this.TwitchAds=new Q(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new P(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new X(this.id,this.Config,this.IOManager,this.AdBlockerAgent);break;case F.isAI(this.PageUrl,this.Config):this.AIManager=new q(this.id,this.Config,this.PageUrl);break;default:this.SkinAds=new y(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new P(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new X(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.VideoAds=new I(this.id,this.Config,this.IOManager)}}ActivateAdsdetectors(){this.IsBlacklistedPublisher||(document.readyState===H.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.StartAdsdetectors.bind(this)):document.readyState!==H.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==H.DOCUMENT_READYSTATE_COMPLETE||this.StartAdsdetectors())}StartAdsdetectors(){this.SkinAds&&this.SkinAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.BannerAds&&this.BannerAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.HTML5Ads&&this.HTML5Ads.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.VideoAds&&this.VideoAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.FacebookAds&&this.FacebookAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.TwitterAds&&this.TwitterAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.RedditAds&&this.RedditAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.PinterestAds&&this.PinterestAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.InstagramAds&&this.InstagramAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.LinkedinAds&&this.LinkedinAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER),this.TwitchAds&&this.TwitchAds.ActivateDetector(H.ACTIVATION_BY_ADS_MANAGER)}PageRefreshed(r,T){this.SkinAds&&this.SkinAds.PageRefreshed(r,T),this.BannerAds&&this.BannerAds.PageRefreshed(r,T),this.HTML5Ads&&this.HTML5Ads.PageRefreshed(r,T),this.VideoAds&&this.VideoAds.PageRefreshed(r,T),this.FacebookAds&&this.FacebookAds.PageRefreshed(r,T),this.TwitterAds&&this.TwitterAds.PageRefreshed(r,T),this.RedditAds&&this.RedditAds.PageRefreshed(r,T),this.PinterestAds&&this.PinterestAds.PageRefreshed(r,T),this.InstagramAds&&this.InstagramAds.PageRefreshed(r,T),this.LinkedinAds&&this.LinkedinAds.PageRefreshed(r,T),this.TiktokAds&&this.TiktokAds.PageRefreshed(r,T),this.TwitchAds&&this.TwitchAds.pageRefreshed(r,T),this.AIManager&&this.AIManager.pageRefreshed(r,T)}GetHtml5CandidatesPrebuildInfo(){return this.HTML5Ads&&this.HTML5Ads.IsActive?this.HTML5Ads.GetPrebuildInfo():[]}}},1104:(r,T,l)=>{const H=l(6882);r.exports=class{constructor(r,T){this.id=r,this.onGotWindowMessageCallback=T,this.mesToFrameDeactivationIntervalId=null}SetId(r){this.id=r}ActivateMesToFrameContentListener(r){this.mesToFrameDeactivationIntervalId||(this.mesToFrameDeactivationIntervalId=setInterval(this.CheckMesToFrameContent.bind(this),300),setTimeout(this.DeactivateMesToFrameContentListener.bind(this),3e3))}CheckMesToFrameContent(){try{let r=document.body.getAttribute("bis_mes_to_fr");if(r&&r){let T=JSON.parse(r);document.body.setAttribute("bis_mes_to_fr",""),H.IsValid(T)&&this.onGotWindowMessageCallback&&this.onGotWindowMessageCallback(T),this.DeactivateMesToFrameContentListener()}}catch(r){}}DeactivateMesToFrameContentListener(){this.mesToFrameDeactivationIntervalId&&(clearInterval(this.mesToFrameDeactivationIntervalId),this.mesToFrameDeactivationIntervalId=null)}}},3210:(r,T,l)=>{const H=l(8384),F=l(2880),y=l(9358),P=l(9346),X=l(5364),I=l(1568);r.exports=class extends P{constructor(r,T,l,H){super(r),this.Config=T,this.bannerAdsConfig=this.Config.BannerAdsConfig,this.IOManager=l,this.IOManager.onGotBannerCandidatesExtractionStatusesCallback=this.onGoBannerCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=H}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),350),setInterval((()=>{this.DetectCandidates()}),700)}PushCandidate(r,T){let l={bisId:T,content:y.encode(r)};this.AddCandidate(l)}IsValidCandidateSize(r){return r&&r.width>70&&r.height>40&&r.height<1100}SetBorderToCandidate(r){r&&H.Kr&&(H.Jr?r.style.cssText+=I.STYLES_BORDER_BANNER_URL_EXTRACTED:r.style.cssText+="border: 6px solid red !important;")}SendCandidatesToBackground(){this.Candidates.length&&X.SendAdCandidates(this.id,this.Candidates,I.MESSAGE_TYPE_CANDIDATES_DATA_BANNERS,null)}DetectCandidates(){this.ClearCandidates();let r=F.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.FULL_IMG_COLLECTION);for(let T=0;T<r.length;T++){let l=r[T];if(!l)continue;let H=l.src.toLowerCase(),y=this.getTagWithHref(l);if(!y)continue;let P=y.href.toLowerCase(),X=!1;if((!this.filterNonAdBanner(l)||this.isRedirectInHref(y))&&(F.IsInFilterList(this.Config.BlacklistBannerHref,P)||F.IsInFilterList(this.Config.BlacklistBannerImgSrc,H)||l.hasAttribute("bis_skin_element")||(F.isValidUrl(H)&&F.isValidUrl(P)||F.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,H)||F.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,P))&&(X=!0),X)){let r=l.getBoundingClientRect();if(this.IsValidCandidateSize(r)){this.SetBorderToCandidate(l),F.SetFullSizeToElement(l),F.SetFullSizeToElement(y);let r=F.GenerateAndSetBisIdToBanner(l);this.PushCandidate(y.outerHTML,r)}}}let T=F.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.ON_EVENT_IMG_COLLECTION);for(let r=0;r<T.length;r++){let l=T[r],H=l.src.toLowerCase();if(!F.IsInFilterList(this.Config.BlacklistBannerImgSrc,H)&&(F.isValidUrl(H)&&!F.IsUrlFromHost(document.location.host,H)||F.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,H))){let r=l.getBoundingClientRect();if(this.IsValidCandidateSize(r)){this.SetBorderToCandidate(l),F.SetFullSizeToElement(l);let r=F.GenerateAndSetBisIdToBanner(l);this.PushCandidate(l.outerHTML,r)}}}this.SendCandidatesToBackground()}filterNonAdBanner(r){let T=window.location.host||"__NULL__",l=r.src.toLowerCase(),H=l.match(/\/\/(www\.)?[A-Za-z0-9.]+/),y=this.getTagWithHref(r),P=y?y.href.match(/\/\/(www\.)?[A-Za-z0-9.]+/):"",X=document.querySelector("head").outerHTML,I=F.IsUrlFromHost(T,y.href);return P=P?P[0].replace("//",""):"",H=H?H[0].replace("//",""):"__NULL__",T=0===T.indexOf("www")?T.replace("www.",""):T,I||X.includes(P)||l.includes(T)&&I||-1!==l.search(/^data/)}isRedirectInHref(r){let T=r.href;return!!T&&T.search(/=https?/)>0}onGoBannerCandidatesExtractionStatuses(r){if(H.Kr&&H.Jr&&r&&r.length)for(let T=0;T<r.length;T++){let l=F.QuerySelector(document,`*[bis_id="${r[T].bannerId}"]`);l&&F.UpdateCandidateStatusBorderColor(l,r[T].extractionStatus)}}getTagWithHref(r){let T=r.parentElement;for(let r=0;r<5&&"A"!==T.tagName;r++)T=T.parentElement;return"A"!==T.tagName&&(T=null),T}}},1245:(r,T,l)=>{l(1568);const H=l(9358);r.exports=class{constructor(r,T){this.id=r,this.configEncoded=T,this.config=JSON.parse(H.decode(T)),this.counterTriesToSave=0,this.SaveToStorageConfig()}GetConfigEncoded(){return this.configEncoded}get BlacklistPublishers(){return this.config.filterLists.blacklistPublishers}get BlacklistBannerImgSrc(){return this.config.filterLists.blacklistBannerImgSrc}get BlacklistBannerHref(){return this.config.filterLists.blacklistBannerHref}get BlacklistIframeSrc(){return this.config.filterLists.blacklistIframeSrc}get BlacklistIframeId(){return this.config.filterLists.blacklistIframeId}get WhitelistCandidatesUrlKeyWords(){return this.config.filterLists.whitelistCandidatesUrlKeyWords}get WhitelistRedirectionCode(){return this.config.filterLists.whitelistRedirectionCode}GetVideoValidatorsForHTML(){return this.config.videoValidatorsForHTML}GetVideoValidatorsForJS(){return this.config.videoValidatorsForJS}GetVideoValidatorsForXHR(){return this.config.videoValidatorsForXHR}get FacebookConfig(){return this.config.facebookConfig}get TwitterConfig(){return this.config.twitterConfig}get RedditConfig(){return this.config.redditConfig}get PinterestConfig(){return this.config.pinterestConfig}get LinkedinConfig(){return this.config.linkedinConfig}get TiktokConfig(){return this.config.tiktokConfig}get GetInstagramConfig(){return this.config.instagramConfig}GetAdBlockInspectorConfig(){return this.config.adBlockInspectorConfig}get BannerAdsConfig(){return this.config.bannerAdsConfig}get Html5AdsConfig(){return this.config.HTML5AdsConfig}get pr(){return this.config.aiMessagesConfig||{}}get Yr(){return this.pr.CLAUDE}get sr(){return this.pr.GROK}get vr(){return this.pr.CHATGPT}get Sr(){return this.pr.COPILOT}get jr(){return this.pr.PERPLEXITY}get cr(){return this.pr.META_AI}get $r(){return this.pr.DEEPSEEK}get Cr(){return this.pr.GEMINI}get BlacklistTargetUrl(){return this.config.filterLists.blacklistTargetUrl}get BlacklistKeyWordsInContent(){return this.config.filterLists.blacklistKeyWordsInContent}GetHtml5TargetUrlDetectionConfig(){return this.config.html5TargetUrlDetectionConfig}get twitchConfig(){return this.config.twitchConfig}static get CheckBisDataExist(){try{return!!sessionStorage.getItem("bis_data")}catch(r){return null}}SaveToStorageConfig(){const r=JSON.stringify({id:this.id,config:this.config});sessionStorage.setItem("bis_data",r),this.counterTriesToSave++}get amountTriesSaveConfig(){return this.counterTriesToSave}}},5364:(r,T,l)=>{const H=l(1568),F=l(6882),y=l(2880);class P{constructor(r,T){this.id=r,this.init=!1,this.onGotHTML5CandidatesExtractionStatusesCallback=null,this.onGotSkinAdCandidatesExtractionStatusesCallback=null,this.onGotBannerCandidatesExtractionStatusesCallback=null,this.manualSendTicket=null,this.onGotVideoXHRTrafficCallback=null,this.onGotTwitchVideoInstreamDataCallback=null,this.onAdBlockerStatusChanged=null,this.onAdBlockerSetHiddenAmount=null,this.onTabUrlChanged=null,this.twitterVideoInfoCandidates=[],this.twitterAdCandidate=[],this.ConfigAgent=T}IsInit(){return this.init}Init(){this.init||(this.init=!0,window.addEventListener("message",(r=>{try{let T=r.data;if(F.IsValid(T)){const r=T.type;switch(r){case H.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE:this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(T.content);break;case H.MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA:this.onGotTwitchVideoInstreamDataCallback&&this.onGotTwitchVideoInstreamDataCallback(T.content);break;case H.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA:P.SendFBInStreamData(this.id,T.content);break;case H.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA:y.IsFBVideoDataValid(T.content)&&P.SendFBVideoData(this.id,T.content);break;case H.MESSAGE_TYPE_PINTEREST_VIDEO_DATA:P.SendPinterestVideoData(this.id,T.content);break;case H.MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA:case H.MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES:case H.MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA:case H.MESSAGE_TYPE_INSTAGRAM_STORY_DATA:P.SendInstagramDataToBgStorage(this.id,T.content,r);break;case H.MESSAGE_TYPE_LINKEDIN_VIDEO_DATA:case H.MESSAGE_TYPE_LINKEDIN_SLIDES_DATA:P.SendLinkedinDataToBgStorage(this.id,T.content,r);break;case H.MESSAGE_TYPE_TWITTER_VIDEO_DATA:P.SendTWVideoData(this.id,T.content);break;case H.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA:P.SendTWCarouselData(this.id,T.content);break;case H.MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES:P.SendTiktokDataToBgStorage(this.id,T.content,r),this.SetAdBlockerHiddenAmount(1);break;case H.MESSAGE_TYPE_REDDIT_VIDEO_DATA:P.SendRedditVideoData(this.id,T.content);break;case H.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA:P.SendRedditRightColumnData(this.id,T.content);break;case H.MESSAGE_TYPE_CLAUDE_DATA:P.sendAIMessageCandidates(this.id,T.content,H.MESSAGE_TYPE_CLAUDE_DATA);break;case H.MESSAGE_TYPE_CHATGPT_DATA:P.sendAIMessageCandidates(this.id,T.content,H.MESSAGE_TYPE_CHATGPT_DATA),this.manualSendTicket&&this.manualSendTicket();break;case H.MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS:chrome.storage.local.get("panelAIFeatures").then((r=>{window.postMessage({type:H.MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS_RESPONSE,content:"on"===r.panelAIFeatures},"*")}));break;case H.MESSAGE_TYPE_DEEPSEEK_DATA:P.sendAIMessageCandidates(this.id,T.content,H.MESSAGE_TYPE_DEEPSEEK_DATA);break;case H.MESSAGE_TYPE_COPILOT_DATA:P.sendAIMessageCandidates(this.id,T.content,H.MESSAGE_TYPE_COPILOT_DATA);break;case H.MESSAGE_TYPE_PERPLEXITY_DATA:P.sendAIMessageCandidates(this.id,T.content,H.MESSAGE_TYPE_PERPLEXITY_DATA);break;case H.MESSAGE_TYPE_META_AI_DATA:P.sendAIMessageCandidates(this.id,T.content,H.MESSAGE_TYPE_META_AI_DATA);break;case H.MESSAGE_TYPE_GEMINI_DATA:P.sendAIMessageCandidates(this.id,T.content,H.MESSAGE_TYPE_GEMINI_DATA);break;case H.MESSAGE_TYPE_GROK_DATA:P.sendAIMessageCandidates(this.id,T.content,H.MESSAGE_TYPE_GROK_DATA);break;case H.MESSAGE_TYPE_CONFIG_NOT_FOUND:this.ConfigAgent.SaveToStorageConfig(),this.sendResponseConfigSaved()}}}catch(r){}}),!1),y.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((r=>{let T=r;if(F.IsValid(T))if(T.to===this.id)T.type===H.MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES?this.onGotHTML5CandidatesExtractionStatusesCallback&&this.onGotHTML5CandidatesExtractionStatusesCallback(T.content):T.type===H.MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES?this.onGotBannerCandidatesExtractionStatusesCallback&&this.onGotBannerCandidatesExtractionStatusesCallback(T.content):T.type===H.MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES?this.onGotSkinAdCandidatesExtractionStatusesCallback&&this.onGotSkinAdCandidatesExtractionStatusesCallback(T.content):T.type===H.MESSAGE_TYPE_TAB_URL_CHANGED?this.onTabUrlChanged&&this.onTabUrlChanged(T.content):T.type===H.MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED&&this.onAdBlockerStatusChanged&&this.onAdBlockerStatusChanged(T.content);else if(T.type===H.MESSAGE_TYPE_CHATGPT_PROTECTION_CLEAR_TIMEOUT){const r={type:H.MESSAGE_TYPE_CHATGPT_PROTECTION_CLEAR_TIMEOUT,result:T.content};window.postMessage(r,"*")}else if(T.type===H.MESSAGE_TYPE_CHATGPT_PROTECTION_NO_WARNINGS){const r={type:H.MESSAGE_TYPE_CHATGPT_PROTECTION_NO_WARNINGS,result:T.content};window.postMessage(r,"*")}})))}SetAdBlockerHiddenAmount(r){this.onAdBlockerSetHiddenAmount&&this.onAdBlockerSetHiddenAmount(r)}SendTicket(r){let T=F.EmptyMessage;T.type=H.MESSAGE_TYPE_OUT_TICKET,T.from=this.id,T.to="bg",T.content=r,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(T).then(this.onTicketSend.bind(this)).catch((()=>{}))}onTicketSend(r){r&&r.status}static SendHiddenAdCandidatesAmount(r,T){let l=F.EmptyMessage;l.type=H.MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT,l.from=r,l.to="bg",l.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}static SendInitMes(r,T){let l=F.EmptyMessage;l.type=H.MESSAGE_TYPE_TAB_INITIALIZATION,l.to="bg",l.content=r,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).then((r=>{r&&r.config&&T&&T(r.config)})).catch((()=>{}))}static SendSinglePageReinitMes(r){let T=F.EmptyMessage;T.type=H.MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION,T.to="bg",T.content=r,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(T).catch((()=>{}))}static SendNewPageCreatedTicket(r){let T=F.EmptyMessage;T.type=H.MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET,T.to="bg",T.content=r,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(T).catch((()=>{}))}static SendPanelRegulatorResult(r){let T=F.EmptyMessage;T.type=H.MESSAGE_TYPE_PANEL_REGULATOR_RESULT,T.to="bg",T.content=r,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(T).catch((()=>{}))}static SendMesToBackground(r,T,l,H){let P=F.EmptyMessage;P.type=T,P.from=r,P.to="bg",P.content=l,y.IsOnChromeRuntime()&&(H?chrome.runtime.sendMessage(P).then(H).catch((()=>{})):chrome.runtime.sendMessage(P).catch((()=>{})))}static SendAdCandidates(r,T,l,H){P.SendMesToBackground(r,l,T,H)}static sendAIMessageCandidates(r,T,l){P.SendMesToBackground(r,l,T)}static SendCandidatePlacementsCount(r,T,l,H){P.SendMesToBackground(r,l,T,H)}static SendHtml5CandidatePlacements(r,T,l){P.SendMesToBackground(r,H.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5,T,l)}static SendAdBlockInspectorAgentReport(r,T){P.SendMesToBackground(r,H.MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT,T,null)}static SendTWVideoData(r,T){P.SendMesToBackground(r,H.MESSAGE_TYPE_TWITTER_VIDEO_DATA,T,null)}static SendTWCarouselData(r,T){P.SendMesToBackground(r,H.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA,T,null)}static SendRedditVideoData(r,T){P.SendMesToBackground(r,H.MESSAGE_TYPE_REDDIT_VIDEO_DATA,T,null)}static SendRedditRightColumnData(r,T){P.SendMesToBackground(r,H.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA,T,null)}static SendVideoHar(r,T){let l=F.EmptyMessage;l.type=H.MESSAGE_TYPE_VIDEO_HAR,l.from=r,l.to="bg",l.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}SendTwitchInstreamData(r,T){let l=F.EmptyMessage;l.type=H.MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH,l.from=r,l.to="bg",l.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}static SendFBVideoData(r,T){let l=F.EmptyMessage;l.type=H.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA,l.from=r,l.to="bg",l.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}static SendPinterestVideoData(r,T){let l=F.EmptyMessage;l.type=H.MESSAGE_TYPE_PINTEREST_VIDEO_DATA,l.from=r,l.to="bg",l.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}static SendInstagramDataToBgStorage(r,T,l){let H=F.EmptyMessage;H.type=l,H.from=r,H.to="bg",H.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(H).catch((()=>{}))}static SendTiktokDataToBgStorage(r,T,l){let H=F.EmptyMessage;H.type=l,H.from=r,H.to="bg",H.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(H).catch((()=>{}))}static SendLinkedinDataToBgStorage(r,T,l){let H=F.EmptyMessage;H.type=l,H.from=r,H.to="bg",H.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(H).catch((()=>{}))}static SendInstagramFullTextData(r,T,l){let H=F.EmptyMessage;H.type=l,H.from=r,H.to="bg",H.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(H).catch((()=>{}))}static SendFBInStreamData(r,T){let l=F.EmptyMessage;T.encodedText=T.content,T.alias=H.VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON,T.mediaType=H.VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON,T.frameId=0,T.framesChain=[],T.contentType="json",delete T.content,l.type=H.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA,l.from=r,l.to="bg",l.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}static SendInitRequestListener(r,T){let l=F.EmptyMessage;l.type=H.MESSAGE_TYPE_INIT_REQUEST_LISTENER,l.from=r,l.to="bg",l.content=T,y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}sendResponseConfigSaved(){if(this.ConfigAgent.amountTriesSaveConfig>4)return;let r=F.EmptyMessage;r.type=H.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,window.postMessage(r,"*")}}r.exports=P},8229:(r,T,l)=>{const H=l(2880);r.exports=class{constructor(r,T,l,H){this.init=!1,this.Config=H,this.chainId=r,this.frameId=T,this.bisId=l,this.documentObj=null,this.onInputsDetectedCallback=null,this.onRedirectsDetectedCallback=null,this.detectedValidationInfo={inputs:!1,redirect:!1}}Init(r,T,l){return!this.init&&r&&(this.init=!0,this.fullIdStr=H.GetFullIdStr(this.chainId,this.frameId,this.bisId),this.documentObj=r,this.onInputsDetectedCallback=T,this.onRedirectsDetectedCallback=l,this.ValidateContent()),this.init}ValidateContent(){if(!this.detectedValidationInfo.inputs){this.GetInputsAmount()>0&&!this.IsIFrameWithInputsException()&&(this.detectedValidationInfo.inputs=!0,this.onInputsDetectedCallback&&this.onInputsDetectedCallback())}this.detectedValidationInfo.redirect||this.HasRedirect()&&(this.detectedValidationInfo.redirect=!0,this.onRedirectsDetectedCallback&&this.onRedirectsDetectedCallback())}GetInputsAmount(){let r=0;try{let T=H.QuerySelectorAll(this.documentObj,"input");T&&T.length&&T.forEach((T=>{let l=T.getBoundingClientRect();l.width>0&&l.height>0&&(r+=1)}))}catch(r){}return r}IsIFrameWithInputsException(){let r=!1,T=H.QuerySelector(this.documentObj,"html");return T&&-1!==T.innerHTML.search(/var clicktag/i)&&(r=!0),r}IsWhiteListedRedirectionCode(r){let T=!1;try{if(r&&r.length&&this.Config){let l=this.Config.WhitelistRedirectionCode;for(let H=0;H<l.length&&!T;H++)r.includes(l[H])&&(T=!0)}}catch(r){}return T}HasRedirect(){let r=!1,T=H.QuerySelectorAll(this.documentObj,"script");for(let l=0;l<T.length&&!r;l++){let H=T[l].innerHTML;H.length&&H.includes("location.replace")&&(r=!this.IsWhiteListedRedirectionCode(H))}return r}}},3870:(r,T,l)=>{const H=l(9358),F=l(2880),y=l(6882),P=l(1568),X=l(4503),I=l(8229),R=l(9877),_=l(855),t=l(1245);class D{constructor(){this.id=null,this.frameId=null,this.chainId=null,this.fullIdStr="",this.init=!1,this.chainActivated=!1,this.finalFrame=!1,this.activated=!1,this.contentSenderTimer=null,this.activationInfo=null,this.IframesIO=null,this.TargetUrlDetector=null,this.ContentValidator=null,this.VideoAds=null,this.Config=null,this.recheckerInterval=null,this.PageUrl=document.location.href,this.counter=10,this.timeoutHandlerForBlockedFrame=null,this.isBlockedFrameInfoGot=!1}Init(){this.init||(this.init=!0,setTimeout(this.SendInitMessage.bind(this),700))}SetBisStatus(){document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_status","ok")}RecheckBisStatus(){document&&document.body&&document.body.getAttribute&&"ok"!==document.body.getAttribute("bis_status")&&this.SetBisStatus()}StopRechecker(){this.recheckerInterval&&(clearInterval(this.recheckerInterval),this.recheckerInterval=null)}SendInitMessage(){let r=document.querySelector("html"),T=r?r.innerHTML:"",l=y.EmptyMessage;l.type=P.MESSAGE_TYPE_IFRAME_INITIALIZATION,l.from=this.id,l.to="bg",l.content={location:document.location.href,contentForSave:{depth:this.findDepthForClosedFrame(window,0),src:document.location.href,content:H.encode(T)}},F.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).then(this.onGotInitMesResponse.bind(this)).catch((()=>{}))}findDepthForClosedFrame(r,T=0){const l=r.parent;return l&&l!==top?(T++,this.findDepthForClosedFrame(l,T)):T}onGotInitMesResponse(r){const T=r.mes.content.location;this.Config=new t(this.id,r.mes.content.configuration);const l=this.Config?.LinkedinConfig?.FEED.REGEXP_IFRAME_SRC;if(!l)throw new Error("Not found this.Config.LinkedinConfig.FEED.REGEXP_IFRAME_SRC in PosdFrameContent.onGotInitMesResponse");if(!0===new RegExp(l).test(T))this.linkedinScenario(r);else this.commonScenario(r)}commonScenario(r){if(r&&r.status&&"ok"===r.status&&y.IsValid(r.mes)&&r.mes.content.activeStatus&&(this.frameId=r.mes.content.frameId,this.fullIdStr=F.GetFullIdStr(this.chainId,this.frameId,this.id),r.mes.content.isMaster)){this.Config=new t(this.id,r.mes.content.configuration);const T=F.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),l=F.IsInFilterList(this.Config.BlacklistIframeSrc,this.PageUrl),H=F.IsInFilterList(this.Config.BlacklistKeyWordsInContent,document.querySelector("html").innerHTML);if(T||l||H)return;this.SetBisStatus(),setTimeout(this.StopRechecker.bind(this),1e4),this.recheckerInterval=setInterval(this.RecheckBisStatus.bind(this),300),this.IframesIO=new X(this.id),this.IframesIO.Init(),this.IframesIO.onGotChainActivationCallback=this.onGotChainActivation.bind(this),this.IframesIO.onGotContentMesCallback=this.onGotContentMes.bind(this),this.VideoAds=new _(this.id,this.Config,this.IframesIO,!T),document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_frame_id",this.frameId),"null"===self.origin&&(this.timeoutHandlerForBlockedFrame=setInterval((()=>{this.counter--,this.isBlockedFrameInfoGot||this.counter<=0?clearInterval(this.timeoutHandlerForBlockedFrame):this.requestHeaderInfoFromBG()}),1e3))}}linkedinScenario(r){if(!(r&&r.status&&"ok"===r.status&&y.IsValid(r.mes)))return;let T=document?.documentElement;if(!T)return;let l=T.querySelector("body");if(l){let r=1e3;l.setAttribute(P.ATTRIBUTE_BIS_ELEMENT_ID,r),l.querySelectorAll("*").forEach((T=>{r++,T.setAttribute&&(T.setAttribute(P.ATTRIBUTE_BIS_ELEMENT_ID,r),F.SetFullSizeToElement(T))}))}let H=setTimeout((()=>{let r=T.outerHTML,l=document.querySelector('span[class="ssplayer-topbar-title-text ssplayer-topbar-ellipsis"]')?.textContent;this.storeLinkedinFrameContent(r,l),clearTimeout(H)}),100)}storeLinkedinFrameContent(r,T){let l=y.EmptyMessage;l.type=P.MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE,l.from=this.id,l.to="bg",l.content={content:H.encode(r),title:T},F.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}requestHeaderInfoFromBG(){let r=y.EmptyMessage;r.type=P.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME,r.from=this.id,r.to="bg",r.content={src:document.location.href},F.IsOnChromeRuntime()&&(this.setMessageListenerForThisIFrame(),chrome.runtime.sendMessage(r).catch((()=>{})))}setMessageListenerForThisIFrame(){chrome.runtime.onMessage.addListener(this.callbackForHeaderInfoRequest.bind(this))}callbackForHeaderInfoRequest(r){let T=arguments.callee;if(r&&r.type&&r.type===P.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE){let l=r.parentInfo;if(chrome.runtime.onMessage.removeListener(T),l){this.isBlockedFrameInfoGot=!0;let r=R.DetectTargetUrlFromWindowObj(this.id,self,this.Config),T={depth:l.depth,headerInfo:l.headerInfo,chainId:l.chainId,configEncoded:this.Config.configEncoded,targetUrlCandidates:r.length?r:[]};this.onGotChainActivation(T)}}}onGotChainActivation(r){if(this.chainActivated)return null;if(this.chainActivated=!0,!(r&&r.headerInfo&&r.headerInfo.bisId))return null;this.id=r.headerInfo.bisId,this.IframesIO.SetId(this.id),this.chainId=r.chainId,this.fullIdStr=F.GetFullIdStr(this.chainId,this.frameId,this.id),this.StopRechecker(),this.activationInfo=r,this.Config||r.configEncoded&&r.configEncoded.length&&(this.Config=new t(this.id,r.configEncoded)),this.ContentValidator=new I(this.chainId,this.frameId,this.id,this.Config),this.ContentValidator.Init(document,this.onContentInputsDetected.bind(this),this.onContentRedirectsDetected.bind(this)),this.TargetUrlDetector=new R(this.chainId,this.frameId,this.id,this.activationInfo.targetUrlCandidates,this.Config),this.TargetUrlDetector.Init(this.IframesIO),D.SetBisId(document,window,this.id),F.SetBisDepth(document.body,r.depth),F.SetBisChainId(document.body,r.chainId),this.InjectJs();let T=setTimeout((()=>{this.onGotActivationMes(),clearTimeout(T)}),50)}onGotActivationMes(){if(!this.activated){this.activated=!0;var r=F.QuerySelectorAll(document,"iframe, frame");if(r.length)for(let T=0;T<r.length;T++){const l=r[T];if(F.SetFullSizeToElement(l,D.GetAbsoluteCoordinates(this.activationInfo)),F.GenerateAndSetBisIdToFrame(l),F.SetBisDepth(l,this.activationInfo.depth+1),F.SetBisChainId(l,this.activationInfo.chainId),F.IsIframeHasContentScript(r[T]))D.SendActivationMesToFrame(this.id,this.activationInfo.chainId,l,this.activationInfo.depth+1,this.Config);else{let r=D.GetInvalidChainSegmentContent(this.id,this.activationInfo.chainId,l,this.activationInfo.depth+1,this.Config);D.SendInvalidChainSegmentContent(this.id,r)}}this.TargetUrlDetector.DetectTargetUrl(1e3,this.onTargerUrlDetected.bind(this))}}onTargerUrlDetected(){if(!this.contentSenderTimer){let r=F.GetRandomIntInRange(0,200);this.contentSenderTimer=setTimeout(this.SendContent.bind(this),r)}}SendContent(){D.PrepareContent(this.fullIdStr,document,D.GetAbsoluteCoordinates(this.activationInfo)),D.RemoveInjectedJs(this.fullIdStr,document);let r=document.querySelector("html");if(!r)return;let T=r.outerHTML;if(T.length){let r=y.EmptyMessage;r.type=P.MESSAGE_TYPE_IFRAME_CONTENT,r.from=this.id,r.to="bg",r.content={isValid:!0,headerInfo:this.activationInfo.headerInfo,contentFinal:H.encode(T),targetUrl:this.TargetUrlDetector.FrameTargetUrl},F.IsOnChromeRuntime()&&chrome.runtime.sendMessage(r).catch((()=>{}))}}onGotChainActivationResponse(){}onGotContentMes(){}onContentInputsDetected(){this.IframesIO.SendInputsDetected()}onContentRedirectsDetected(){this.IframesIO.SendRedirectDetected()}static SetBisId(r,T,l){T&&(T.bis_id=l),r&&(r.bis_id=l),r.body&&r.body.setAttribute&&r.body.setAttribute("bis_body_id",l)}static RemoveInjectedJs(r,T){try{let r=T.head.querySelectorAll("script[bis_script]");if(r&&r.length)for(let T=0;T<r.length;T++)r[T].remove()}catch(r){}}static GetAbsoluteCoordinates(r){return{x:r.headerInfo.size.abs_x,y:r.headerInfo.size.abs_y}}static PrepareContent(r,T,l){for(var H=F.QuerySelectorAll(T,"*:not(html):not(script):not(head):not(meta):not(link):not(title):not(style):not(param)"),y=0;y<H.length;y++){var P=H[y];if(P)try{var X=!1,I=window.getComputedStyle(P).backgroundImage;if(I&&I.length&&"none"!=I&&I.includes("url")&&(I=I.replace(/"/g,"'"),X=!0),P.hasAttribute("style")){var R=P.getAttribute("style");R&&P.setAttribute&&(R=R.replace(/"/g,"'"),P.setAttribute("style",R),X&&(P.style.cssText+="background-image: "+I+";",P.setAttribute("bis_label","style")))}else X&&P.setAttribute&&(P.setAttribute("style","background-image: "+I+";"),P.setAttribute("bis_label","style"));try{if(P.attributes&&P.attributes.length)for(var _=0;_<P.attributes.length;_++)P.attributes[_]&&P.attributes[_].value&&P.attributes[_].value.length&&"src"!==P.attributes[_].name&&P.attributes[_].value.includes('"')&&(P.attributes[_].value=P.attributes[_].value.replace(/"/g,"'"))}catch(r){}F.SetFullSizeToElement(P,l)}catch(r){}}}static ExtractContent(r,T){return T.document.querySelector("html").outerHTML}static GetFrameHeaderInfo(r,T,l){let F={depth:l,chainId:r,frameId:T.id,src:T.src,size:JSON.parse(T.getAttribute("bis_size")),bisId:T.getAttribute("bis_id")};return 0===l&&(F.topHeaderContent=H.encode(T.outerHTML)),F}static SendActivationMesToFrame(r,T,l,X,I){let _=!1;try{const t=document.querySelector("body"),M=self===top?0:t?+t.getAttribute("bis_frame_id"):null;let V="";if(I&&I.GetConfigEncoded&&(V=I.GetConfigEncoded()),l){let t,U=y.EmptyMessage;try{t=l.contentWindow&&Object.keys(l.contentWindow).includes("origin")?l.contentWindow.origin:l.src}catch(r){t=l.src}U.type=P.MESSAGE_TYPE_CHAIN_ACTIVATION,U.from=r,U.to="fr",U.content={chainId:T,depth:X,headerInfo:D.GetFrameHeaderInfo(T,l,X),configEncoded:V,targetUrlCandidates:[]};let Q=y.EmptyMessage;if(Q.type=P.MESSAGE_TYPE_HEADER_INFO_TO_STORAGE,Q.from=r,Q.to="bg",Q.content={chainId:T,depth:X,frameId:M,headerInfo:D.GetFrameHeaderInfo(T,l,X)},F.IsOnChromeRuntime()&&chrome.runtime.sendMessage(Q).catch((()=>{})),F.IsIframeSecure(l)){if(l.contentWindow&&l.contentWindow.postMessage)try{l.contentWindow.postMessage(U,t)}catch(r){}}else{try{let T=R.DetectTargetUrlFromWindowObj(r,l.contentWindow,I);T.length&&(U.content.targetUrlCandidates=T)}catch(r){}l.contentWindow.document.body.setAttribute&&l.contentWindow.document.body.setAttribute("bis_activation",H.encode(JSON.stringify(U)))}_=!0}}catch(r){}return _}static GetInvalidChainSegmentContent(r,T,l,y,P){let X={},I=!1,_=D.GetFrameHeaderInfo(T,l,y),t={x:_.size.x,y:_.size.y};try{let M=F.QuerySelectorAll(l.contentWindow.document,"iframe, frame");if(0===M.length)I=!0;else{I=!1;for(let l=0;l<M.length;l++)F.SetFullSizeToElement(M[l],t),F.GenerateAndSetBisIdToFrame(M[l]),F.SetBisDepth(M[l],y+1),D.SendActivationMesToFrame(r,T,M[l],y+1,P)}D.PrepareContent(r,l.contentWindow.document,t),X.isValid=!1,X.isChainCompleted=I,X.headerInfo=_,X.contentFinal=H.encode(D.ExtractContent(r,l.contentWindow)),X.targetUrl=R.DetectTargetUrlFromWindowObj(r,l.contentWindow,P)}catch(r){}return X}static SendInvalidChainSegmentContent(r,T){if(T){let l=y.EmptyMessage;l.type=P.MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT,l.from=r,l.to="bg",l.content=T,F.IsOnChromeRuntime()&&chrome.runtime.sendMessage(l).catch((()=>{}))}}InjectJs(){if(document.querySelector('script[bis_script="display"]'))return;let r=document.createElement("script"),T=document.querySelector("head");this.setAttributes(r),T&&T.appendChild(r)}setAttributes(r){const T=F.getURL("../executors/frame.js");r.setAttribute("bis_use","true"),r.setAttribute("bis_script","display"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("bis_id",this.id),r.src=T}}r.exports=D},4430:(r,T,l)=>{const H=l(8384),F=l(2880),y=l(1568),P=l(9346),X=l(3870),I=l(5364);r.exports=class extends P{constructor(r,T,l,H){super(r),this.Config=T,this.HTML5AdsConfig=this.Config.Html5AdsConfig,this.IOManager=l,this.IOManager.onGotHTML5CandidatesExtractionStatusesCallback=this.onGotHTML5CandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=H,this.topFramesCandidates=[],this.onDetectedCallback=null,this.chainIdCounter=0,this.maxTriesForPreciseAds=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.MAX_TRIES_FIND_ADS}ActivateDetector(){this.Activated(),this.sequentialDetection().catch((()=>{}))}async sequentialDetection(){let r=await this.asyncStartDetectPreciseAds();this.startDetectCandidates(r)}startDetectCandidates(r){r?setInterval(this.startDetectPreciseAds.bind(this),600):setTimeout(this.sequentialDetection.bind(this),500)}startDetectPreciseAds(){this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter();let r=this.detectByQuerySelectors();if(!r.length)return void this.startDetectHTML5AdsCandidates();let T=0;for(let l=0;l<r.length;l++){const H=r[l];H.setAttribute&&(H.setAttribute(y.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(H,!0),this.addRedBorderForCandidates(H),T++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(H))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.startToProcessCandidates(T),this.startDetectHTML5AdsCandidates()}asyncStartDetectPreciseAds(){return new Promise((r=>{this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter(),this.maxTriesForPreciseAds<=0&&(this.maxTriesForPreciseAds--,r(!0));let T=this.detectByQuerySelectors();if(!T.length)return r(!1),void this.maxTriesForPreciseAds--;let l=0;for(let r=0;r<T.length;r++){const H=T[r];H.setAttribute&&(H.setAttribute(y.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(H,!0),this.addRedBorderForCandidates(H),l++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(H))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.maxTriesForPreciseAds--,this.startToProcessCandidates(l),r(T.length>0)}))}detectByQuerySelectors(){const r=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.QUERY_SELECTORS;let T=[];for(let l of r){let r=Array.from(F.QuerySelectorAll(document,`${l}:not([${y.ATTRIBUTE_BIS_PRECISE_AD}]):not([${y.ATTRIBUTE_BIS_SIZE}])`));r.length&&(T=T.concat(...r))}return T}startDetectHTML5AdsCandidates(){let r=F.QuerySelectorAll(document,this.HTML5AdsConfig.QUERIES.IFRAMES_COLLECTION),T=0;if(r.length){for(let l=0;l<r.length;l++){const H=r[l];if(H.getAttribute(y.ATTRIBUTE_BIS_PRECISE_AD))continue;let P=H.src?H.src.toLowerCase():H.src;this.preCheckFrameContent(H)&&(F.IsInFilterList(this.Config.BlacklistIframeSrc,P)||F.IsInFilterList(this.Config.BlacklistIframeId,H.id)?F.SetFullSizeToElement(H):!this.IsFrameFromSite(P)||F.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,P)?(this.buildCandidateObject(H,!1),T+=1,this.addRedBorderForCandidates(H)):F.SetFullSizeToElement(H))}T>0&&this.startToProcessCandidates(T)}}startToProcessCandidates(r){I.SendHtml5CandidatePlacements(this.id,r,null);for(let r=0;r<this.topFramesCandidates.length;r++)this.topFramesCandidates[r].status===y.CANDIDATE_PROCESS_STATUS_DETECTED&&(this.topFramesCandidates[r].status=y.CANDIDATE_PROCESS_STATUS_START_PROCESSING,setTimeout((()=>{this.ActivateCandidateProcessing(this.topFramesCandidates[r])}),3e3+F.GetRandomIntInRange(0,500)))}buildCandidateObject(r,T){let l=r.getBoundingClientRect();if(!T&&l.width<=70&&l.height<=40&&l.height>=1100)return;F.SetFullSizeToElement(r);let H=F.GenerateAndSetBisIdToFrame(r);this.chainIdCounter=this.chainIdCounter+1;let P={ticketId:this.TicketId,pageUrl:this.PageUrl,bisId:H,chainId:this.chainIdCounter,detectionTime:(new Date).getTime(),processingStartTime:null,frame:r,isSecure:F.IsIframeSecure(r),hasContentScript:F.IsIframeHasContentScript(r),status:y.CANDIDATE_PROCESS_STATUS_DETECTED};this.topFramesCandidates.push(P),F.SetBisDepth(r,0),F.SetBisChainId(r,this.chainIdCounter)}preCheckFrameContent(r){if(!r.contentDocument)return!0;const T=r.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.ACCEPTABLE_NODES_IN_IFRAME),l=r.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.UNACCEPTABLE_NODES_IN_IFRAME);let H=!1;return T.length&&!l.length&&(H=!0),H}onGotHTML5CandidatesExtractionStatuses(r){if(r&&r.length)for(let T=0;T<r.length;T++)if(this.AdBlockerAgent.IsEnabled()&&r[T].extractionStatus.filteredOut)this.UnhideElement(F.QuerySelector(document,`iframe[bis_chainid="${r[T].chainId}"]`));else if(H.Kr&&H.Jr){let l=F.QuerySelector(document,`iframe[bis_chainid="${r[T].chainId}"]`);l&&F.UpdateCandidateStatusBorderColor(l,r[T].extractionStatus)}}ActivateCandidateProcessing(r){if(r&&r.status&&r.status===y.CANDIDATE_PROCESS_STATUS_START_PROCESSING){r.processingStartTime=(new Date).getTime(),r.status=y.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED;let T=F.IsIframeSecure(r.frame);r.isSecure!==T&&(r.isSecure=T);let l=F.IsIframeHasContentScript(r.frame);if(r.hasContentScript!==l&&(r.hasContentScript=l),r.hasContentScript)X.SendActivationMesToFrame(this.id,r.chainId,r.frame,0,this.Config);else{let T=X.GetInvalidChainSegmentContent(this.id,r.chainId,r.frame,0,this.Config);if(H.Kr&&H.Jr&&T.isChainCompleted){let l={fullContentExtracted:!1,targetUrlExtracted:!1,sentToBackend:!1};T.contentFinal&&T.contentFinal.length&&(l.fullContentExtracted=!0),T.targetUrl&&T.targetUrl.length&&(l.targetUrlExtracted=!0),F.UpdateCandidateStatusBorderColor(r.frame,l)}X.SendInvalidChainSegmentContent(this.id,T)}}}GetPrebuildInfo(){let r=[],T=(new Date).getTime();for(let l=0;l<this.topFramesCandidates.length;l++)this.topFramesCandidates[l].status===y.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED&&(this.topFramesCandidates[l].status=y.CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT,r.push({ticketId:this.topFramesCandidates[l].ticketId,pageUrl:this.topFramesCandidates[l].pageUrl,bisId:this.topFramesCandidates[l].bisId,chainId:this.topFramesCandidates[l].chainId,timeAfterDetection:T-this.topFramesCandidates[l].detectionTime,timeAfterProcessingStart:T-this.topFramesCandidates[l].processingStartTime}));return r}IsFrameFromSite(r){let T=!1,l=r;if(l.length){let H=l.indexOf("?");H>0?l=r.substring(0,H):(H=l.indexOf("#"),H>0&&(l=r.substring(0,H))),-1!==l.indexOf(window.location.host)?T=!0:F.isValidUrl(l)||"about:blank"===l||(T=!0)}return T}}},4503:(r,T,l)=>{const H=l(6882),F=l(1568),y=l(2880),P=l(9358),X=l(1104);r.exports=class{constructor(r){this.id=r,this.init=!1,this.AtrMessageListeners=[],this.webNavigationIframes=[],this.chainActivationListernerIntervalId=null,this.onWindowEmbeddedTargetUrlDetectionCallback=null,this.onGotContentMesCallback=null,this.onGotChainActivationCallback=null,this.onGotVideoXHRTrafficCallback=null,this.chainActivationEventProcessed=!1,this.processedMessages=[]}IsInit(){return this.init}get Context(){return this}SetId(r){this.id=r,this.AtrMessageListener&&this.AtrMessageListener.SetId(r)}Init(){this.init||(this.init=!0,window.addEventListener("message",(r=>{try{var T=r.data;this.ProcessWindowMessage(T)}catch(r){}}),!1),y.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((r=>{var T=r;H.IsValid(T)&&(T.type===F.MESSAGE_TYPE_GET_FRAME_CONTENT?T.multiTo.includes(this.id)&&(this.webNavigationIframes=T.content,this.onGotContentMesCallback&&this.onGotContentMesCallback()):T.type===F.MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK&&T.multiTo.includes(this.id)&&this.ActivateWindowClickTargetUrlDetection(T.content))})),this.chainActivationListernerIntervalId=setInterval((()=>{try{if(!this.chainActivationEventProcessed&&document&&document.body){let r=document.body.getAttribute("bis_activation");if(r&&r.length){let T=P.decode(r);if("{"===T[0]&&"}"===T[T.length-1]){let r=JSON.parse(T);H.IsValid(r)&&r.type===F.MESSAGE_TYPE_CHAIN_ACTIVATION&&(this.chainActivationEventProcessed=!0,clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null,document.body.setAttribute("bis_activation","done"),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(r.content))}}document.body.removeAttribute("bis_activation")}}catch(r){}}),500))}ProcessWindowMessage(r){H.IsValid(r)&&r.posdHash&&!this.processedMessages.includes(r.posdHash)&&(r.posdHash&&r.posdHash.length&&this.processedMessages.push(r.posdHash),r.type===F.MESSAGE_TYPE_CHAIN_ACTIVATION?(this.chainActivationListernerIntervalId&&(clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(r.content)):r.type===F.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND?this.onWindowEmbeddedTargetUrlDetectionCallback&&this.onWindowEmbeddedTargetUrlDetectionCallback(r.content.targetUrlList):r.type===F.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND?(r.to="bg",y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(r).catch((()=>{}))):r.type===F.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE&&this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(r.content))}ActivateWindowEmbeddedTargetUrlDetection(r){try{this.onWindowEmbeddedTargetUrlDetectionCallback=r;let l=H.EmptyMessage;l.type=F.MESSAGE_TYPE_GET_WINDOW_TARGET_URL,l.from=this.id,l.to=this.id+"_w",window.postMessage&&window.postMessage(l,"*");var T=new X(this.id,this.ProcessWindowMessage.bind(this));T.ActivateMesToFrameContentListener(F.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND),this.AtrMessageListeners.push(T)}catch(r){}}ActivateWindowClickTargetUrlDetection(r){try{let l=H.EmptyMessage;l.type=F.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL,l.from=this.id,l.to=this.id+"_w",l.content=r,window.postMessage&&window.postMessage(l,"*");var T=new X(this.id,this.ProcessWindowMessage.bind(this));T.ActivateMesToFrameContentListener(F.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL),this.AtrMessageListeners.push(T)}catch(r){}}SendInputsDetected(){let r=H.EmptyMessage;r.type=F.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS,r.from=this.id,r.to="bg",y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(r).catch((()=>{}))}SendRedirectDetected(){let r=H.EmptyMessage;r.type=F.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS,r.from=this.id,r.to="bg",y.IsOnChromeRuntime()&&chrome.runtime.sendMessage(r).catch((()=>{}))}}},9700:(r,T,l)=>{l(1568);const H=l(2880);r.exports=class{#r;#T;#l;constructor(r){this.#r=r}injectDetector(r){if(this.#T=r.className,this.#l=r.fileName,document.head){let T=document.createElement("script");this.#H(T),r.injectBeforeFirstChild?document.head.insertBefore(T,document.head.firstChild):document.head.appendChild(T)}}#H(r){const T=H.getURL(`../executors/${this.#l}.js`);r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),r.src=T}}},3129:(r,T,l)=>{const H=l(2880),F=l(1568),y=l(7584),P=l(1153),X=l(5364),I=l(3522),R=l(3326),_=l(1245),t=l(7376);r.exports=class{constructor(){this.id=null,this.tabId=null,this.init=!1,this.panalyticsId="",this.adsCandidatesDetectionInterval=null,this.ticket=null,this.cycleNumber=0,this.RefreshTicket(),X.SendNewPageCreatedTicket(H.ToJSON(this.ticket))}RefreshTicket(){this.pageUrl=document.location.href,this.ticketId=H.GenerateUUID(),this.cycleNumber=0,this.ticket=y.GetSingleOutTicket(this.panalyticsId,this.ticketId,this.tabId),this.init&&this.AdsManager&&this.AdsManager.PageRefreshed(this.pageUrl,this.ticketId)}Init(){this.init||X.SendInitMes({ticketId:this.ticketId,url:this.pageUrl},this.onGetInitConfig.bind(this))}onGetInitConfig(r){return r.activeStatus?this.init?null:(this.init=!0,this.tabId=r.tabId,this.id="mp_"+r.tabId,this.panalyticsId=r.panalyticsId,this.ticket.tabId=this.tabId,this.ticket[F.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.Config=new _(this.id,r.configuration),this.IOManager=new X(this.id,this.Config),this.IOManager.onTabUrlChanged=this.onTabUrlChanged.bind(this),this.IOManager.manualSendTicket=this.prepareAndSendTicket.bind(this),this.IOManager.Init(),this.AdBlockerAgent=new I(this.id,this.IOManager),this.AdBlockerAgent.Init(r.adBlockerStatus,r.excludeList,r.tabId),this.AdsManager=new P(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.PanelsRegulator=new t(this.id),this.PanelsRegulator.Init(this.AdBlockerAgent,this.onGotRegulatorRespond.bind(this)),void(r.activeAdBlockInspectorAgent&&(this.AdBlockInspectorAgent=new R(this.id),this.AdBlockInspectorAgent.Init(this.Config.GetAdBlockInspectorConfig())))):null}onGotRegulatorRespond(r){return!!this.init&&(!!r&&(this.adsCandidatesDetectionInterval=setInterval(this.onAdsCandidatesDetected.bind(this),1e4),this.AdsManager.ActivateAdsdetectors(),X.SendNewPageCreatedTicket(H.ToJSON(this.ticket)),void X.SendPanelRegulatorResult(r)))}onTabUrlChanged(r){return!(!r?.newUrl||!r?.initedTicketId)&&((r.newUrl!==this.pageUrl||r.initedTicketId===this.ticketId)&&(this.RefreshTicket(),X.SendSinglePageReinitMes({ticketId:this.ticketId,url:this.pageUrl}),void X.SendNewPageCreatedTicket(H.ToJSON(this.ticket))))}onAdsCandidatesDetected(){return!!this.init&&(H.IsOnChromeRuntime()?!!this.panalyticsId.length&&void this.prepareAndSendTicket():(this.adsCandidatesDetectionInterval&&clearInterval(this.adsCandidatesDetectionInterval),!1))}prepareAndSendTicket(){this.cycleNumber=this.cycleNumber+1,this.ticket[F.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.ticket.windowSize=H.GetWindowSize(),this.ticket.firstVisit=this.cycleNumber<=1,this.ticket.adCandidatesHtml5=this.AdsManager.GetHtml5CandidatesPrebuildInfo(),this.IOManager.SendTicket(H.ToJSON(this.ticket))}}},7376:(r,T,l)=>{const H=l(8384),F=l(1568),y=l(2880),P=l(9358);r.exports=class{constructor(r){this.id=r,this.init=!1,this.extensionId=""+chrome.runtime.id,this.AdBlockerAgent=null,this.onInitCallback=null}Init(r,T){!this.init&&r&&(this.onInitCallback=T,this.init=!0,this.AdBlockerAgent=r,document.readyState===F.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.ActivateRegulator.bind(this)):document.readyState!==F.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==F.DOCUMENT_READYSTATE_COMPLETE||this.ActivateRegulator())}ActivateRegulator(){this.RegisterPanel(),setTimeout(this.Regulate.bind(this),500)}Regulate(){let r=!0,T="",l=[];try{let H=document.body.getAttribute("bis_register");if(H&&H.length){l=JSON.parse(P.decode(H));for(let r=0;r<l.length&&0===T.length;r++)l[r].master&&(T=l[r].extensionId);T.length&&this.extensionId!==T&&(r=!1)}}catch(r){}this.onInitCallback&&this.onInitCallback(r)}GetPanelScore(){let r=H.hr.split("."),T=1e4*parseInt(r[0])+100*parseInt(r[1])+parseInt(r[2]),l=this.AdBlockerAgent.GetStatus();return y.IsFacebookUrl(document.location.href)?l[F.ADBLOCKER_FOR_FACEBOOK]===F.ADBLOCKER_STATUS_ENABLED&&(T*=10):y.IsTwitterUrl(document.location.href)?l[F.ADBLOCKER_FOR_TWITTER]===F.ADBLOCKER_STATUS_ENABLED&&(T*=10):y.IsRedditUrl(document.location.href)?l[F.ADBLOCKER_FOR_REDDIT]===F.ADBLOCKER_STATUS_ENABLED&&(T*=10):l[F.ADBLOCKER_FOR_DISPLAY]===F.ADBLOCKER_STATUS_ENABLED&&(T*=10),T}UpdateRegister(r){let T={master:!0,extensionId:this.extensionId,adblockerStatus:this.AdBlockerAgent.GetStatus(),version:H.hr,score:this.GetPanelScore()},l=!0;for(let H=0;H<r.length&&l;H++)r[H].extensionId===this.extensionId&&(l=!1,r[H]=T);l&&r.push(T)}ChooseWinner(r){if(r&&r.length)if(1===r.length);else{let T=0,l=r[T].score;for(let H=0;H<r.length;H++)r[H].master=!1,r[H].score>l&&(l=r[H].score,T=H);r[T].master=!0}}RegisterPanel(){try{let r=[],T=document.body.getAttribute("bis_register");T&&T.length&&(r=JSON.parse(P.decode(T))),this.UpdateRegister(r),this.ChooseWinner(r),document.body.setAttribute("bis_register",P.encode(JSON.stringify(r)))}catch(r){}}}},7235:(r,T,l)=>{const H=l(2880),F=l(8384),y=l(9346),P=l(5364),X=l(1568);r.exports=class extends y{constructor(r,T,l,H){super(r),this.Config=T,this.skinAdsConfig=T.config.skinAdsConfig,this.IOManager=l,this.IOManager.onGotSkinAdCandidatesExtractionStatusesCallback=this.onGotSkinAdCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=H}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),500),setInterval((()=>{this.DetectCandidates()}),1e3)}SendCandidatesToBackground(){this.Candidates.length&&P.SendAdCandidates(this.id,this.Candidates,X.MESSAGE_TYPE_CANDIDATES_DATA_SKINADS,null)}DetectCandidates(){this.ClearCandidates(),this.GetSkinAdFromBodyBackground(),0==this.CandidatesCount&&this.GetSkinAdFromDivBackground(),this.SendCandidatesToBackground()}GetSkinAdFromBodyBackground(){var r,T={source:[],targetUrl:[]},l=document.body;if(l&&!l.hasAttribute("bis_skin_checked")&&(r=H.GetUrlFromStyleStr(window.getComputedStyle(l).backgroundImage)),r&&H.isValidUrl(r)){l.setAttribute("bis_skin_checked","1");var F={type:"single",src:r,size:H.GetFullElementSize(l)};T.source.push(F);for(var y=H.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION),P=0;P<y.length;P++){var X=y[P];X.setAttribute&&X.setAttribute("bis_skin_checked","1");var I=X.getBoundingClientRect(),R=X.firstElementChild?X.firstElementChild.getBoundingClientRect():null;X.href&&(I.width>50&&I.height>=100&&0==I.left||R&&R.width>50&&R.height>=100&&0==R.left)&&H.isValidUrl(X.href)&&!T.targetUrl.includes(X.href)&&T.targetUrl.push(X.href),this.findElementsByHref(T.targetUrl,X)}}T.source.length&&T.targetUrl.length&&this.AddCandidate(T)}GetSkinAdFromDivBackground(){let r={source:[],targetUrl:[]},T=!1,l=H.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_DIV_COLLECTION);for(let F=0;F<l.length&&!T;F++){let y=l[F];y.setAttribute&&y.setAttribute("bis_skin_checked","1");let P=y.getBoundingClientRect();if(P.width>50&&P.height>500&&0==P.left){let l=H.GetUrlFromStyleStr(window.getComputedStyle(y).backgroundImage);if(l&&H.isValidUrl(l)){let F={type:"single",src:l,size:H.GetFullElementSize(y)};r.source.push(F),T=!0}}}if(T){let T=H.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION);for(let l=0;l<T.length;l++){let F=T[l];F.setAttribute&&F.setAttribute("bis_skin_checked","1");let y=F.getBoundingClientRect();F.href&&0==y.left&&(y.width>50&&y.height>500||y.width>500&&y.height>50)&&H.isValidUrl(F.href)&&!r.targetUrl.includes(F.href)&&r.targetUrl.push(F.href)}}r.source.length&&r.targetUrl.length&&this.AddCandidate(r)}findElementsByHref(r,T){const l=T.href;r.includes(l)&&(this.SetBorderToCandidate(T),T.setAttribute("bis_skin_element","1"))}SetBorderToCandidate(r){const T=r.getBoundingClientRect();r&&(T.width>1&&T.height>1?r.style.cssText+="border: 6px solid red !important; display: block;":r.firstElementChild.style.cssText+="border: 6px solid red !important; display: block;")}onGotSkinAdCandidatesExtractionStatuses(r){if(F.Kr&&F.Jr&&r&&r.length)for(let T=0;T<r.length;T++){let l=H.QuerySelectorAll(document,r[T].query);l&&l.forEach((l=>{l&&H.UpdateCandidateStatusBorderColor(l,r[T].extractionStatus)}))}}}},7584:(r,T,l)=>{const H=l(8384),F=l(2880),y=l(1568);r.exports=class{static GetSingleOutTicket(r,T,l){let P={tabId:l,ticketFormatVersion:3,partnerId:H.Qr,distributorId:H.qr,ticketId:T,firstVisit:!1,url:document.location.href,userAgent:navigator.userAgent,creationTime:F.GetCurrentDataTimeStr(),windowSize:F.GetWindowSize(),timeOnPage:0,adCandidatesSkinAd:[],adCandidatesBanner:[],adCandidatesHtml5:[],adsFacebook:[],adsTwitter:[],adsReddit:[],adsPinterest:[],adsInstagram:[],adsLinkedin:[],adsTiktok:[],aiSessions:[],adCandidatePlacements:{skinAd:0,banner:0,html5:0,facebook:0,twitter:0,reddit:0,pinterest:0,tiktok:0,instagram:0,linkedin:0},videoTraffics:[],activeAdBlocker:!1};P[y.TICKET_ALIAS_PANALYTICSID]=r,P[y.TICKET_ALIAS_PINSTANCEID]=H.Ur;let X=F.GetBaseHref();""!==X&&(P.base=X);let I=chrome.runtime.getManifest();return P.extensionVersion=I.version,P.panelosVersion=H.hr,P}}},855:(r,T,l)=>{const H=l(1568),F=l(9358),y=l(2880),P=l(1936),X=l(2938),I=l(8940),R=l(5364);r.exports=class{constructor(r,T,l){this.id=r,this.Config=T,this.IOManager=l,this.onDetectVideoHarCallback=null,this.VideoTrafficValidator=new I(this.id,this.Config),this.VideoTrafficDetector=new X(this.id),this.VideoTrafficDetector.InjectXhrDetector(this.Config),this.IOManager.onGotVideoXHRTrafficCallback=this.ProcessVideoXHRTraffic.bind(this)}ActivateDetector(){this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS()}PageRefreshed(r,T){y.IsYouTubeUrl(r)||(this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS())}CheckVideoTrafficInHTML(){let r=new P(H.VIDEO_TRAFFIC_SOURCE_HTML,"GET",window.location.href,"text/html",document.documentElement.outerHTML),T=this.VideoTrafficValidator.Validate(r);T&&this.SendVideoTraffic(r,T)}CheckVideoTrafficInJS(){let r=y.QuerySelectorAll(document,"script");for(let T=0;T<r.length;T++){let l=new P(H.VIDEO_TRAFFIC_SOURCE_JS,"GET",r[T].src,"text/javascript",r[T].innerHTML),F=this.VideoTrafficValidator.Validate(l);F&&this.SendVideoTraffic(l,F)}}ProcessVideoXHRTraffic(r){if(P.IsXHRvalid(r)){let T=new P(H.VIDEO_TRAFFIC_SOURCE_XHR,r.requestMethod,r.url,r.type,r.content,r.encodedPostBody),l=this.VideoTrafficValidator.Validate(T);l&&this.SendVideoTraffic(T,l)}}SendVideoTraffic(r,T){if(r&&T){let l={requestMethod:r.GetRequestMethod(),url:r.GetUrl(),contentType:r.GetType(),mediaType:T.name,alias:T.alias};if(r.IsEncodedPostBodyExist()&&(l.encodedPostBody=r.GetEncodedPostBody()),T.reduceSizeFilter&&T.reduceSizeFilter.active){let H;if(null!==(H=I.CreateRegExp(T.reduceSizeFilter.reducePattern).exec(r.GetContent()))&&H.length>0&&Math.max(...T.reduceSizeFilter.regResIndexes)<H.length){let r=H.filter(((r,l)=>T.reduceSizeFilter.regResIndexes.includes(l)));l.encodedText=F.encode(r.join(" "))}}else l.encodedText=F.encode(r.GetContent());R.SendVideoHar(this.id,l)}}}},1936:(r,T,l)=>{const H=l(9358);r.exports=class{constructor(r,T,l,H,F,y=null){this.trafficSource=r,this.requestMethod=T,this.url=l,this.type=H,this.content=F,this.SetEncodedPostBody(y)}static IsXHRvalid(r){return r&&r.hasOwnProperty("requestMethod")&&r.hasOwnProperty("url")&&""!==r.url}SetEncodedPostBody(r){r&&"string"==typeof r&&r.length>0&&(this.encodedPostBody=H.encode(r))}GetEncodedPostBody(){return this.encodedPostBody?this.encodedPostBody:null}IsEncodedPostBodyExist(){return!!this.encodedPostBody}GetTrafficSource(){return this.trafficSource}GetRequestMethod(){return this.requestMethod}GetUrl(){return this.url}GetType(){return this.type}GetContent(){return this.content}SetContent(r){this.content=r}SetUrl(r){this.url=r}}},2938:(r,T,l)=>{const H=l(2880);r.exports=class{constructor(r){this.id=r}InjectXhrDetector(r){if(document.head){let T=document.createElement("script");this.setAttributes(T,r),document.head.appendChild(T)}}setAttributes(r,T){const l=H.getURL("../executors/traffic.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("data-bis-config",JSON.stringify(T.config.filterLists.blacklistIframeSrc)),r.src=l}}},8940:(r,T,l)=>{const H=l(1568);class F{constructor(r,T){this.id=r,this.Config=T}Validate(r){let T=[],l=!1;if(r&&(r.GetTrafficSource()===H.VIDEO_TRAFFIC_SOURCE_HTML?(T=this.Config.GetVideoValidatorsForHTML(),l=!0):r.GetTrafficSource()===H.VIDEO_TRAFFIC_SOURCE_XHR?(T=this.Config.GetVideoValidatorsForXHR(),l=!0):r.GetTrafficSource()===H.VIDEO_TRAFFIC_SOURCE_JS&&(T=this.Config.GetVideoValidatorsForJS(),l=!0),l))for(let l of T){if(this.ValidateUseConfiguration(r,l))return this.specificFilterCandidate(r,l)}return!1}ValidateUseConfiguration(r,T){const l=Object.keys(T);let H=[];for(let r of l)-1!==r.indexOf("Pattern")&&H.push(r);let y=0,P={domainPattern:"GetUrl",mimePattern:"GetType",contentPattern:"GetContent"};for(let l of H)try{let H=F.CreateRegExp(T[l]),X=P[l];y+=H.test(r[X]())?1:0}catch(r){}return y===H.length}static CreateRegExp(r){let T=r.replace(/.*\/([gimy]*)$/,"$1"),l=r.replace(new RegExp("^/(.*?)/"+T+"$"),"$1");return new RegExp(l,T)}specificFilterCandidate(r,T){return!(!r.IsEncodedPostBodyExist()&&"YT_FORCING_KEY"===T.alias)&&T}}r.exports=F},1368:(r,T,l)=>{const H=l(1568),F=l(2880),y=l(100),P=l(9587),X=l(778),I=l(6912),R=l(8065),_=l(8476),t=l(8375),D=l(6311);r.exports=class{#r;#F;#y;#P=null;constructor(r,T,l){switch(this.#r=r,this.#F=T,this.#y=l,!0){case F.isClaudeUrl(this.#y,T):this.#P=new y(this.#r,this.#F);break;case F.isChatgptUrl(this.#y,T):this.#P=new P(this.#r,this.#F);break;case F.isCopilotUrl(this.#y,T):this.#P=new X(this.#r,this.#F);break;case F.isPerplexityUrl(this.#y,T):this.#P=new I(this.#r,this.#F);break;case F.isMetaUrl(this.#y,T):this.#P=new R(this.#r,this.#F);break;case F.isDeepseekUrl(this.#y,T):this.#P=new _(this.#r,this.#F);break;case F.isGeminiUrl(this.#y,T):this.#P=new t(this.#r,this.#F);break;case F.isGrokUrl(this.#y,T):this.#P=new D(this.#r,this.#F)}this.#X()}#X(){document.readyState===H.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.#I.bind(this)):document.readyState!==H.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==H.DOCUMENT_READYSTATE_COMPLETE||this.#I.apply(this)}#I(){this.#P&&this.#P.activateDetector()}pageRefreshed(r,T){}}},9587:(r,T,l)=>{const H=l(1568),F=l(9700);r.exports=class extends F{#r;#F={};#R={fileName:"chatgpt",className:"PosdChatgptMessagesCollector:Injector"};#_=!1;constructor(r,T){super(r),this.#r=r,this.#F=T.vr||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#R),this.#t())}#t(){this.#_||(this.#_=!0,chrome.storage.onChanged.addListener((r=>{for(let[T,{oldValue:l,newValue:F}]of Object.entries(r))if("panelAIFeatures"===T){window.postMessage({type:H.MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS_RESPONSE,content:"on"===F},"*");break}})))}}},100:(r,T,l)=>{const H=l(9700);l(1568);r.exports=class extends H{#r;#F={};#R={fileName:"claude",className:"PosdClaudeMessagesCollector:Injector",injectBeforeFirstChild:!0};#D=!1;constructor(r,T){super(r),this.#r=r,this.#F=T.Yr||{}}activateDetector(){this.#D||(this.#D=!0,this.injectDetector(this.#R))}}},778:(r,T,l)=>{const H=l(9700);l(1568);r.exports=class extends H{#r;#F={};#R={fileName:"copilot",className:"PosdCopilotMessagesCollector:Injector",injectBeforeFirstChild:!0};#D=!1;constructor(r,T){super(r),this.#r=r,this.#F=T.Sr||{}}activateDetector(){this.#D||(this.#D=!0,this.injectDetector(this.#R))}}},8476:(r,T,l)=>{l(1568);const H=l(9700);r.exports=class extends H{#r;#F={};#R={fileName:"deepseek",className:"PosdDeepseekMessagesCollector:Injector"};constructor(r,T){super(r),this.#r=r,this.#F=T.$r||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#R))}}},8375:(r,T,l)=>{l(1568);const H=l(9700);r.exports=class extends H{#r;#F={};#R={fileName:"gemini",className:"PosdGeminiMessagesCollector:Injector"};constructor(r,T){super(r),this.#r=r,this.#F=T.$r||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#R))}}},6311:(r,T,l)=>{const H=l(9700);l(1568);r.exports=class extends H{#r;#F={};#R={fileName:"grok",className:"PosdGrokMessagesCollector:Injector",injectBeforeFirstChild:!0};#D=!1;constructor(r,T){super(r),this.#r=r,this.#F=T.sr||{}}activateDetector(){this.#D||(this.#D=!0,this.injectDetector(this.#R))}}},8065:(r,T,l)=>{const H=l(9700);l(1568);r.exports=class extends H{#r;#F={};#R={fileName:"meta",className:"PosdMetaMessagesCollector:Injector"};#D=!1;constructor(r,T){super(r),this.#r=r,this.#F=T.cr||{}}activateDetector(){this.#D||(this.#D=!0,this.injectDetector(this.#R))}}},6912:(r,T,l)=>{const H=l(9700);l(1568);r.exports=class extends H{#r;#F={};#R={fileName:"perplexity",className:"PosdPerplexityMessagesCollector:Injector",injectBeforeFirstChild:!0};#D=!1;constructor(r,T){super(r),this.#r=r,this.#F=T.jr||{}}activateDetector(){this.#D||(this.#D=!0,this.injectDetector(this.#R))}}},655:(r,T,l)=>{const H=l(2880),F=l(1568);r.exports=class{constructor(r,T,l){this.id=r,this.options=T,this.AdBlockerAgent=l,this.active=!1,this.lastDetectTime=H.GetCurrentTimestampMs()-1e3,this.activateDetectorTime=H.GetCurrentTimestampMs(),this.detectorInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.isObserverAlreadySet=!1,this.onScrollListenerHandler=null,this.onScrollListenerIsOn=!1,this.onScrollCallback=null}ActualizeDetector(){}ActivateMutationObserver(){}DeactivateMutationObserver(){}Detector(){}HideAd(r,T,l){}CheckIfAd(r){}CheckIfAdRendered(r){}ExtractAd(r){}ActivateDetector(){this.active||(this.activateDetectorTime=H.GetCurrentTimestampMs(),this.active=!0,this.options.firstDetectionAfterActivationTimeoutMs&&this.options.firstDetectionAfterActivationTimeoutMs>0&&setTimeout((()=>{this.DetectCandidates(F.AD_DETECTOR_INITIATOR_ACTIVATION)}),this.options.firstDetectionAfterActivationTimeoutMs),this.startIntervalDetectCandidates(F.AD_DETECTOR_INITIATOR_TIMER),this.options.useObserver&&this.IsActualByKeyWordInUrl&&(this.observerNodesListenerInterval=setInterval((()=>{this.observerNodesChecksAmount=this.observerNodesChecksAmount+1,this.ActivateMutationObserver(),(this.isObserverAlreadySet||this.observerNodesChecksAmount>this.options.observerNodesChecksMaxAmount)&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.activateOnScrollEvent())}),this.options.observerNodesCheckIntervalMs)))}DeactivateDetector(r){r===F.AD_DETECTOR_INITIATOR_URL&&(this.DeactivateMutationObserver(),(this.onScrollCallback||this.onScrollListenerIsOn)&&(window.removeEventListener("scroll",this.onScrollCallback),this.onScrollCallback=null,this.onScrollListenerIsOn=!1,this.onScrollListenerHandler&&(clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null))),this.detectorInterval&&(clearInterval(this.detectorInterval),this.detectorInterval=null),this.observerNodesListenerInterval&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0),this.activateDetectorTime=H.GetCurrentTimestampMs(),this.lastDetectTime=H.GetCurrentTimestampMs()-1e3,this.active=!1}DetectCandidates(r,T){if(!this.ActualizeDetector()||!this.IsActualByKeyWordInUrl)return void this.checkLimits(r);let l=H.GetCurrentTimestampMs();H.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs?(this.checkLimits(r),T&&this.startIntervalDetectCandidates()):l-this.lastDetectTime>this.options.minTimeAfterLastDetectionMs&&(this.lastDetectTime=l,this.Detector())}get IsActualByKeyWordInUrl(){const r=this.options.urlInvalidKeyWord,T=this.options.urlValidationByKeyWord;if(!r&&!T)return!0;const l=window.location.href;let H=!!r&&r.some((r=>l.includes(r))),F=!T||l.includes(T);return!H&&F}checkLimits(r){return!this.options.maxActualizeDetectorWaitTimeMs||(!(H.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs)||(this.DeactivateDetector(r),!1))}activateOnScrollEvent(){this.options.useOnScroll&&!this.onScrollListenerIsOn&&this.IsActualByKeyWordInUrl&&this.ActualizeDetector()&&(this.onScrollCallback=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0)}onScroll(r){this.DetectCandidates(F.AD_DETECTOR_INITIATOR_SCROLL_EVENT),this.startIntervalDetectCandidates(F.AD_DETECTOR_INITIATOR_SCROLL_EVENT),window.removeEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!1,this.onScrollListenerHandler=setTimeout((()=>{window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0,clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null}),this.options.onScrollTimeout)}startIntervalDetectCandidates(r){this.detectorInterval||(this.detectorInterval=setInterval((()=>{this.DetectCandidates(r)}),this.options.detectionIntervalMs))}}},97:(r,T,l)=>{const H=l(8384),F=l(2880),y=l(9358),P=l(1568),X=l(9346),I=l(5364),R=l(7678),_=l(6335),t=l(7948),D=l(1899),M=l(2300),V=l(1454);r.exports=class extends X{constructor(r,T,l){super(r),this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.fbConfig=T.FacebookConfig,this.AdBlockerAgent=l,this.VideoTrafficDetector=new V(this.id),this.VideoTrafficDetector.InjectDetector()}onPageUrlChanged(r,T){this.available&&setTimeout((()=>{this.DeactivateDetectors(P.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetector(r){r===P.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.fbContent=document.querySelector(this.fbConfig.FB_CONTENT),this.fbContent&&(this.DetectorFeed=new _(this.id,this.fbConfig.FEED_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorFeed.HideAd=this.HideAd.bind(this),this.DetectorFeed.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorFeed.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorRightColumn=new D(this.id,this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorRightColumn.HideAd=this.HideAd.bind(this),this.DetectorRightColumn.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorRightColumn.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorWatch=new t(this.id,this.fbConfig.FEED_WATCH_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorWatch.HideAd=this.HideAd.bind(this),this.DetectorWatch.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorWatch.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorMarketplace=new M(this.id,this.fbConfig.MARKETPLACE_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorMarketplace.HideAd=this.HideAd.bind(this),this.DetectorMarketplace.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorMarketplace.ExtractAd=this.ProcessFbCreative.bind(this),this.ActivateDetectors())}ActivateDetectors(){this.DetectorRightColumn.ActivateDetector(),this.DetectorFeed.ActivateDetector(),this.DetectorWatch.ActivateDetector(),this.DetectorMarketplace.ActivateDetector()}DeactivateDetectors(r){this.DetectorRightColumn.DeactivateDetector(r),this.DetectorFeed.DeactivateDetector(r),this.DetectorWatch.DeactivateDetector(r),this.DetectorMarketplace.DeactivateDetector(r)}ProcessFbCreative(r,T,l){try{let y=!1,X=!1,_=!1;if(r){let t=document.querySelector(`[${P.ATTRIBUTE_BIS_ID}=${r}]`);if(t)if(y=!0,X=this.IsAdContentRendered(t,R.GetMinImgsSpacePercentag(this.fbConfig,l)),X){_=this.IsVideoCreative(t),I.SendCandidatePlacementsCount(this.id,1,P.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK,null);let r={x:0,y:0};if(R.IsPostHidden(t)){t.setAttribute(P.ATTRIBUTE_BIS_SIZE,F.ToJSON(R.GetPostContainerSize(t)));let T=t.getAttribute(P.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);T&&(r.x=parseInt(T))}else F.SetFullSizeToElement(t);let y=t.querySelectorAll("*");for(let T=0;T<y.length;T++)F.SetFullSizeToElement(y[T],null,r);let X=[];X.push(this.BuildCreative(t,_,T,l)),this.SendFacebookCandidates(X),H.Kr&&H.Jr&&(this.IsVideoCreative(t)?t.style.cssText+=P.STYLES_OUTLINE_VIDEO_AD:t.style.cssText+=P.STYLES_OUTLINE_SUCCESS_DETECT)}else t.removeAttribute&&t.removeAttribute(P.ATTRIBUTE_BIS_ID)}}catch(r){}}BuildCreative(r,T,l,H){let F=R.GetPostContainerSize(r),X=Array.from(document.querySelectorAll("link")),I=Array.from(document.querySelector("head").querySelectorAll("style[nonce]")),_=X.concat(I),t='<html><head><meta charset="utf-8">';for(let r of _)t+=r.outerHTML;if(t+=`</head><body style='position:absolute; top:0px; left:0px; width:${F.w}px; height:${F.h}px;'>${r.outerHTML}</body></html>`,this.AdBlockerAgent.IsEnabledForFacebook()&&l?.length&&t.includes(l)){let r="";t=t.replace(l,r)}let D="",M=!1;this.fbConfig.ABOUT_SECTION_CONFIG&&this.fbConfig.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE&&(M=!0),this.fbConfig&&M&&(this.DetectorFeed&&H===P.FACEBOOK_AD_PLACEMENT_TYPE_FEED?D=this.DetectorFeed.GetAboutPageLink(r):this.DetectorMarketplace&&H===P.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE?D=this.DetectorMarketplace.GetAboutPageLink(r):this.DetectorWatch&&H===P.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH&&(D=this.DetectorWatch.GetAboutPageLink(r)));let V={content:y.encode(t),adPlacementType:H,designVersion:P.FACEBOOK_DESIGN_VERSION_NEW,aboutPageLink:D,aboutSectionContent:"",size:F};return T&&(V.videoData={videoId:"",videoUrl:"",audioUrl:""}),r.setAttribute(P.ATTRIBUTE_BIS_STATUS,"extracted"),V}HideAd(r,T,l){let H="";return r&&T&&r&&r.style&&(H=`position: absolute !important; width: ${T.w}px; overflow: hidden; height: 0px;`,R.IsPostHidden(r)||(r.style.cssText+=H,r.setAttribute(P.ATTRIBUTE_BIS_HIDE_HEIGHT,T.h),r.setAttribute(P.ATTRIBUTE_BIS_HIDE_WIDTH,T.w),r.setAttribute(P.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"))),r.style.cssText}IsAdContentRendered(r,T){let l=R.GetPostContainerSize(r);if(F.GetImagesSpacePercentage(this.fbConfig.TAGS_FOR_LOADING_CHECK,r,l).some((r=>r>=T)))return!0;let H=r.querySelector(`a[${P.ATTRIBUTE_BIS_LABEL}]`);return H&&H.removeAttribute(P.ATTRIBUTE_BIS_LABEL),!1}IsVideoCreative(r){return 0!==r.querySelectorAll("video").length}AddNeededStylesForElement(r,T){try{if(T.w<=3&&T.h<=3&&("SPAN"===r.nodeName||"DIV"===r.nodeName)){let T=r.getAttribute("class");if(T&&T.includes("accessible_elem")){let T=getComputedStyle(r);r.setAttribute(P.ATTRIBUTE_BIS_STYLE,`clip:${T.getPropertyValue("clip")}; height:${T.getPropertyValue("height")}; overflow:${T.getPropertyValue("overflow")}; position:${T.getPropertyValue("position")}; white-space:${T.getPropertyValue("white-space")}; width:${T.getPropertyValue("width")};`)}}}catch(r){}}LoadAboutPageAndSendCandidates(r){if(r&&r.length){let T=r[0].aboutPageLink;T&&T.length?fetch(T,{headers:this.fbConfig.ABOUT_SECTION_CONFIG.HEADERS,method:"GET"}).then((T=>{try{if(200===T.status)return T.text();this.SendFacebookCandidates(r)}catch(r){}})).then((T=>{let l="",H=T.split(/\r?\n/);if(H.length)for(let r=0;r<H.length;r++){!new RegExp(this.fbConfig.ABOUT_SECTION_CONFIG.CONTENT_CHECK_STRING).test(H[r])||l.includes("delegate_page_id")&&l.includes("about_app_sections")||(l+=H[r])}r[0].aboutSectionContent=y.encode(l),this.SendFacebookCandidates(r)})).catch((()=>{this.SendFacebookCandidates(r)})):this.SendFacebookCandidates(r)}}SendFacebookCandidates(r){I.SendAdCandidates(this.id,r,P.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK,null),this.AdBlockerAgent.IsEnabledForFacebook()&&this.AdBlockerAgent.SetHiddenAmount(r.length)}}},7678:(r,T,l)=>{const H=l(1568),F=l(2880);class y{static GetVisibleText(r){let T=r.querySelectorAll(":scope > *");if(0!==T.length)return Array.prototype.slice.call(T).map(y.GetVisibleText).flat();if("none"!==getComputedStyle(r).display){let T=r.innerText;try{if(0===T.length&&r.getAttribute){let l=r.getAttribute("data-content");l&&l.length&&(T=l)}}catch(r){}return T}return""}static GetVisibleSpansText(r,T,l=[]){if(r.hasAttribute&&r.hasAttribute("bis_sponsor_checked")&&3==r.getAttribute("bis_sponsor_checked"))return"";let H=r.querySelectorAll(T),F="",y=parseInt(r.getAttribute("bis_sponsor_checked"))||0;return H.forEach((r=>{const T=getComputedStyle(r);if("none"!==T.display&&"absolute"!==T.position)try{let T=Array.from(r.childNodes).filter((r=>3===r.nodeType)).map((r=>r.nodeValue.trim())).reduce(((r,T)=>r+T),"");if(0===T.length&&r.getAttribute){let l=r.getAttribute("data-content");l&&l.length&&(T=l)}F+=T}catch(r){}})),r.setAttribute("bis_sponsor_checked",parseInt(y)+1),F&&l.length&&!l.includes(F)&&(F=this.checkLettersOfAlly(F,l)),F}static checkLettersOfAlly(r,T){const l=r.split(""),H=l.length-1,F=T.length;let y=1,P=!1,X=0,I="";for(;!P&&y<=F;){const F=T[y-1],R=l[X];-1!==F.indexOf(R)&&F.length===l.length?H!==X?X+=1:H===X&&r.length===F.length?(P=!0,I=F):(y+=1,X=0):(y+=1,X=0)}return I}static HideSateliteSponsoredString(r,T){try{T&&T.forEach((T=>{if(T.innerText){let l=T.innerText;r.SPONSORED_TEXTS.some((r=>-1!==l.indexOf(r)))&&(T.style="display:none")}}))}catch(r){}}static GetMinImgsSpacePercentag(r,T){return T===H.FACEBOOK_AD_PLACEMENT_TYPE_FEED?r.FEED_PAGE.MIN_IMGS_SPACE_PERCENTAGE:T===H.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE?r.MARKETPLACE_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:T===H.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN?r.RIGHT_COLUMN_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:T===H.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH?r.FEED_WATCH_PAGE.MIN_IMGS_SPACE_PERCENTAGE:0}static IsInitiallyRendered(r,T){return!!y.IsPostHidden(r)||T.w>0&&T.h>10}static IsPostHidden(r){return"hidden"===r.getAttribute(H.ATTRIBUTE_BIS_HIDE_STATUS)}static GetPostContainerSize(r){let T=F.GetFullElementSize(r);if(y.IsPostHidden(r)){let l=r.getAttribute(H.ATTRIBUTE_BIS_HIDE_HEIGHT);l&&(T.h=parseInt(l));let F=r.getAttribute(H.ATTRIBUTE_BIS_HIDE_WIDTH);F&&(T.w=parseInt(F));let y=r.getAttribute(H.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);y&&(T.x=T.x+parseInt(y),T.abs_x=T.abs_x+parseInt(y))}return T}}r.exports=y},6335:(r,T,l)=>{const H=l(655),F=l(7678),y=l(2880),P=l(1568),X=l(6882);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.fbConfig=H,this.fbFeed=null,this.fbFeedObserver=null}ActualizeDetector(){return!!this.isValidUrl&&(this.fbFeed=this.FeedContainer,!!this.fbFeed)}ActivateMutationObserver(){this.fbFeed?(this.fbFeedObserver||(this.fbFeedObserver=new MutationObserver(this.DetectCandidates.bind(this,P.AD_DETECTOR_INITIATOR_MUTATION)),this.fbFeedObserver.observe(this.fbFeed,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedContainer(){const r=this.fbConfig.FEED_PAGE.MIN_HEIGHT,T=this.fbConfig.FEED_PAGE.FEED_QUERIES,l=T.length;let H=!1,F=null;for(let y=0;y<l&&!H;y++){let l=T[y],P=document.querySelector(l);if(P){const T=P.offsetHeight;if(P.children.length>2&&T>r)F=P,H=!0;else if(P.nodeName.search(/span/i)>-1){let T=P.nextElementSibling;if(T&&T.children){const l=T.offsetHeight;1===T.children.length&&T.querySelector("h3")?(F=T.querySelector("h3").parentElement,H=!0):2===T.children.length?(P=T.querySelector("div:not([class])"),P&&P.offsetHeight>r&&(F=P,H=!0)):T.children.length>1&&l>r&&(F=T,H=!0)}}}}return F}DeactivateMutationObserver(){this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}Detector(){let r=this.FeedContainer;if(r){let T=Array.from(r.children);if(T.length&&1!==T.length||(T=document.querySelectorAll(this.fbConfig.FEED_PAGE.POSTS_QUERY)),!T)return;for(let r=0;r<T.length;r++){let l=T[r],H=y.GetElementSize(l);if(!l.hasAttribute(P.ATTRIBUTE_BIS_ID)&&F.IsInitiallyRendered(l,H)&&this.CheckIfAdRendered(l,F.GetMinImgsSpacePercentag(this.fbConfig,P.FACEBOOK_AD_PLACEMENT_TYPE_FEED))&&this.CheckIfAd(l)){let F="";this.AdBlockerAgent.IsEnabledForFacebook()&&(F=this.HideAd(T[r],H,P.FACEBOOK_AD_PLACEMENT_TYPE_FEED)),this.addCoverImageSrcAttribute(l);let X=y.GenerateAndSetBisIdToFBAds(l),I=this.options.extractAdStaticPartTimeoutMs+y.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(l),setTimeout(this.ReadyToExtractAd.bind(this,X,F),I)}}}}ReadyToExtractAd(r,T){try{if(r){let l=document.querySelector(`[${P.ATTRIBUTE_BIS_ID}=${r}]`);if(!l)return;let H=l.querySelector(`[${P.ATTRIBUTE_BIS_LABEL}="fb_feed_ad"]`);H?this.ExtractAd(r,T,P.FACEBOOK_AD_PLACEMENT_TYPE_FEED):null!==H&&(H.removeAttribute(P.ATTRIBUTE_BIS_ID),l.removeAttribute(P.ATTRIBUTE_BIS_ID))}}catch(r){}}CheckIfAd(r){const T=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let l=!1;for(let H=0;H<T.length&&!l;H++){const F=T[H];let y=r.querySelectorAll(F);if(l=this.GetTextCustom(y),l||(l=this.GetTextFromXlink(y)),l||(l=this.GetTextIfUseCanvas(y)),l){r.firstElementChild.setAttribute(P.ATTRIBUTE_BIS_LABEL,"fb_feed_ad");break}}return!!l}GetTextCustom(r){for(let T=0;T<r.length;T++){const l=r[T];let H=l.innerText,y=l.getAttribute(this.options.attributeWithSponsorAlly),X=y?[H,y]:H;if("string"==typeof H&&H.length&&this.isTagSponsored(X))return!0;if(H&&H.length>=2&&!l.hasAttribute(P.ATTRIBUTE_BIS_LABEL)){let r=F.GetVisibleSpansText(l,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(r!==H&&r!==y&&"string"==typeof r&&r.length&&this.isTagSponsored(r))return!0}}return!1}GetTextFromXlink(r){let T="";for(let l of r){if(!l.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const r=l.parentElement;let H="";if(r?.hasAttribute("bis_processed")&&r?.hasAttribute(P.ATTRIBUTE_BIS_LABEL))continue;const F=Array.from(r.children);if(F&&F.forEach((r=>{let T=r.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const l=document.querySelector(T);l&&("text"===l.nodeName.toLowerCase()?H+=l.textContent:"svg"===l.nodeName.toLowerCase()&&(H=this.GetTextFromXlink([l.firstElementChild])))})),r.setAttribute("bis_processed",""),this.isTagSponsored(H))return T=H,r.removeAttribute("bis_processed"),T;T=""}return T}GetTextIfUseCanvas(r){let T="";for(let l of r){if("canvas"!==l.nodeName.toLowerCase()||l.hasAttribute(P.ATTRIBUTE_BIS_LABEL))continue;let r=this.CheckAndGetFieldName(l);if("string"==typeof r&&this.isTagSponsored(r)){T=r;break}}return T}CheckAndGetFieldName(r){if(r.hasAttribute("bis-text"))return r.getAttribute("bis-text");let T=X.EmptyMessage;T.type=P.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,T.content={attribute:"bis-text"},window.postMessage({attribute:"bis-text"},window.location.origin)}AddHiddenTextTags(r){const T=r.querySelectorAll("svg>use");if(T)for(let r=0;r<T.length;r++){const l=T[r],H=l.parentElement;let F=l.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let y=document.querySelector(F).cloneNode(!0);y.style.display="none",y.id=y.id+"_bis",H&&H.appendChild(y)}}isTagSponsored(r){let T=!1;if(!r)return T;if("string"==typeof r)T=this.fbConfig.SPONSORED_TEXTS.some((T=>T===r));else for(let l of r)if(T=this.fbConfig.SPONSORED_TEXTS.some((r=>r===l)),T)break;return T}GetAboutPageLink(r){let T="",l=this.fbConfig.ABOUT_SECTION_CONFIG,H=r.querySelectorAll(l.QUERY_ABOUT_PAGE_HREF);if(!H?.length)return T;let F="";for(let T=0;T<H.length;T++){let y=H[T];if(!y.href)continue;if(!l.ABOUT_PAGE_BAD_WORDS_MATCHES.every((r=>-1===y.href.indexOf(r))))continue;let P=r.getBoundingClientRect().top,X=y.getBoundingClientRect();X.top>P&&X.top-P<=l.MAX_DISTANCE_FROM_POST_TOP&&(F=y.href)}if(!F.length)return T;let y=F.substring(l.HREF_PREFIX.length,F.length),P=y.substring(0,y.search(/(\/|\?)/));if("profile.php"===P&&y.includes("id=")){const r=new RegExp(l.QUERY_GET_USER_ID_FROM_HREF);P=y.match(r),P&&P.length&&P[1]&&(P=P[1])}return T=l.ABOUT_PAGE_TEMPLATE.replace("%1",P),T}get isValidUrl(){return!this.fbConfig.FEED_PAGE.INVALID_URL_PATHS.some((r=>window.location.href.includes(r)))}addCoverImageSrcAttribute(r){let T=r.querySelector(this.fbConfig.FEED_PAGE.COVER_IMAGE_QUERY);if(T&&T.hasAttribute("src")){let l=T.getAttribute("src");r.setAttribute("data-cover-image-src",l)}}}},2300:(r,T,l)=>{const H=l(655),F=l(2880),y=l(7678),P=l(1568);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.fbConfig=H,this.fbMarketplace=null,this.fbMarketplaceObserver=null}ActualizeDetector(){return this.fbMarketplace=this.MainContainer,!!this.fbMarketplace}get MainContainer(){return document.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.CONTAINER)}ActivateMutationObserver(){this.fbMarketplace?(this.fbMarketplaceObserver||(this.fbMarketplaceObserver=new MutationObserver(this.DetectCandidates.bind(this,P.AD_DETECTOR_INITIATOR_MUTATION)),this.fbMarketplaceObserver.observe(this.fbMarketplace,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}Detector(){let r=this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.CARDS);if(r?.length)for(let T=0;T<r.length;T++){const l=r[T];let H=F.GetElementSize(l);if(this.addCoverImageSrcAttribute(l),!l.hasAttribute(P.ATTRIBUTE_BIS_ID)&&y.IsInitiallyRendered(l,H)&&(this.addCoverImageSrcAttribute(l),this.CheckIfAd(l))){let r;if(this.AdBlockerAgent.IsEnabledForFacebook()&&(y.HideSateliteSponsoredString(this.fbConfig,document.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SATELITE_SPONSORED_STRING)),r=this.HideAd(l,H,P.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE)),this.CheckIfAdRendered(l,y.GetMinImgsSpacePercentag(this.fbConfig,P.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE))){let T=F.GenerateAndSetBisIdToFBAds(l),H=this.options.extractAdStaticPartTimeoutMs+F.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.addCoverImageSrcAttribute(l),setTimeout(this.ExtractAd.bind(this,T,r,P.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE),H)}}}}addCoverImageSrcAttribute(r){let T=r.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.COVER_IMAGE_QUERY);if(T&&T.hasAttribute("src")&&!r.hasAttribute("data-cover-image-src")){let l=T.getAttribute("src");r.setAttribute("data-cover-image-src",l)}}CheckIfAd(r){let T=!1;if(!r||!this.MainContainer)return T;const l=r.getBoundingClientRect();let H=Array.from(this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSOR_BLOCKS));if(!H?.length)return T;for(let F of H){const H=F.getBoundingClientRect();if(H.x-l.x<=5&&H.x-l.x>=-5){let l=y.GetVisibleSpansText(F,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((r=>-1!==l.indexOf(r)))){r.setAttribute(P.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),T=!0;break}}else if(this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH){let l=r;for(let r of this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH)if(l[r])l=l[r];else if(r.includes(",")){const T=r.split(",");l=l[T[0]](T[1])}if(l){let H=y.GetVisibleSpansText(l,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((r=>-1!==H.indexOf(r)))){r.setAttribute(P.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),T=!0;break}}}}return T||(T=this.checkAHref(r)),T}checkAHref(r){return!!r.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSORED_HREF_CHECK)}GetAboutPageLink(r){let T="",l=this.fbConfig.ABOUT_SECTION_CONFIG,H=r.querySelector(`*[${P.ATTRIBUTE_BIS_LABEL}='fb_marketplace_ad']`),F=r.querySelectorAll(`a[href^='${l.HREF_PREFIX}'`);if(H&&F&&F.length){let y="",P=H.getBoundingClientRect().top,X=P-r.getBoundingClientRect().top;for(let r=0;r<F.length;r++){let T=F[r].getBoundingClientRect();F[r].href&&T.top<P&&P-T.top<X&&(X=P-T.top,y=F[r].href)}if(y.length){let r=y.substring(l.HREF_PREFIX.length,y.length),H=r.substring(0,r.search(/(\/|\?)/));if("profile.php"===H&&r.includes("id=")){const T=new RegExp(l.QUERY_GET_USER_ID_FROM_HREF);H=r.match(T),H&&H.length&&H[1]&&(H=H[1])}T=l.ABOUT_PAGE_TEMPLATE.replace("%1",H)}}return T}}},1899:(r,T,l)=>{const H=l(655),F=l(2880),y=l(7678),P=l(1568),X=l(8384);l(1568);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.fbConfig=H,this.fbRightColumn=null,this.fbRightColumnObserver=null,this.options=T}ActualizeDetector(){return this.fbRightColumn=this.getRightColumnContainer(),!!this.fbRightColumn}ActivateMutationObserver(){this.fbRightColumn?(this.fbRightColumnObserver||(this.fbRightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,P.AD_DETECTOR_INITIATOR_MUTATION)),this.fbRightColumnObserver.observe(this.fbRightColumn,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){let r=this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CARDS);if(r?.length)for(let T=0;T<r.length;T++){let l=r[T],H=null,I=Array.from(this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.SATELITE_SPONSORED_STRING)),R=F.GetElementSize(l);if(y.IsInitiallyRendered(l,R))if(l.hasAttribute(P.ATTRIBUTE_BIS_ID))this.CheckIfAdRotated(l)&&l.removeAttribute&&(l.removeAttribute(P.ATTRIBUTE_BIS_ID),l.removeAttribute(P.ATTRIBUTE_BIS_SIZE),l.removeAttribute(P.ATTRIBUTE_BIS_STATUS),X.Kr&&X.Jr&&"border: 6px solid green !important;"===l.style.cssText&&(l.style.cssText=""));else if(this.CheckIfAd(l,I)&&(this.AdBlockerAgent.IsEnabledForFacebook()&&(y.HideSateliteSponsoredString(this.fbConfig,I),H=this.HideAd(l,R,P.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)),this.CheckIfAdRendered(l,y.GetMinImgsSpacePercentag(this.fbConfig,P.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)))){let r=F.GenerateAndSetBisIdToFBAds(l),T=this.options.extractAdStaticPartTimeoutMs+F.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);setTimeout(this.ExtractAd.bind(this,r,H,P.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN),T)}}}CheckIfAd(r,T){const l=this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IMPOSSIBLE_HREF_REG_FOR_AD,H=this.fbConfig.SPONSORED_TEXTS;if(T?.length)for(let r of T){let T=r.innerText;if(H.some((r=>r===T)))return!0}const F=Array.from(r.querySelectorAll(`${this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IF_AD}, [${this.options.attributeWithSponsorAlly}]`));return!!F.length&&F.some((r=>{const T=r.href;if(-1===T?.indexOf(l))return!0;const F=r.getAttribute(this.options.attributeWithSponsorAlly);return!!F&&H.some((r=>F===r))}))}CheckIfAdRotated(r){let T=!1;if(r&&"extracted"===r.getAttribute(P.ATTRIBUTE_BIS_STATUS)){let l=0,H=0,F=0,y=r.querySelectorAll("*");y&&y.length&&(y.forEach((r=>{r.getAttribute(P.ATTRIBUTE_BIS_SIZE)?l+=1:H+=1})),0===l&&H>0?T=!0:l>0&&H>0&&(F=H/y.length*100|0,F>50&&(T=!0)))}return T}getRightColumnContainer(){return document.querySelector(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CONTAINER)}}},1454:(r,T,l)=>{const H=l(2880);r.exports=class{constructor(r){this.id=r}InjectDetector(){if(document.head){let r=document.createElement("script");this.setAttributes(r),document.head.appendChild(r)}}setAttributes(r){const T=H.getURL("../executors/facebook.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),r.src=T}}},7948:(r,T,l)=>{const H=l(655),F=l(7678),y=l(2880),P=l(1568);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.fbConfig=H,this.fbWatch=null,this.fbWatchObserver=null}ActualizeDetector(){return this.fbWatch=this.FeedWatchContainer,!!this.fbWatch}ActivateMutationObserver(){this.fbWatch?(this.fbWatchObserver||(this.fbWatchObserver=new MutationObserver(this.DetectCandidates.bind(this,P.AD_DETECTOR_INITIATOR_MUTATION)),this.fbWatchObserver.observe(this.fbWatch,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedWatchContainer(){const r=this.fbConfig.FEED_WATCH_PAGE.FEED_WATCH_QUERIES,T=r.length;let l=!1,H=null;for(let F=0;F<T&&!l;F++){let T=r[F],y=Array.from(document.querySelectorAll(T));if(!y.length)continue;let P=y.filter((r=>r.children&&r.children.length>2));P.length&&1===P.length&&(H=P[0],l=!0)}return H}DeactivateMutationObserver(){this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}Detector(){let r=this.fbWatch;if(r){let T=Array.from(r.children);for(let r=0;r<T.length;r++){const l=T[r];let H=y.GetElementSize(l);if(!l.hasAttribute(P.ATTRIBUTE_BIS_ID)&&F.IsInitiallyRendered(l,H)&&this.CheckIfAd(l)){let r="";if(this.AdBlockerAgent.IsEnabledForFacebook()&&(r=this.HideAd(l,H,P.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH)),this.CheckIfAdRendered(l,F.GetMinImgsSpacePercentag(this.fbConfig,P.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH))){this.addCoverImageSrcAttribute(l);let T=y.GenerateAndSetBisIdToFBAds(l),H=this.options.extractAdStaticPartTimeoutMs+y.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(l),setTimeout(this.ReadyToExtractAd.bind(this,T,r),H)}}}}}ReadyToExtractAd(r,T){try{if(r){let l=document.querySelector(`[${P.ATTRIBUTE_BIS_ID}=${r}]`),H=l.querySelector(`[${P.ATTRIBUTE_BIS_LABEL}="fb_watch_ad"]`);l&&H?this.ExtractAd(r,T,P.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH):(H.removeAttribute(P.ATTRIBUTE_BIS_ID),l.removeAttribute(P.ATTRIBUTE_BIS_ID))}}catch(r){}}CheckIfAd(r){const T=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let l=!1;for(let H=0;H<T.length&&!l;H++){const F=T[H];let y=r.querySelectorAll(F);if(l=this.GetTextCustom(y),l||(l=this.GetTextFromXlink(y)),l||(l=this.GetTextIfUseCanvas(y)),l){r.firstElementChild.setAttribute(P.ATTRIBUTE_BIS_LABEL,"fb_watch_ad");break}}return!!l}GetTextCustom(r){for(let T=0;T<r.length;T++){const l=r[T];let H=l.innerText,y=l.getAttribute(this.options.attributeWithSponsorAlly),X=y?[H,y]:H;if("string"==typeof H&&H.length&&this.isTagSponsored(X))return!0;if(H&&H.length>=2&&!l.hasAttribute(P.ATTRIBUTE_BIS_LABEL)){let r=F.GetVisibleSpansText(l,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(r!==H&&r!==y&&"string"==typeof r&&r.length&&this.isTagSponsored(r))return!0}}return!1}GetTextFromXlink(r){let T="";for(let l of r){if(!l.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const r=l.parentElement;let H="";if(r?.hasAttribute("bis_processed")&&r?.hasAttribute(P.ATTRIBUTE_BIS_LABEL))continue;const F=Array.from(r.children);if(F&&F.forEach((r=>{let T=r.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const l=document.querySelector(T);l&&("text"===l.nodeName.toLowerCase()?H+=l.textContent:"svg"===l.nodeName.toLowerCase()&&(H=this.GetTextFromXlink([l.firstElementChild])))})),r.setAttribute("bis_processed",""),this.isTagSponsored(H))return T=H,r.removeAttribute("bis_processed"),T;T=""}return T}GetTextIfUseCanvas(r){let T="";for(let l of r){if("canvas"!==l.nodeName.toLowerCase()||l.hasAttribute(P.ATTRIBUTE_BIS_LABEL))continue;let r=this.CheckAndGetFieldName(l);if("string"==typeof r&&this.isTagSponsored(r)){T=r;break}}return T}AddHiddenTextTags(r){const T=r.querySelectorAll("svg>use");if(T)for(let r=0;r<T.length;r++){const l=T[r],H=l.parentElement;let F=l.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let y=document.querySelector(F).cloneNode(!0);y.style.display="none",H&&H.appendChild(y)}}isTagSponsored(r){let T=!1;if(!r)return T;if("string"==typeof r)T=this.fbConfig.SPONSORED_TEXTS.some((T=>T===r));else for(let l of r)if(T=this.fbConfig.SPONSORED_TEXTS.some((r=>r===l)),T)break;return T}GetAboutPageLink(r){let T="",l=this.fbConfig.ABOUT_SECTION_CONFIG,H=r.querySelectorAll(l.HREF_PREFIX_WATCH);if(!H?.length)return T;let F="";for(let T=0;T<H.length;T++){let y=H[T];if(!y.href)continue;if(!l.ABOUT_PAGE_BAD_WORDS_MATCHES.every((r=>-1===y.href.indexOf(r))))continue;let P=r.getBoundingClientRect().top,X=y.getBoundingClientRect();X.top>P&&X.top-P<=l.MAX_DISTANCE_FROM_POST_TOP&&(F=y.href)}if(!F.length)return T;let y=F.substring(l.HREF_TEMPLATE_WATCH.length,F.length),P=y.substring(0,y.search(/(\/|\?)/));if("profile.php"===P&&y.includes("id=")){const r=new RegExp(l.QUERY_GET_USER_ID_FROM_HREF);P=y.match(r),P&&P.length&&P[1]&&(P=P[1])}return T=l.ABOUT_PAGE_TEMPLATE.replace("%1",P),T}addCoverImageSrcAttribute(r){let T=r.querySelector(this.fbConfig.FEED_WATCH_PAGE.COVER_IMAGE_QUERY);if(T&&T.hasAttribute("src")){let l=T.getAttribute("src");r.setAttribute("data-cover-image-src",l)}}}},3162:(r,T,l)=>{const H=l(2880),F=l(9358);class y{static GetHyperlinkEmbeddedTargetUrlDataList(r,T,l){let F,y,P,X=H.QuerySelectorAll(T,"A[href]"),I=[];for(var R=0;R<X.length;R++)if(F=X[R],!H.IsInFilterList(l,F.href)){y=H.GetElementSize(F),P=y.w*y.h;let r=F.querySelectorAll("img, canvas");if(r.length){let T,l;for(var _=0;_<r.length;_++)T=H.GetElementSize(r[_]),l=T.w*T.h,l>P&&(P=l,y.w=T.w,y.h=T.h)}P>=100&&H.isValidUrl(F.href)&&I.push({href:F.href,square:P})}return I&&I.length,I}static GetDocumentEmbeddedTargetUrlDataList(r,T,l){let H=[this.strategyStrictFinalUrl,this.strategyScriptClickTag,this.strategyAppnexus,this.strategyNoscriptAnchors,this.strategyScriptAndMetaContentJsonKeyWords,this.strategyLookingForPropertyInsideWindow],F=this.processStrategyList(T,H,l);return F&&F.length,F}static processStrategyList(r,T,l){let H=[];for(let F of T)try{let T=F(r,l);T&&T.href&&H.push(T)}catch(r){}return H}static strategyStrictFinalUrl(r,T){for(var l=H.QuerySelectorAll(r,'script[type="application/json"]'),F=0;F<l.length;F++){var y=l[F].outerText;if(y.length>1&&"{"===y[0]&&"}"===y[y.length-1]&&-1!=y.indexOf("targets")&&-1!=y.indexOf("redirectUrl")&&-1!=y.indexOf("finalUrl")){var P=JSON.parse(y);if(void 0!==P.targets&&void 0!==P.targets.redirectUrl&&void 0!==P.targets.redirectUrl.finalUrl){let r=P.targets.redirectUrl.finalUrl;if(H.isValidUrl(r))return{href:r,square:1e6}}}}}static strategyScriptClickTag(r,T){let l=H.QuerySelectorAll(r,"script");for(let r=0;r<l.length;r++){let T=l[r].outerText;if(T.length>1&&-1!==T.indexOf("clickTag")&&(T=T.replace(/\s/g,""),T.startsWith('varclickTag="')&&T.endsWith('";'))){let r=T.indexOf('"'),l=T.lastIndexOf('"'),F=T.substring(r+1,l);if(H.isValidUrl(F))return{href:F,square:1e6}}}}static strategyAppnexus(r,T){let l=H.QuerySelectorAll(r,".GoogleActiveViewElement script"),F=Array.from(l).map((r=>r.innerHTML)).filter((r=>r.indexOf("APPNEXUS.placement")>=0));for(let r=0;r<F.length;r++){let T=y(F[r]);if(H.isValidUrl(T))return{href:T,square:1e6}}function y(r){let T=(r=r.replace(/(\r\n|\n|\r|\s)/gm,"")).match(/APPNEXUS.placement\(".+","(.+)",.+/);return T&&T.length>1?T[1]:null}}static strategyNoscriptAnchors(r,T){let l=H.QuerySelectorAll(r,"noscript");for(let T=0;T<l.length;T++){let F=r.createElement("div");F.innerHTML=l[T].innerText;let y=F.querySelector("a[href]");if(y){let r=y.getAttribute("href");if(H.isValidUrl(r))return{href:r,square:1}}}}static strategyScriptAndMetaContentJsonKeyWords(r,T,l=null){if(l){let r=y(l,T);return H.isValidUrl(r)?{href:r,square:999999}:void 0}let F=H.QuerySelectorAll(r,"script, meta[content]");for(let r of F){let l="script"===r.nodeName.toLowerCase()?r.outerText:r.getAttribute("content");if(l.length>1&&"{"===l[0]&&"}"===l[l.length-1]){let r=y(JSON.parse(l),T);if(H.isValidUrl(r))return{href:r,square:999999}}}function y(r,T,l=[]){let F=T.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(l.length>F)return null;let X=Object.getOwnPropertyNames(r);for(let F of X)try{let X=r[F];if(!X)return null;let I=l.concat(F);if("string"==typeof X&&X.length>1&&"{"===X[0]&&"}"===X[X.length-1]){let r=y(JSON.parse(X),T,I);if(r)return r}if("object"==typeof X){let r=y(X,T,I);if(r)return r}else if("string"==typeof X&&P(F,T)&&H.isValidUrl(X))return X}catch(r){}return null}function P(r,T){let l=function(r){let T=r.toLowerCase();return T.replace(/[^a-zA-Z]+/g,"")}(r),H=T.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let r of H){if(l===r)return!0}return!1}}static strategyLookingForPropertyInsideWindow(r,T){const l=r.defaultView,H=T.WINDOW_PROPERTY_NAMES;for(let F of H){let H=l[F];if(H){if("string"==typeof H)return!H.search(/^http/)>-1&&(H=P(H)),{href:H,square:1e6};if("object"==typeof H)return y.strategyScriptAndMetaContentJsonKeyWords(r,T,H)}}function P(l){try{const H=F.decode(l);if(H){if("string"==typeof H&&"{"===H[0]){let l=JSON.parse(H);return y.strategyScriptAndMetaContentJsonKeyWords(r,T,l).href}return""}}catch(r){}}}}r.exports=y},9877:(r,T,l)=>{const H=l(2880),F=l(7817),y=l(3162);class P{constructor(r,T,l,F,y){this.id=l,this.fullIdStr=H.GetFullIdStr(r,T,l),this.init=!1,this.targetUrlDataList=[],this.targetUrlDetected=!1,this.IframesIO=null,this.activationTargetUrlCandidates=F,this.html5TargetUrlDetectionConfig=y.GetHtml5TargetUrlDetectionConfig(),this.blacklistedTargetUrls=y.BlacklistTargetUrl,this.detectionTimerId=null,this.onDetectTargetUrlCallBack=null}get FrameTargetUrl(){return this.targetUrlDataList}Init(r){return r&&(this.IframesIO=r,this.init=!0),this.init}DetectTargetUrl(r,T){if(this.init&&!this.targetUrlDetected&&this.html5TargetUrlDetectionConfig)if(this.onDetectTargetUrlCallBack=T,this.detectionTimerId=setTimeout(this.onTargetUrlDetectionTimout.bind(this),r),this.activationTargetUrlCandidates&&this.activationTargetUrlCandidates.length)this.targetUrlDataList=this.activationTargetUrlCandidates,this.TargetUrlDetected();else{let r=y.GetHyperlinkEmbeddedTargetUrlDataList(this.id,document,this.blacklistedTargetUrls);this.targetUrlDataList=this.targetUrlDataList.concat(r);let T=y.GetDocumentEmbeddedTargetUrlDataList(this.id,document,this.html5TargetUrlDetectionConfig);T=P.filterTargetUrlDataList(T,this.blacklistedTargetUrls),this.targetUrlDataList=this.targetUrlDataList.concat(T),this.targetUrlDataList&&this.targetUrlDataList.length?this.TargetUrlDetected():this.IframesIO.ActivateWindowEmbeddedTargetUrlDetection(this.onGetWindowEmbeddedTargetUrlData.bind(this))}}static filterTargetUrlDataList(r,T){if(!r||0===r.length)return[];return r.filter((r=>{if(r.href&&0===r.href.search(/^http/)&&!H.IsInFilterList(T,r.href))return!0}))}onGetWindowEmbeddedTargetUrlData(r){let T=P.filterTargetUrlDataList(r,this.blacklistedTargetUrls);this.targetUrlDataList.push(T),this.concatTargetUrlsDataIfNeed(),!T||T.length,this.TargetUrlDetected()}concatTargetUrlsDataIfNeed(){this.targetUrlDataList[0].length&&(this.targetUrlDataList=this.targetUrlDataList.flat(1))}onTargetUrlDetectionTimout(){this.targetUrlDetected||this.TargetUrlDetected()}TargetUrlDetected(){this.targetUrlDetected=!0,this.detectionTimerId&&(clearTimeout(this.detectionTimerId),this.detectionTimerId=null),this.onDetectTargetUrlCallBack&&this.onDetectTargetUrlCallBack()}static DetectTargetUrlFromWindowObj(r,T,l){var H=[];let P=l.GetHtml5TargetUrlDetectionConfig(),X=l.BlacklistTargetUrl;try{let l=y.GetHyperlinkEmbeddedTargetUrlDataList(r,T.document,P);H=H.concat(l)}catch(r){}try{let l=y.GetDocumentEmbeddedTargetUrlDataList(r,T.document,P);l=this.filterTargetUrlDataList(l,X),H=H.concat(l)}catch(r){}try{let l=F.GetWindowEmbeddedTargetUrlDataList(r,T,P,this.defaultWindowProps);l=this.filterTargetUrlDataList(l,X),H=H.concat(l)}catch(r){}return H&&H.length,H}}r.exports=P},7817:r=>{r.exports=class{static GetWindowEmbeddedTargetUrlDataList(r,T,l){let H=[function(r){if(void 0!==r.clickTag&&y(r.clickTag))return{href:r.clickTag,square:1000001}},function(r){if(void 0!==r.adData){if(void 0!==r.adData.destination_url&&y(r.adData.destination_url))return{href:r.adData.destination_url,square:1000001};if(void 0!==r.adData.redirect_url&&y(r.adData.redirect_url))return{href:r.adData.redirect_url,square:1000001}}},function(r){if(void 0!==r.BF&&void 0!==r.BF.Parameters&&void 0!==r.BF.Parameters.targeturl&&y(r.BF.Parameters.targeturl))return{href:r.BF.Parameters.targeturl,square:1000001}},function(r){if(void 0!==r.ADAPT&&void 0!==r.ADAPT.symbols&&void 0!==r.ADAPT.symbols.stage&&void 0!==r.ADAPT.symbols.stage.clickUrl&&y(r.ADAPT.symbols.stage.clickUrl))return{href:r.ADAPT.symbols.stage.clickUrl,square:1000001}},function(r){if(void 0!==r.admixAPI&&void 0!==r.admixAPI.ownerBanner&&void 0!==r.admixAPI.ownerBanner.clickUrl&&y(r.admixAPI.ownerBanner.clickUrl))return{href:r.admixAPI.ownerBanner.clickUrl,square:1000001}},function(r,T){let l=function(r,T,l){let H=function(r,T){let l=Object.getOwnPropertyNames(r);return l.filter((r=>T.WINDOW_PROPERTY_NAMES.indexOf(r)<0))}(T,l);if(!H||0===H.length)return null;return P(T,H,l)}(0,r,T);if(y(l))return{href:l,square:999999}}],F=function(r,T,l){let H=[];for(let F of T)try{let T=F(r,l);T&&T.href&&H.push(T)}catch(r){}return H}(T,H,l);return F&&F.length,F;function y(r){return"string"==typeof r&&r.length>0&&(-1!==r.indexOf("http")||-1!==r.indexOf("//"))}function P(r,T,l,H=[]){let F=l.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(H.length>F)return null;for(let F of T)try{let T=r[F];if(!T)return null;let I=H.concat(F);if("object"==typeof T){let r=P(T,Object.getOwnPropertyNames(T),l,I);if(r)return r}else if("string"==typeof T&&X(F,l)&&y(T))return T}catch(r){}return null}function X(r,T){let l=function(r){let T=r.toLowerCase();return T.replace(/[^a-zA-Z]+/g,"")}(r),H=T.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let r of H){if(l===r)return!0}return!1}}}},3375:(r,T,l)=>{const H=l(8384),F=l(1568),y=l(5364),P=l(5337),X=l(5972),I=l(9944),R=l(9346);r.exports=class extends R{constructor(r,T,l){super(r),this.id=r,this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.instaConfig=T.GetInstagramConfig,this.AdBlockerAgent=l,this.DetectorFeed=null,this.DetectorStories=null,this.headersEntries=[],this.ActivateVideoTrafficDetector()}onPageUrlChanged(r,T){this.available&&setTimeout((()=>{this.DeactivateDetectors(F.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),0)}ActivateDetector(r){r===F.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.DetectorFeed=new P(this.id,this.instaConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.DetectorStories=new I(this.id,this.instaConfig.STORIES.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.DetectorFeed.isVideo=this.isVideo.bind(this),this.DetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorFeed.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorFeed.HideElement=this.HideElementForInstagramFeedOnly.bind(this),this.DetectorFeed.isCarousel=this.isCarousel.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this),this.DetectorStories.HideElement=this.HideElement.bind(this),this.DetectorStories.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorStories.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorStories.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector=new X(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_w",JSON.stringify(this.instaConfig.TRAFFIC_LISTENER_CONFIG))}ActivateDetectors(){this.GetHeadersDataForLoader(),this.DetectorFeed.ActivateDetector(),this.DetectorStories.ActivateDetector()}DeactivateDetectors(r){this.DetectorFeed.DeactivateDetector(r),this.DetectorStories.DeactivateDetector(r)}processAndSendInstagramAd(r,T,l){let P=document.querySelector(`[${F.ATTRIBUTE_BIS_ID}=${r}]`);P&&(this.addFieldsToCandidateAboutHeaders(T),y.SendCandidatePlacementsCount(this.id,1,F.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM,null),y.SendAdCandidates(this.id,[T],F.MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM,null),H.Kr&&H.Jr&&(P.style.cssText+=l?F.STYLES_OUTLINE_VIDEO_AD:F.STYLES_OUTLINE_SUCCESS_DETECT))}GetHeadersDataForLoader(){let r=this.instaConfig.LOAD_USER_DATA.HEADERS_VALUES_QUERIES;for(let T of r){let r=new RegExp(T[1]),l=T[0],H=new RegExp(l,"i"),F=Array.from(document.querySelectorAll("script")).filter((r=>r.innerHTML.search(H)>-1));if(!F.length)return;let y=F[0].innerHTML.match(r)[1];this.headersEntries.push([l,y])}}addFieldsToCandidateAboutHeaders(r){this.headersEntries.length&&r.aboutPageUrl&&(r.headers=Object.fromEntries(this.headersEntries))}}},5337:(r,T,l)=>{const H=l(2880),F=l(1568),y=l(655);r.exports=class extends y{constructor(r,T,l,H){super(r,T,l),this.instaConfig=H,this.timeOptions=this.instaConfig.FEED.TIMEOUT_OPTIONS,this.id=r,this.adBlockerAgent=l,this.feedContainer=null,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.processInstagramAdsInterval=null}HideElement(r){}setSizesAndIdForAllElements(r){}getAdInstagramObject(r,T,l,H,F,y){}isCarousel(r){}isVideo(r,T){}removeCloneElement(r){}ActualizeDetector(){return this.feedContainer=this.FeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,F.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processFeedAds()}get FeedContainer(){const r=this.instaConfig.FEED.CONTAINER_QUERIES,T=this.instaConfig.FEED.CONTAINER_MIN_HEIGHT;for(let l of r){let r=document.querySelector(l);if(r){if(r.offsetHeight>=T)return r}}}checkAdBlockerAndHide(r){this.adBlockerAgent.IsEnabledForInstagram()&&!this.adBlockerAgent.IsElementHidden(r)&&(this.HideElement(r),this.adBlockerAgent.SetHiddenAmount(1))}processFeedAds(){let r=this.detectPromotedPosts();if(r&&r.length)for(let T of r){H.GetElementSize(T);if(!T.hasAttribute(F.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements(T);let r=H.GenerateAndSetBisIdToInstagramAds(T),l=this.createHTML(T);const y=this.getAdvertiserName(T),P=this.getTargetUrl(T),X=this.getAboutPageUrl(T);this.AddHiddenTextTags(l);const I=this.isCarousel(T),R=this.isVideo(T,this.instaConfig.TAGS_FOR_VIDEO_CHECK),_=this.getAdInstagramObject(T,l,y,P,X,F.INSTAGRAM_AD_PLACEMENT_TYPE_FEED);R&&!I&&(_.videoData={}),I&&(_.carouselSlidesSources=[]),this.removeCloneElement(l),this.checkAdBlockerAndHide(T);let t=setTimeout((()=>{this.ExtractAd.call(this,r,_,R),clearTimeout(t)}),100)}}}AddHiddenTextTags(r){const T=r.querySelectorAll("svg>use");if(T)for(let r=0;r<T.length;r++){const l=T[r],H=l.parentElement;let F=l.getAttribute("xlink:href");let y=document.querySelector(F).cloneNode(!0);y.style.display="none",y.id=y.id+"_bis",H&&H.appendChild(y)}}RemoveHideStylesFromClone(r){let T=r.querySelector("div"),l=T?T.firstElementChild:null,H=l?l.firstElementChild:null;return H?(l.style.cssText=l.style.cssText.replace(F.STYLES_HIDE_INSTAGRAM_FEED_AD[1],""),H.style.cssText=H.style.cssText.replace(F.STYLES_HIDE_INSTAGRAM_FEED_AD[0],""),r):r}detectPromotedPosts(){if(!this.feedContainer)return[];const r=this.instaConfig.FEED.IMG_SPACE_PERCENTAGE,T=this.instaConfig.PROMOTED_ALIASES;let l=Array.from(this.feedContainer.children),H=[];for(let F of l)if(this.IsPostContentRendered(F,r)){const r=F.querySelectorAll(this.instaConfig.FEED.PROMOTED_QUERY);for(let l of r){if(!l)continue;let r=l.hasAttribute("xlink:href")?this.GetTextFromXlink(l):l.innerText;if(r.includes("#"))continue;if(T.some((T=>r.search(T)>=0))){H.push(F);break}}}return H}GetTextFromXlink(r){let T=r.getAttribute("xlink:href");if(T){return document.querySelector(T).textContent}return""}IsPostContentRendered(r,T){let l=!1;if(r){let F=H.GetFullElementSize(r);if(F.w>0){H.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,r,F).some((r=>r>=T))&&(l=!0)}}return l}createHTML(r){const T=document.createElement("html"),l=this.cloneBodyWithStyles,H=this.cloneHeadWithStyles,F=r.cloneNode(!0),y=this.feedContainer,P=y.cloneNode();return this.styleFixes(P),this.setWrapperStyles(y,P),P.appendChild(F),l.appendChild(P),T.appendChild(H),T.appendChild(l),T}setWrapperStyles(r,T){T.style.cssText=T.style.cssText+` max-width: ${this.maxWidthContainer(r)}`}maxWidthContainer(r){return r?r.offsetWidth+"px":"auto"}styleFixes(r){r.style.paddingBottom=0}get cloneBodyWithStyles(){const r=document.createElement("body"),T=document.querySelectorAll('body style, body link[rel="stylesheet"]');return T&&T.forEach((T=>{const l=T.cloneNode(!0);r.appendChild(l)})),r}get cloneHeadWithStyles(){const r=document.createElement("head"),T=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return T&&T.forEach((T=>{let l=T.cloneNode(!0);r.appendChild(l)})),r}getAboutPageUrl(r){const T=this.instaConfig.FEED.ABOUT_PAGE_URL_QUERY;let l=r.querySelector(T);return l&&l.href?l.href:""}getAdvertiserName(r){const T=this.instaConfig.FEED.ADVERTISER_NAME_QUERY;let l=r.querySelector(T),H="";if(l){if(H=l.innerText,H)return H;if(H=l.innerHTML,-1===H.search(/\<\//))return H}return""}getTargetUrl(r){const T=this.instaConfig.FEED.TARGET_URL_QUERY;let l=r.querySelector(T),H="";return l&&l.href&&(H=l.href),H}}},9944:(r,T,l)=>{const H=l(2880),F=l(1568),y=l(655);r.exports=class extends y{constructor(r,T,l,H){super(r,T,l),this.instaConfig=H,this.id=r,this.adBlockerAgent=l,this.storyContainer=null,this.storiesObserver=null,this.processInstagramAdsInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}HideElement(r){}setSizesAndIdForAllElements(r){}getAdInstagramObject(r,T,l,H,F,y){}removeCloneElement(r){}ActualizeDetector(){return this.storyContainer=this.StoryContainer,!!this.storyContainer}ActivateMutationObserver(){this.storyContainer?(this.storiesObserver||(this.storiesObserver=new MutationObserver(this.DetectCandidates.bind(this,F.AD_DETECTOR_INITIATOR_MUTATION)),this.storiesObserver.observe(this.storyContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.storyContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processStoriesAds()}processStoriesAds(){let r=this.detectPromotedMarkedStory();if(r&&(H.GetElementSize(r),!r.hasAttribute(F.ATTRIBUTE_BIS_ID))){let T=H.GenerateAndSetBisIdToInstagramAds(r);this.setSizesAndIdForAllElements(r);const l=this.createHTML(r),y=this.getAdvertiserName(r),P=this.getTargetUrl(r),X=this.getAboutPageUrl(r);this.AddHiddenTextTags(l);const I=this.getAdInstagramObject(r,l,y,P,X,F.INSTAGRAM_AD_PLACEMENT_TYPE_STORY);this.adBlockerAgent.IsEnabledForInstagram(),this.removeCloneElement(l);let R=setTimeout((()=>{this.ExtractAd.call(this,T,I),clearTimeout(R)}),100)}}AddHiddenTextTags(r){const T=r.querySelectorAll("svg>use");if(T)for(let r=0;r<T.length;r++){const l=T[r],H=l.parentElement;let F=l.getAttribute("xlink:href");let y=document.querySelector(F).cloneNode(!0);y.style.display="none",y.id=y.id+"_bis",H&&H.appendChild(y)}}createHTML(r){const T=document.createElement("html"),l=this.cloneBodyWithStyles,H=this.cloneHeadWithStyles,F=r.cloneNode(!0),y=document.createElement("div");return this.styleFixes(F),this.setWrapperStyles(r,y),y.appendChild(F),l.appendChild(y),T.appendChild(H),T.appendChild(l),T}get cloneBodyWithStyles(){const r=document.createElement("body"),T=document.querySelectorAll('body style, body link[rel="stylesheet"]');return T&&T.forEach((T=>{const l=T.cloneNode(!0);r.appendChild(l)})),r}get cloneHeadWithStyles(){const r=document.createElement("head"),T=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return T&&T.forEach((T=>{let l=T.cloneNode(!0);r.appendChild(l)})),r}detectPromotedMarkedStory(){if(!this.storyContainer)return null;const r=this.instaConfig.STORIES.IMG_SPACE_PERCENTAGE,T=this.instaConfig.PROMOTED_ALIASES;let l=this.storyContainer;if(this.IsStoryContentRendered(l,r)){const r=l.querySelectorAll(this.instaConfig.STORIES.PROMOTED_QUERY);for(let H of r){if(!H)continue;let r=H.hasAttribute("xlink:href")?this.GetTextFromXlink(H):H.innerText;if(r.includes("#"))continue;if(T.some((T=>r.search(T)>=0)))return l}}return null}GetTextFromXlink(r){let T=r.getAttribute("xlink:href");if(T){return document.querySelector(T).textContent}return""}getAdvertiserName(r){const T=this.instaConfig.STORIES.ADVERTISER_NAME_QUERY;let l=r.querySelector(T);return l?l.innerText:""}getTargetUrl(r){const T=this.instaConfig.STORIES.TARGET_URL_QUERY;let l=r.querySelector(T),H="";return l&&l.href&&(H=l.href),H}getAboutPageUrl(r){const T=this.instaConfig.STORIES.ABOUT_PAGE_URL_QUERY;let l=r.querySelector(T);return l&&l.href?l.href:""}IsStoryContentRendered(r,T){let l=!1;if(r){let F=H.GetFullElementSize(r);if(F.w>0){H.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,r,F).some((r=>r>=T))&&(l=!0)}}return l}setWrapperStyles(r,T){T.style.cssText=T.style.cssText+` max-width: ${this.maxWidthContainer(r)}`}maxWidthContainer(r){return r?r.offsetWidth+"px":"auto"}styleFixes(r){r.style.transform=""}get StoryContainer(){return document.querySelector(this.instaConfig.STORIES.STORY_QUERY)}}},5972:(r,T,l)=>{const H=l(2880);r.exports=class{constructor(r,T){this.id=r,this.AdBlockerAgent=T}InjectDetector(r,T){if(document.head){var l=document.createElement("script");this.setAttributes(l),document.head.appendChild(l)}}setAttributes(r){const T=H.getURL("../executors/insta.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),this.AdBlockerAgent.IsEnabledForInstagram()&&r.setAttribute("ad-opt-on",""),r.src=T}}},9181:(r,T,l)=>{const H=l(9346),F=l(9170),y=l(1568),P=l(8384),X=l(5364),I=l(2880),R=l(1291),_=l(8247);r.exports=class extends H{constructor(r,T,l){super(r),this.id=r,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=l,this.linkedinConfig=T.LinkedinConfig,this.LinkedinDetectorFeed=null,this.LinkedinDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(r,T){this.available&&setTimeout((()=>{this.DeactivateDetectors(y.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.LinkedinDetectorFeed.ActivateDetector(),this.LinkedinDetectorRightColumn.ActivateDetector()}DeactivateDetectors(r){this.LinkedinDetectorFeed.DeactivateDetector(r),this.LinkedinDetectorRightColumn.DeactivateDetector(r)}ActivateDetector(r){r===y.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.LinkedinDetectorFeed=new R(this.id,this.linkedinConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.LinkedinDetectorRightColumn=new _(this.id,this.linkedinConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.LinkedinDetectorFeed.isVideo=this.isVideo.bind(this),this.LinkedinDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorFeed.getAdLinkedinObject=this.getAdLinkedinObject.bind(this),this.LinkedinDetectorFeed.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorFeed.HideElement=this.HideElement.bind(this),this.LinkedinDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorFeed.isCarousel=this.isCarousel.bind(this),this.LinkedinDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.LinkedinDetectorRightColumn.HideElement=this.HideElement.bind(this),this.LinkedinDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorRightColumn.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorRightColumn.getAdLinkedinObject=this.getAdLinkedinObject.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new F(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_l",JSON.stringify(this.linkedinConfig)))}IsAdContentRendered(r,T){let l=I.GetFullElementSize(r);return I.GetImagesSpacePercentage(this.linkedinConfig.TAGS_FOR_LOADING_CHECK,r,l).some((r=>r>=T))}processAndSendLinkedinAd(r,T,l=!1,H=document){let F=H.querySelector(`[${y.ATTRIBUTE_BIS_ID}=${r}]`);F&&(X.SendCandidatePlacementsCount(this.id,1,y.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN,null),X.SendAdCandidates(this.id,[T],y.MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN,null),P.Kr&&P.Jr&&(F.style.cssText+=l?y.STYLES_OUTLINE_VIDEO_AD:y.STYLES_OUTLINE_SUCCESS_DETECT))}}},1291:(r,T,l)=>{const H=l(655),F=l(1568),y=l(2880);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.id=r,this.feedObserver=null,this.linkedinConfig=H,this.feedContainer=null,this.AdBlockerAgent=l,this.adPlacementType=F.LINKEDIN_AD_PLACEMENT_TYPE_FEED}HideElement(){}setSizesAndIdForAllElements(r){}getAdLinkedinObject(r,T,l,H,F,y){}doesElementExists(r){}isCarousel(r){}isVideo(r,T){}IsAdContentRendered(r,T){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,F.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds()}processFeedAds(){this.extractOccurrences()}get getFeedContainer(){const r=this.linkedinConfig.FEED.QUERY_CONTAINER;let T=document.querySelector(r);return!T||T.children.length<3?null:T}extractOccurrences(){let{allCells:r,minImgSquarePercentage:T}=this.allCellsAndMinImgSpace();if(r.length)for(let l of r){if(y.GetElementSize(l),l.hasAttribute(F.ATTRIBUTE_BIS_ID))continue;if(!this.IsAdContentRendered(l,T))continue;let r=y.GenerateAndSetBisIdToLinkedinAds(l);this.setSizesAndIdForAllElements(l);const H=this.createHTML(l),P=this.getTargetUrl(l),X=this.getSocialAdvertiserUrl(l),I=this.getAdvertiserName(l),R=this.isCarousel(l),_=this.isVideo(l,this.linkedinConfig.TAGS_FOR_VIDEO_CHECK),t=this.getUniqueDataId(l);this.removeBisAttribute(H);let D=this.getAdLinkedinObject(l,H,this.adPlacementType,P,X,I,t);if(this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(l)&&(this.HideElement(l),this.AdBlockerAgent.SetHiddenAmount(1)),R&&(D.carouselSlidesData=this.getCarouselSlidesFromDOM(X,l)),l.querySelector("iframe")&&(D.doesHaveIframe=!0),_&&!R){const r=this.getVideoIdAndThumbnail(l);D.videoData=r||{}}setTimeout(this.ExtractAd.bind(this,r,D,_),100)}}allCellsAndMinImgSpace(){let r=[],T=0;return this.feedContainer&&(r=Array.from(this.feedContainer.children),T=this.linkedinConfig.FEED.IMG_SPACE_PERCENTAGE),r=r.filter((r=>this.linkedinConfig.FEED.COLLECT_AD_TYPE_EVENT?this.isPromoted(r):this.isPromoted(r)&&!r.querySelector(this.linkedinConfig.FEED.QUERY_CHECK_AD_TYPE_EVENT))),{allCells:r,minImgSquarePercentage:T}}isPromoted(r){const T=this.linkedinConfig.FEED.QUERIES_IS_PROMOTED,l=this.linkedinConfig.PROMOTED_ALIASES;let H=!1;for(let F of T){let T=Array.from(r.querySelectorAll(F));T.length&&(H=T.some((r=>{let T=r.textContent.trim().toLowerCase();if(T)return l.some((r=>T.indexOf(r)>=0))})))}return H}createHTML(r){const T=document.createElement("html"),l=this.cloneBodyWithStyles,H=this.cloneHeadWithStyles,F=r.cloneNode(!0),y=this.feedContainer,P=y.cloneNode();return this.styleFixes(P),this.setWrapperStyles(y,P,r),P.appendChild(F),l.appendChild(P),T.appendChild(H),T.appendChild(l),T}setWrapperStyles(r,T,l){T.style.cssText=T.style.cssText+` max-width: ${this.maxWidthContainer(r)}`,T.style.cssText=T.style.cssText+` max-height: ${this.maxHeightContainer(l)}`}maxWidthContainer(r){return r?r.offsetWidth+"px":"auto"}maxHeightContainer(r){return r?r.offsetHeight+"px":"auto"}styleFixes(r){r.style.overflow="hidden"}get cloneBodyWithStyles(){const r=document.createElement("body"),T=document.querySelectorAll('body style, body link[rel="stylesheet"]');return T&&T.forEach((T=>{const l=T.cloneNode(!0);r.appendChild(l)})),r}get cloneHeadWithStyles(){const r=document.createElement("head"),T=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),l=document.createElement("meta");return l.setAttribute("charset","UTF-8"),r.append(l),T&&T.forEach((T=>{let l=T.cloneNode(!0);r.appendChild(l)})),r}getTargetUrl(r){const T=this.linkedinConfig.FEED.QUERY_TARGET_URL;let l=r.querySelector(T);return l&&l.href?l.href:""}getSocialAdvertiserUrl(r){const T=this.linkedinConfig.FEED.QUERY_ADVERTISER_URL;let l=r.querySelector(T),H="";return l&&l.href?(H=l.href,H):H}getAdvertiserName(r){let T=r.querySelector(this.linkedinConfig.FEED.QUERY_ADVERTISER_NAME);return T?T.innerText.trim():""}getVideoIdAndThumbnail(r){const T=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.QUERY_VIDEO_TAG_GET_VIDEO_ID,l=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.REGEXP_VIDEO_ID),H=r.querySelector(T);if(!H)return null;const F=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.ATTRIBUTE_NAME_WITH_VIDEO_ID;let y=H.getAttribute(F);if(!y)return null;let P=y.match(l);return{videoId:P?.groups?.videoId?P.groups.videoId:null,previewImageUrl:y}}getCarouselSlidesFromDOM(r,T){let l=this.searchFirstImage(T);if(!l)return[];let H=this.searchMatchedImgId(l);if(!H)return[];let F=this.getAllCodeElements();if(!F.length)return[];let y=this.filterCodeElements(F,H);if(!y.length)return[];let P=this.getSlidesDatas(y,r);return P.length?this.getSlidesImagesSources(P):[]}searchFirstImage(r){return r.querySelector(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_FIRST_IMG)}searchMatchedImgId(r){let T=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.REGEXP_IMG_ID),l=r.src.match(T);return l.length&&1!==l.length?l[1]:null}getAllCodeElements(){return Array.from(document.querySelectorAll(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_CODE_ELEMENTS))}filterCodeElements(r,T){return r.filter((r=>r.innerHTML.includes(T))).map((r=>"{"===r.innerHTML.trim()[0]?JSON.parse(r.innerHTML):{}))}getSlidesDatas(r,T){const l=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SOCIAL_ADV_URL,H=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_DATA;let F=r.map((r=>{if(!r.included)return{};let F=r.included.filter((r=>{let H=r;for(let r of l)if(H[r]&&(H=H[r]),T===H)return!0}));if(!F.length)return!1;let y=F[0];for(let r of H)y[r]&&(y=y[r]);return y}));return F.length?F[0]:[]}getSlidesImagesSources(r){const T=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_ROOT_URL,l=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_PATH_URL,H=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SLIDE_TEXT;let F=[];for(let y of r){let r=y,P=y,X=y;for(let l of T)r[l]&&(r=r[l]);if(!r||"string"!=typeof r)break;for(let r of l)P[r]&&(P=P[r]);if(!P||"string"!=typeof P)break;for(let r of H)X[r]&&(X=X[r]);if(!X||"string"!=typeof X)break;let I=r+P,R={source:this.transformToValidUrl(I),text:X};F.push(R)}return F}transformToValidUrl(r){return r.replace(/amp\;/g,"")}removeBisAttribute(r){let T=r.querySelectorAll(`*[${F.ATTRIBUTE_BIS_ID}]`);T.length&&T.forEach((r=>{r.removeAttribute(F.ATTRIBUTE_BIS_ID)}))}getUniqueDataId(r){return r.querySelector(this.linkedinConfig.FEED.QUERY_GET_UNIQUE_ID)?.getAttribute("data-id")}}},8247:(r,T,l)=>{const H=l(655),F=l(2880),y=l(1568);l(9358);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.rightColumnContainer=null,this.rightColumnObserver=null,this.linkedinConfig=H,this.adPlacementType=y.LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN,this.promotedHeaderHeaderHeight=0}HideElement(){}setSizesAndIdForAllElements(r){}getAdLinkedinObject(r,T,l,H,F,y){}doesElementExists(r){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer(),!!this.rightColumnContainer}ActivateMutationObserver(){this.getRightColumnContainer()?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,y.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.rightColumnContainer=null,this.isObserverAlreadySet=!1)}getRightColumnContainer(){const r=document.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_CONTAINER);return r&&r.children.length?r:null}isPromoted(r){const T=r?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_PROMOTED),l=this.linkedinConfig.PROMOTED_ALIASES;let H=!1;if(T){this.promotedHeaderHeaderHeight=T.parentElement.offsetHeight;let r=T.textContent.trim().toLowerCase();H=l.includes(r)}return H}Detector(){this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer(),this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.rightColumnContainer.querySelectorAll(this.linkedinConfig.RIGHT_COLUMN.QUERY_AD_CONTAINER).forEach((r=>{this.isIframe(r)&&this.processIFrame(r)}))}isIframe(r){return!!r?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME)}processIFrame(r){const T=r.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME),l=T?.contentDocument;if(this.isPromoted(l)){const T=[];this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD.forEach((r=>T.push(...l.querySelectorAll(r)))),this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(r)&&(this.HideElement(r),this.AdBlockerAgent.SetHiddenAmount(T.length)),this.extractOccurrences(T,l)}}extractOccurrences(r,T){r.length&&r.forEach((r=>{if(F.GetElementSize(r),r.hasAttribute(y.ATTRIBUTE_BIS_ID))return;const l=F.GenerateAndSetBisIdToLinkedinAds(r);this.setSizesAndIdForAllElements(r);const H=this.cloneIframeWithAd(T,r),P=this.getTargetUrl(r);this.removeBisAttribute(H);const X=this.getAdLinkedinObject(r,H,this.adPlacementType,P,"","");setTimeout(this.ExtractAd.bind(this,l,X,!1,T),100)}))}cloneIframeWithAd(r,T){const l=document.createElement("html"),H=this.cloneHeadWithStyles(r),F=r.querySelector("body").cloneNode(!0),y=this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD_WRAPPER.find((r=>!!F.querySelector(r))),P=F.querySelector(y),X=F.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IFRAME_STYLES_CONTAINER),I=F.querySelector("script");return I&&I.remove(),X.style.height="auto",X.style.width=`${T.offsetWidth}px`,P.parentNode.style.height="auto",P.replaceChildren(),P.appendChild(T.cloneNode(!0)),l.appendChild(H),l.appendChild(F),l}cloneHeadWithStyles(r){const T=r||document,l=document.createElement("head"),H=T.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),F=document.createElement("meta");return F.setAttribute("charset","UTF-8"),l.append(F),H&&H.forEach((r=>{let T=r.cloneNode(!0);l.appendChild(T)})),l}getTargetUrl(r){return(r.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_TARGET_URL)||r).href||""}removeBisAttribute(r){let T=r.querySelectorAll(`*[${y.ATTRIBUTE_BIS_ID}]`);T.length&&T.forEach((r=>{r.removeAttribute(y.ATTRIBUTE_BIS_ID)}))}}},9170:(r,T,l)=>{const H=l(2880);r.exports=class{constructor(r){this.id=r}InjectDetector(r,T){if(document.head){let r=document.createElement("script");this.setAttributes(r),document.head.appendChild(r)}}setAttributes(r){const T=H.getURL("../executors/linkedin.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),r.src=T}}},2075:(r,T,l)=>{const H=l(2629),F=l(1050),y=l(2765),P=l(1568),X=l(5364),I=l(8384),R=l(8792),_=l(9346),t=l(2880);r.exports=class extends _{constructor(r,T,l){super(r),this.id=r,this.AdBlockerAgent=l,this.pinterestConfig=T.PinterestConfig,this.onPageRefreshed=this.onPageUrlChanged,this.available=!1,this.pinterestFeedDetector=null,this.pinterestPinDetector=null,this.pinterestSearchDetector=null,this.VideoTrafficDetector=null,this.ActivateVideoTrafficDetector()}onPageUrlChanged(r,T){this.available&&setTimeout((()=>{this.DeactivateDetectors(P.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),100)}PageRefreshed(r,T){this.pageUrl=r,this.ticketId=T,this.onPageUrlChanged&&this.onPageUrlChanged(r,T)}ActivateDetector(r){r===P.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.pinterestFeedDetector=new H(this.id,this.pinterestConfig.FEED_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestSearchDetector=new y(this.id,this.pinterestConfig.SEARCH_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestPinDetector=new F(this.id,this.pinterestConfig.PIN_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.pinterestFeedDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestFeedDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestFeedDetector.isCarousel=this.isCarousel.bind(this),this.pinterestFeedDetector.HideElement=this.HideElement.bind(this),this.pinterestFeedDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestFeedDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestFeedDetector.isVideo=this.isVideo.bind(this),this.pinterestFeedDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestFeedDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestPinDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestPinDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestPinDetector.isCarousel=this.isCarousel.bind(this),this.pinterestPinDetector.HideElement=this.HideElement.bind(this),this.pinterestPinDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestPinDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestPinDetector.isVideo=this.isVideo.bind(this),this.pinterestPinDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestPinDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestSearchDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestSearchDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestSearchDetector.isCarousel=this.isCarousel.bind(this),this.pinterestSearchDetector.HideElement=this.HideElement.bind(this),this.pinterestSearchDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestSearchDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestSearchDetector.isVideo=this.isVideo.bind(this),this.pinterestSearchDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestSearchDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this)}ActivateDetectors(){this.pinterestFeedDetector.ActivateDetector(),this.pinterestSearchDetector.ActivateDetector(),this.pinterestPinDetector.ActivateDetector()}DeactivateDetectors(r){this.pinterestFeedDetector.DeactivateDetector(r),this.pinterestSearchDetector.DeactivateDetector(r),this.pinterestPinDetector.DeactivateDetector(r)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new R(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_p",JSON.stringify(this.pinterestConfig)))}GetGlobalContainer(){return document.querySelector(this.pinterestConfig.MAIN_CONTAINER_QUERY)}getUniqueContentId(r){const T=r.querySelector(`div[${this.pinterestConfig.UNIQUE_ATTRIBUTE}]`);return T?T.getAttribute(this.pinterestConfig.UNIQUE_ATTRIBUTE):""}IsPostContentRendered(r,T,l){let H=!1;if(r){let F=t.GetFullElementSize(r);if(F.w>0&&F.h>0){t.GetImagesSpacePercentage(l,r,F).some((r=>r>=T))&&(H=!0)}}return H}sendPinterestAd(r,T){let l=document.querySelector(`[${P.ATTRIBUTE_BIS_ID}=${r}]`);l&&(X.SendCandidatePlacementsCount(this.id,1,P.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST,null),X.SendAdCandidates(this.id,[T],P.MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST,null),I.Kr&&I.Jr&&(T.videoData?l.style.cssText+=P.STYLES_OUTLINE_VIDEO_AD:l.style.cssText+=P.STYLES_OUTLINE_SUCCESS_DETECT))}}},2629:(r,T,l)=>{l(9346);const H=l(1568),F=l(2880),y=l(655);r.exports=class extends y{constructor(r,T,l,F){super(r,T,F),this.id=r,this.pinterestConfig=l,this.adBlockerAgent=F,this.adPlacementType=H.PINTEREST_AD_PLACEMENT_TYPE_FEED,this.feedContainer=null,this.lastFeedAdsCheckTime=0,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(r,T){}setSizesAndIdForAllElements(r){}getAdPinterestObject(r,T,l,H,F,y,P){}isVideo(r,T){}removeCloneElement(r){}IsPostContentRendered(r,T,l){}ActualizeDetector(){return!!this.isFeedPageURL()&&(this.feedContainer=this.getFeedContainer(),!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,H.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!0)}Detector(){let r=this.detectPromotedPins();if(r&&r.length)for(let T of r){F.GetElementSize(T);if(!T.hasAttribute(H.ATTRIBUTE_BIS_ID)){let r=F.GenerateAndSetBisIdToPinterestAds(T);this.setSizesAndIdForAllElements(T);const l=this.createHTML(T),y=this.getAdvertiserName(T),P=this.getTargetUrl(T),X=this.getTitleText(T),I=this.getAdvertiserUrl(T),R=this.getAdPinterestObject(T,l,y,P,X,I,H.PINTEREST_AD_PLACEMENT_TYPE_FEED);this.isVideo(T,this.pinterestConfig.FEED_PAGE.TAGS_FOR_VIDEO_CHECK)&&(R.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden(T)&&(this.HideElement(T),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(l);let _=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,r,R),clearTimeout(_)}),100)}}}detectPromotedPins(){if(!this.feedContainer)return[];let r=[],T=this.pinterestConfig.FEED_PAGE.IMG_SPACE_PERCENTAGE,l=this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,H=Array.from(this.feedContainer.childNodes),F=this.pinterestConfig.PROMOTED_ALIASES;for(let y of H)if(this.IsPostContentRendered(y,T,this.pinterestConfig.FEED_PAGE.TAGS_FOR_LOADING_CHECK)){const T=y.querySelector(this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY);if(!T)continue;let H=T.innerText;if(!H||"style"===T.nodeName.toLowerCase()){let r=window.getComputedStyle(T,":before");H=T.textContent,r&&r.content&&!H&&(H=r.content);for(let r of l){if(!H){H="";break}let T=r[0],l=r[1],F="join"!==T?new RegExp(l,"g"):"";"join"!==T||1!==H.length?H="replace"===T?H[T](F,""):H[T](F):H=H[0]}}F.some((r=>H.search(r)>=0))&&r.push(y)}return r}getFeedContainer(){let r=this.getGlobalContainer(),T=null;return r?(T=r.querySelector(this.pinterestConfig.FEED_PAGE.CONTAINER_QUERY),T):T}get cloneBodyWithStyles(){const r=document.createElement("body"),T=document.querySelectorAll("body style");return T&&T.forEach((T=>{const l=T.cloneNode(!0);r.appendChild(l)})),r}get cloneHeadWithStyles(){const r=document.createElement("head"),T=document.querySelectorAll('head link[rel="stylesheet"], head script');return T&&T.forEach((T=>{let l=T.cloneNode();r.appendChild(l)})),r}createHTML(r){const T=document.createElement("html"),l=this.cloneBodyWithStyles,H=this.cloneHeadWithStyles,F=r.cloneNode(!0);return this.styleFixes(F),l.appendChild(F),T.appendChild(H),T.appendChild(l),T}getAdvertiserName(r){const T=this.pinterestConfig.FEED_PAGE.ADVERTISER_NAME_QUERY;let l=Array.from(r.querySelectorAll(T));for(let r of l)if(r&&r.innerText)return r.innerText;return""}getAdvertiserUrl(r){const T=this.pinterestConfig.FEED_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let l=r.querySelector(T);return l?l.href:""}styleFixes(r){r.style.cssText=r.style.cssText.replace(/transform.[^;]*;/,"");for(let T of this.pinterestConfig.FEED_PAGE.STYLE_FIXES){const l=r.querySelector(T.ELEMENT_QUERY);let F=T.NEW_RULES;if(l){if(T.NEW_RULES.includes("${")){let r=JSON.parse(l.getAttribute(H.ATTRIBUTE_BIS_SIZE)).h;F=T.NEW_RULES.replace(/\$\{.[^}]*\}/,r)}l.style.cssText+=F}}}getTargetUrl(r){const T=this.pinterestConfig.FEED_PAGE.TARGET_URL_QUERY;let l=r.querySelector(T),H="";return l&&l.href&&(H=l.href),H}getTitleText(r){const T=this.pinterestConfig.FEED_PAGE.TITLE_TEXT_QUERY;let l=r.querySelector(T),H="";return l&&l.textContent.length&&(H=l.textContent),H}isFeedPageURL(){return-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin|search)\//)}}},1050:(r,T,l)=>{const H=l(1568),F=l(2880),y=l(655);r.exports=class extends y{constructor(r,T,l,F){super(r,T,F),this.id=r,this.pinterestConfig=l,this.adBlockerAgent=F,this.pinContainer=null,this.adPlacementType=H.PINTEREST_AD_PLACEMENT_TYPE_PIN,this.lastPinAdsCheckTime=0,this.pinObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(r,T){}setSizesAndIdForAllElements(r){}getAdPinterestObject(r,T,l,H,F,y,P){}isVideo(r,T){}removeCloneElement(r){}IsPostContentRendered(r,T,l){}ActualizeDetector(){return this.pinContainer=this.getPinContainer(),!!this.pinContainer}ActivateMutationObserver(){this.pinContainer?(this.pinObserver||(this.pinObserver=new MutationObserver(this.DetectCandidates.bind(this,H.AD_DETECTOR_INITIATOR_MUTATION)),this.pinObserver.observe(this.pinContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.pinContainer=null,this.isObserverAlreadySet=!1)}Detector(){let r=this.detectPromotedPins();if(r&&r.length)for(let T of r){F.GetElementSize(T);if(!T.hasAttribute(H.ATTRIBUTE_BIS_ID)){let r=F.GenerateAndSetBisIdToPinterestAds(T);this.setSizesAndIdForAllElements(T);const l=this.createHTML(T),H=this.getAdvertiserName(T),y=this.getTargetUrl(T),P=this.getTitleText(T),X=this.getAdvertiserUrl(T),I=this.getAdPinterestObject(T,l,H,y,P,X,this.adPlacementType);this.isVideo(T,this.pinterestConfig.PIN_PAGE.TAGS_FOR_VIDEO_CHECK)&&(I.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden(T)&&(this.HideElement(T),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(l);let R=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,r,I),clearTimeout(R)}),100)}}}detectPromotedPins(){if(!this.pinContainer)return[];let r=[],T=this.pinterestConfig.PIN_PAGE.IMG_SPACE_PERCENTAGE,l=this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,H=Array.from(this.pinContainer.childNodes),F=this.pinterestConfig.PROMOTED_ALIASES;for(let y of H)if(this.IsPostContentRendered(y,T,this.pinterestConfig.PIN_PAGE.TAGS_FOR_LOADING_CHECK)){const T=y.querySelector(this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY);if(!T)continue;let H=T.innerText;if(!H||"style"===T.nodeName.toLowerCase()){let r=window.getComputedStyle(T,":before");H=T.textContent,r&&r.content&&!H&&(H=r.content);for(let r of l){if(!H){H="";break}let T=r[0],l=r[1],F="join"!==T?new RegExp(l,"g"):"";"join"!==T||1!==H.length?H="replace"===T?H[T](F,""):H[T](F):H=H[0]}}F.some((r=>H.search(r)>=0))&&r.push(y)}return r}getPinContainer(){let r=this.getGlobalContainer(),T=null;return r?(T=r.querySelector(this.pinterestConfig.PIN_PAGE.CONTAINER_QUERY),T):T}get cloneBodyWithStyles(){const r=document.createElement("body"),T=document.querySelectorAll("body style");return T&&T.forEach((T=>{const l=T.cloneNode(!0);r.appendChild(l)})),r}get cloneHeadWithStyles(){const r=document.createElement("head"),T=document.querySelectorAll('head link[rel="stylesheet"], head script');return T&&T.forEach((T=>{let l=T.cloneNode();r.appendChild(l)})),r}createHTML(r){const T=document.createElement("html"),l=this.cloneBodyWithStyles,H=this.cloneHeadWithStyles,F=r.cloneNode(!0);return this.styleFixes(F),l.appendChild(F),T.appendChild(H),T.appendChild(l),T}getAdvertiserName(r){const T=this.pinterestConfig.PIN_PAGE.ADVERTISER_NAME_QUERY;let l=Array.from(r.querySelectorAll(T));for(let r of l)if(r&&r.innerText)return r.innerText;return""}getAdvertiserUrl(r){const T=this.pinterestConfig.PIN_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let l=r.querySelector(T);return l?l.href:""}getTitleText(r){const T=this.pinterestConfig.PIN_PAGE.TITLE_TEXT_QUERY;let l=r.querySelector(T),H="";return l&&l.textContent.length&&(H=l.textContent),H}styleFixes(r){r.style.cssText=r.style.cssText.replace(/transform.[^;]*;/,"");for(let T of this.pinterestConfig.PIN_PAGE.STYLE_FIXES){const l=r.querySelector(T.ELEMENT_QUERY);let F=T.NEW_RULES;if(l){if(T.NEW_RULES.includes("${")){let r=JSON.parse(l.getAttribute(H.ATTRIBUTE_BIS_SIZE)).h;F=T.NEW_RULES.replace(/\$\{.[^}]*\}/,r)}l.style.cssText+=F}}}getTargetUrl(r){const T=this.pinterestConfig.PIN_PAGE.TARGET_URL_QUERY;let l=r.querySelector(T),H="";return l&&l.href&&(H=l.href),H}isPinPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin)\//))}}},2765:(r,T,l)=>{const H=l(1568),F=l(2880),y=l(655);r.exports=class extends y{constructor(r,T,l,H){super(r,T,H),this.id=r,this.pinterestConfig=l,this.adBlockerAgent=H,this.searchContainer=null,this.lastSearchPageAdsCheckTime=0,this.searchPageObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(r,T){}setSizesAndIdForAllElements(r){}getAdPinterestObject(r,T,l,H,F,y,P){}isVideo(r,T){}removeCloneElement(r){}IsPostContentRendered(r,T,l){}ActualizeDetector(){return this.searchContainer=this.getSearchContainer(),!!this.searchContainer}ActivateMutationObserver(){this.searchContainer?(this.searchPageObserver||(this.searchPageObserver=new MutationObserver(this.DetectCandidates.bind(this,H.AD_DETECTOR_INITIATOR_MUTATION)),this.searchPageObserver.observe(this.searchContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.searchContainer=null,this.isObserverAlreadySet=!1)}Detector(){let r=this.detectPromotedPins();if(r&&r.length)for(let T of r){F.GetElementSize(T);if(!T.hasAttribute(H.ATTRIBUTE_BIS_ID)){let r=F.GenerateAndSetBisIdToPinterestAds(T);this.setSizesAndIdForAllElements(T);const l=this.createHTML(T),y=this.getAdvertiserName(T),P=this.getTargetUrl(T),X=this.getTitleText(T),I=this.getAdvertiserUrl(T),R=this.getAdPinterestObject(T,l,y,P,X,I,H.PINTEREST_AD_PLACEMENT_TYPE_SEARCH);this.isVideo(T,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_VIDEO_CHECK)&&(R.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.AdBlockerAgent.IsElementHidden(T)&&(this.HideElement(T),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(l);let _=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,r,R),clearTimeout(_)}),100)}}}detectPromotedPins(){if(!this.searchContainer)return[];let r=[],T=this.pinterestConfig.SEARCH_PAGE.IMG_SPACE_PERCENTAGE,l=this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,H=Array.from(this.searchContainer.childNodes),F=this.pinterestConfig.PROMOTED_ALIASES;for(let y of H)if(this.IsPostContentRendered(y,T,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_LOADING_CHECK)){const T=y.querySelector(this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY);if(!T)continue;let H=T.innerText;if(!H||"style"===T.nodeName.toLowerCase()){let r=window.getComputedStyle(T,":before");H=T.textContent,r&&r.content&&!H&&(H=r.content);for(let r of l){if(!H){H="";break}let T=r[0],l=r[1],F="join"!==T?new RegExp(l,"g"):"";"join"!==T||1!==H.length?H="replace"===T?H[T](F,""):H[T](F):H=H[0]}}F.some((r=>H.search(r)>=0))&&r.push(y)}return r}getSearchContainer(){let r=this.getGlobalContainer(),T=null;return r?(T=r.querySelector(this.pinterestConfig.SEARCH_PAGE.CONTAINER_QUERY),T):T}get cloneBodyWithStyles(){const r=document.createElement("body"),T=document.querySelectorAll("body style");return T&&T.forEach((T=>{const l=T.cloneNode(!0);r.appendChild(l)})),r}get cloneHeadWithStyles(){const r=document.createElement("head"),T=document.querySelectorAll('head link[rel="stylesheet"], head script');return T&&T.forEach((T=>{let l=T.cloneNode();r.appendChild(l)})),r}createHTML(r){const T=document.createElement("html"),l=this.cloneBodyWithStyles,H=this.cloneHeadWithStyles,F=r.cloneNode(!0);return this.styleFixes(F),l.appendChild(F),T.appendChild(H),T.appendChild(l),T}getAdvertiserName(r){const T=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_NAME_QUERY;let l=Array.from(r.querySelectorAll(T));for(let r of l)if(r&&r.innerText)return r.innerText;return""}getAdvertiserUrl(r){const T=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let l=r.querySelector(T);return l?l.href:""}styleFixes(r){r.style.cssText=r.style.cssText.replace(/transform.[^;]*;/,"");for(let T of this.pinterestConfig.SEARCH_PAGE.STYLE_FIXES){const l=r.querySelector(T.ELEMENT_QUERY);let F=T.NEW_RULES;if(l){if(T.NEW_RULES.includes("${")){let r=JSON.parse(l.getAttribute(H.ATTRIBUTE_BIS_SIZE)).h;F=T.NEW_RULES.replace(/\$\{.[^}]*\}/,r)}l.style.cssText+=F}}}getTargetUrl(r){const T=this.pinterestConfig.SEARCH_PAGE.TARGET_URL_QUERY;let l=r.querySelector(T),H="";return l&&l.href&&(H=l.href),H}getTitleText(r){const T=this.pinterestConfig.SEARCH_PAGE.TITLE_TEXT_QUERY;let l=r.querySelector(T),H="";return l&&l.textContent.length&&(H=l.textContent),H}isSearchPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(search)\//))}}},8792:(r,T,l)=>{const H=l(2880);l(1568);r.exports=class{constructor(r){this.id=r}InjectDetector(r,T){if(document.head){var l=document.createElement("script");this.setAttributes(l),document.head.appendChild(l)}}setAttributes(r){const T=H.getURL("../executors/pinterest.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),r.src=T}}},5465:(r,T,l)=>{const H=l(9346),F=l(9105),y=l(1568),P=l(8384),X=l(5364),I=l(9431),R=l(1145),_=l(9955);r.exports=class extends H{constructor(r,T,l){super(r),this.id=r,this.RedditVideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=l,this.redditConfig=T.RedditConfig,this.RedditDetectorFeed=null,this.RedditDetectorComments=null,this.RedditDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(r,T){this.available&&setTimeout((()=>{this.DeactivateDetectors(y.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.RedditDetectorFeed.ActivateDetector(),this.RedditDetectorComments.ActivateDetector(),this.RedditDetectorRightColumn.ActivateDetector()}DeactivateDetectors(r){this.RedditDetectorFeed.DeactivateDetector(r),this.RedditDetectorComments.DeactivateDetector(r),this.RedditDetectorRightColumn.DeactivateDetector(r)}ActivateDetector(r){r===y.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.RedditDetectorFeed=new I(this.id,this.redditConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorComments=new R(this.id,this.redditConfig.COMMENT_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorRightColumn=new _(this.id,this.redditConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.RedditDetectorFeed.isCarousel=this.isCarousel.bind(this),this.RedditDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorFeed.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorFeed.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorFeed.HideElement=this.HideElement.bind(this),this.RedditDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorComments.HideElement=this.HideElement.bind(this),this.RedditDetectorComments.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorComments.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorComments.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorComments.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorRightColumn.HideElement=this.HideElement.bind(this),this.RedditDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorRightColumn.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorRightColumn.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this)}ActivateTrafficDetector(){this.RedditVideoTrafficDetector||(this.RedditVideoTrafficDetector=new F(this.id),this.RedditVideoTrafficDetector.InjectDetector(this.id+"_r",JSON.stringify(this.redditConfig)))}processAndSendRedditAd(r,T,l=!1){let H=document.querySelector(`[${y.ATTRIBUTE_BIS_ID}=${r}]`);if(H){let r=!!H.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK);X.SendCandidatePlacementsCount(this.id,1,y.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT,null),X.SendAdCandidates(this.id,[T],y.MESSAGE_TYPE_CANDIDATES_DATA_REDDIT,null),P.Kr&&P.Jr&&(H.style.cssText+=l?y.STYLES_OUTLINE_VIDEO_AD:r?y.STYLES_OUTLINE_TEXT_AD:y.STYLES_OUTLINE_SUCCESS_DETECT)}}}},1145:(r,T,l)=>{const H=l(655),F=l(1568),y=l(2880);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.id=r,this.redditConfig=H,this.commentPageContainer=null,this.AdBlockerAgent=l,this.commentPageObserver=null,this.adPlacementType=F.REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE}HideElement(){}setSizesAndIdForAllElements(r){}getAdRedditObject(r,T,l,H){}doesElementExists(r){}ActualizeDetector(){return this.commentPageContainer=this.getCommentPageContainer,!!this.commentPageContainer}ActivateMutationObserver(){this.commentPageContainer?(this.commentPageObserver||(this.commentPageObserver=new MutationObserver(this.DetectCandidates.bind(this,F.AD_DETECTOR_INITIATOR_MUTATION)),this.commentPageObserver.observe(this.commentPageContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}get getCommentPageContainer(){let r=this.redditConfig.COMMENT_PAGE.QUERIES,T=this.redditConfig.COMMENT_PAGE.MIN_HEIGHT,l=window.innerWidth,H=this.redditConfig.COMMENT_PAGE.QUERY_TO_EXCLUDE,F=this.redditConfig.COMMENT_PAGE.TOP_DISTANCE;for(let y of r){const r=Array.from(document.querySelectorAll(y));for(let y of r){const r=y.getBoundingClientRect(),P=(l-parseInt(y.offsetWidth))/l*100,X=Array.from(y.children);if(parseInt(y.offsetHeight)>T&&P>2&&(parseInt(r.top)>F||parseInt(r.top)<0)&&X.length>=3&&!y.querySelector(H))return y}}return null}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processCommentPageAds(!0),this.isCommentPage&&this.commentPageContainer&&this.processCommentPageAds()}processCommentPageAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let r=[],T=[],l=this.redditConfig.COMMENT_PAGE.IMG_SPACE_PERCENTAGE;return this.commentPageContainer&&(r=Array.from(this.commentPageContainer.children).map((r=>{let l=Array.from(r.querySelectorAll(this.redditConfig.COMMENT_PAGE.QUERY_AD_INSIDE_COMMENT_TREE));if(!l?.length)return r;for(let r of l)T.push(r)})).concat(T)),r=r.filter((r=>!!r&&this.isPromoted(r))),{allCells:r,minImgSquarePercentage:l}}extractOccurrences(){let{allCells:r,minImgSquarePercentage:T}=this.allCellsAndMinImgSpace();if(r.length)for(let l of r)if(!l.hasAttribute(F.ATTRIBUTE_BIS_ID)&&!l.hasAttribute(F.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(l,T)&&this.isAvatarImgReady(l)){let r=y.GenerateAndSetBisIdToRedditAds(l),T=this.isVideoPost(l);if(this.isShadowRootExist(l)){const H=this.deepClone(l);let F=this.buildBannerHtml(H,this.adPlacementType),y=this.lookingTargetUrl(F),P=this.getAdRedditObject(l,F,y,this.adPlacementType);T&&(P.videoData=this.lookingForVideoDataInContent(l)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(l)&&(this.HideElement(l),this.AdBlockerAgent.SetHiddenAmount(1)),H.remove(),setTimeout(this.ExtractAd.bind(this,r,P,T),100)}else{this.setSizesAndIdForAllElements(l);const H=l.cloneNode(!0);let F=this.buildBannerHtml(H,this.adPlacementType),y=this.lookingTargetUrl(F),P=this.getAdRedditObject(l,F,y,this.adPlacementType);T&&(P.videoData=this.lookingForVideoDataInContent(l)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(l),this.AdBlockerAgent.SetHiddenAmount(1)),H.remove(),setTimeout(this.ExtractAd.bind(this,r,P,T),100)}}}isShadowRootExist(r){if(r.shadowRoot)return!0;return Array.from(r.querySelectorAll("*")).some((r=>r.shadowRoot))}deepClone(r){let T=1;const l=(r,H)=>{const F=(r,T)=>{for(;r;)l(r,T),r=r.nextSibling};if(r){const l=r.cloneNode(!1);"SLOT"===r.nodeName&&(r.setAttribute("data-assigning-slot-id",T),l.setAttribute("data-assigning-slot-id",T)),r.assignedSlot&&r instanceof Element&&r.assignedSlot.hasAttribute("data-assigning-slot-id")&&l.setAttribute("data-assigned-to",r.assignedSlot.getAttribute("data-assigning-slot-id")),T+=1,H.appendChild(l),r.shadowRoot&&(this.setSizesAndIdForAllElements(r.shadowRoot),r.shadowRoot&&r.shadowRoot.firstChild.setAttribute&&y.SetFullSizeToElement(r.shadowRoot.firstChild),F(r.shadowRoot.firstChild,l)),this.setSizesAndIdForAllElements(r),r&&r.setAttribute&&y.SetFullSizeToElement(r),F(r.firstChild,l)}},H=document.createElement("div");return l(r,H),this.replaceElementsToRightSlots(H.firstElementChild),H.firstElementChild}replaceElementsToRightSlots(r){const T=r.querySelectorAll("*[data-assigned-to]"),l=r.querySelectorAll("*[data-assigning-slot-id]");for(let r of T){const T=r.getAttribute("data-assigned-to");for(let H of l){if(T===H.getAttribute("data-assigning-slot-id")){H.appendChild(r);break}}}}buildBannerHtml(r,T){let l=this.commentPageContainer;this.setWrapperClass(l);let H=this.headCopyWithStyles;const F=document.createElement("html"),y=this.bodyCopyWithStyles,P=document.createElement("div"),X=l.cloneNode();return P.appendChild(X),this.setWrapperStyles(l,P),H.appendChild(this.getClassNameForStyles(r)),F.appendChild(H),X.appendChild(r),y.appendChild(P),F.appendChild(y),F}setWrapperClass(r){let T=r.parentElement,l=!1;if(T)for(let F=0;F<50&&!l&&T;F++)if(T.nextSibling&&-1!==T.nextSibling.nodeName.search(/style/i)&&T.previousSibling&&-1!==T.previousSibling.nodeName.search(/style/i)){var H=T.getAttribute("class");r.className+=r.className.length?" "+H:H,l=!0}else T=T.parentElement}get headCopyWithStyles(){const r=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((T=>{const l=T.KEY,H=T.ALL_STYLES_FROM,F=T.COMMENT_PAGE;for(let T of Array.from(r.children))if(-1!==T.nodeName.search(/^(style|link)$/gi)){if(T.dataset[l]){let r=H.some((r=>T.dataset[l].includes(r)));!r&&this.isCommentPage&&(r=F.some((r=>T.dataset[l].includes(r)))),r||T.remove()}}else T.remove()})),this.neccesaryStyleRules){const T=document.createElement("style");T.innerHTML=this.neccesaryStyleRules,r.appendChild(T)}return this.getStylesByTagName(r),r}get neccesaryStyleRules(){let r=null;const T=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((r=>{const T=new RegExp(r,"gi"),l=document.querySelector("head").outerHTML.match(T);let H;return l&&l.length&&(H=l.join("")),H})).filter((r=>r));return T&&T.length&&(r=T.join("")),r}getClassNameForStyles(r){let T=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((l=>{const H=r.querySelector(l.CLASS_NAME_CHILD);let F=H&&H.parentElement?H.parentElement:null,y="";for(let r=1;r<l.DEEP_LEVEL;r++)F&&(F=F.parentElement);F&&(y=F.classList[0],T.innerHTML+="."+y+l.STYLES)})),T}getStylesByTagName(r){let T=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((T=>{const l=new RegExp(T.ATTRIBUTE_REGEX_VALUE);return Array.from(r.querySelectorAll(T.TAG_NAME)).filter((r=>{if(r&&r[T.ATTRIBUTE_NAME]&&-1!==r[T.ATTRIBUTE_NAME].search(l))return r;r.remove()}))})).filter((r=>r)).forEach((r=>{T=T.concat(r)})),T.forEach((T=>{r.appendChild(T)}))}get bodyCopyWithStyles(){const r=document.createElement("body"),T=document.querySelector("body style")?.cloneNode(!0);return T&&r.appendChild(T),r}isPromoted(r){if(!r)return!1;let T=r,l=null;1===T.childElementCount&&T.firstElementChild.shadowRoot&&T.firstElementChild.shadowRoot.firstElementChild?l=T.firstElementChild.shadowRoot.firstElementChild:T.shadowRoot&&(l=T.shadowRoot.firstElementChild);let H=[];l&&(H=Array.from(l.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)));let F=Array.from(T.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)).concat(H);return F.length?F.some((r=>{let T=r.textContent.trim().toLowerCase();return T?this.redditConfig.PROMOTED_ALIASES.some((r=>T.indexOf(r)>=0)):r.dataset.beforeContent?(T=r.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((r=>T.indexOf(r)>=0))):void 0})):void 0}IsPostContentRendered(r,T){let l=!1;if(r){let H=r.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(H&&0===H.length){let H=y.GetFullElementSize(r);if(H.w>0){y.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,r,H).some((r=>r>=T))&&(l=!0)}}r.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(l=!0)}return l}lookingTargetUrl(r){let T="";let l=Array.from(r.querySelectorAll('a[target="_blank"]')).filter((r=>!(!r||!r.href||r.href.includes("reddit.com/user/"))));return l.length&&(T=l[0].href),T}isAvatarImgReady(r){if(!r)return!1;let T=[r],l=null;1===r.childElementCount&&r.firstElementChild.shadowRoot&&(l=r.firstElementChild.shadowRoot.firstElementChild),r.shadowRoot&&(l=r.shadowRoot.firstElementChild),l&&T.push(l);let H=!1;for(let r of T){let T=r.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if(T){if(!T.shadowRoot)return!0;if(H=!!T.shadowRoot&&!!T.shadowRoot.querySelector("img"),H)break}}return H}isVideoPost(r){let T=!1;if(r){T=Array.from(r.querySelectorAll("*")).some((r=>{let T=!!r.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!T&&r.shadowRoot&&(T=!!r.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),T}))}return T}lookingForVideoDataInContent(r){const T=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let l=r.querySelector(T);if(l){let r=l.getAttribute("src");l.getAttribute("poster");if(r&&!r.includes("blob:")){const T=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let l=r.match(T),H=null;if(l?.groups?.videoId)return H=l.groups.videoId,{videoId:H,url:r}}}return{}}maxWidthContainer(r){return r?r.offsetWidth+"px":"auto"}setWrapperStyles(r,T){T.style.cssText=T.style.cssText+`max-width: ${this.maxWidthContainer(r)}`}get isCommentPage(){return-1!==window.location.href.indexOf(this.redditConfig.COMMENT_PAGE.TEXT_FROM_HREF)}get isCommentPopup(){return!!document.querySelector(this.redditConfig.COMMENT_PAGE.QUERY_IS_POPUP)}}},9431:(r,T,l)=>{const H=l(655),F=l(1568),y=l(2880);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.id=r,this.feedObserver=null,this.redditConfig=H,this.feedContainer=null,this.AdBlockerAgent=l,this.lastTopPosition=null,this.adPlacementType=F.REDDIT_AD_PLACEMENT_TYPE_FEED}isCarousel(){}HideElement(){}setSizesAndIdForAllElements(r){}getAdRedditObject(r,T,l,H){}doesElementExists(r){}ActualizeDetector(){return!!this.isValidUrl&&(this.feedContainer=this.getFeedContainer,!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,F.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.lastTopPosition=parseInt(this.feedContainer.getBoundingClientRect().top),this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processFeedAds(),this.isCommentPage||this.isCommentPopup||(this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds())}processFeedAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let r=[],T=0;if(this.feedContainer){let l=Array.from(this.feedContainer.children),H=Array.from(document.querySelectorAll(this.redditConfig.FEED.QUERY_POSTS));r=l,H&&H.length&&(r=l.concat(H)),T=this.redditConfig.FEED.IMG_SPACE_PERCENTAGE}return r=r.filter((r=>this.isPromoted(r)&&r.offsetHeight<this.redditConfig.FEED.MAX_CHILD_HEIGHT)),{allCells:r,minImgSquarePercentage:T}}extractOccurrences(){let{allCells:r,minImgSquarePercentage:T}=this.allCellsAndMinImgSpace();if(r.length)for(let l of r)if(!l.hasAttribute(F.ATTRIBUTE_BIS_ID)&&!l.hasAttribute(F.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(l,T)&&this.isAvatarImgReady(l)){this.isCarousel(l)&&this.redditConfig.IS_ACTIVE_GET_SLIDES_SRC&&this.getSlidesSrc(l);let r=y.GenerateAndSetBisIdToRedditAds(l),T=this.isVideoPost(l);if(this.isShadowRootExist(l)){const H=this.deepClone(l);let F=this.buildBannerHtml(H,this.adPlacementType),y=this.getAdRedditObject(l,F,"",this.adPlacementType);T&&(y.videoData=this.lookingForVideoDataInContent(l)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(l)&&(this.HideElement(l),this.AdBlockerAgent.SetHiddenAmount(1)),H.remove(),setTimeout(this.ExtractAd.bind(this,r,y,T),100)}else{this.setSizesAndIdForAllElements(l);const H=l.cloneNode(!0);let F=this.buildBannerHtml(H,this.adPlacementType),P=this.getAdRedditObject(l,F,"",this.adPlacementType);P.size.h<300&&(P.size=y.SetFullSizeToElement(l)),T&&(P.videoData=this.lookingForVideoDataInContent(l)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(l),this.AdBlockerAgent.SetHiddenAmount(1)),H.remove(),setTimeout(this.ExtractAd.bind(this,r,P,T),100)}}}isShadowRootExist(r){if(r.shadowRoot)return!0;return Array.from(r.querySelectorAll("*")).some((r=>r.shadowRoot))}deepClone(r){let T=1;const l=(r,H)=>{const F=(r,T)=>{for(;r;)l(r,T),r=r.nextSibling};if(r){const l=r.cloneNode(!1);"SLOT"===r.nodeName&&(r.setAttribute("data-assigning-slot-id",T),l.setAttribute("data-assigning-slot-id",T)),r.assignedSlot&&r instanceof Element&&r.assignedSlot.hasAttribute("data-assigning-slot-id")&&l.setAttribute("data-assigned-to",r.assignedSlot.getAttribute("data-assigning-slot-id")),T+=1,H.appendChild(l),r.shadowRoot&&(this.setSizesAndIdForAllElements(r.shadowRoot),r.shadowRoot&&r.shadowRoot.firstChild.setAttribute&&y.SetFullSizeToElement(r.shadowRoot.firstChild),F(r.shadowRoot.firstChild,l)),this.setSizesAndIdForAllElements(r),r&&r.setAttribute&&y.SetFullSizeToElement(r),F(r.firstChild,l)}},H=document.createElement("div");return l(r,H),this.replaceElementsToRightSlots(H.firstElementChild),H.firstElementChild}replaceElementsToRightSlots(r){const T=r.querySelectorAll("*[data-assigned-to]"),l=r.querySelectorAll("*[data-assigning-slot-id]");for(let r of T){const T=r.getAttribute("data-assigned-to");for(let H of l){if(T===H.getAttribute("data-assigning-slot-id")){H.appendChild(r);break}}}}getSlidesSrc(r){var T=r.querySelector("ul").parentElement,l=T.querySelector(this.redditConfig.CAROUSEL_BUTTON_NEXT),H=T.querySelector(this.redditConfig.CAROUSEL_BUTTON_PREVIUOS);l&&H&&(l.click(),H.click())}buildBannerHtml(r,T){let l=this.feedContainer;this.setWrapperClass(l);let H=this.headCopyWithStyles;const F=document.createElement("html"),y=this.bodyCopyWithStyles,P=document.createElement("div"),X=l.cloneNode();return P.appendChild(X),this.setWrapperStyles(l,P),H.appendChild(this.getClassNameForStyles(r)),F.appendChild(H),X.appendChild(r),y.appendChild(P),F.appendChild(y),F}setWrapperClass(r){let T=r.parentElement,l=!1;if(T)for(let F=0;F<50&&!l&&T;F++)if(T.nextSibling&&-1!==T.nextSibling.nodeName.search(/style/i)&&T.previousSibling&&-1!==T.previousSibling.nodeName.search(/style/i)){var H=T.getAttribute("class");r.className+=r.className.length?" "+H:H,l=!0}else T=T.parentElement}setWrapperStyles(r,T){T.style.cssText=T.style.cssText+`max-width: ${this.maxWidthContainer(r)}`}get getFeedContainer(){let r=this.redditConfig.FEED.QUERIES,T=window.innerWidth,l=this.redditConfig.FEED.SECONDARY_CHECK_QUERY,H=this.redditConfig.FEED.QUERY_TO_EXCLUDE;for(let F of r){const r=Array.from(document.querySelectorAll(F));for(let F of r){const r=getComputedStyle(F),y=(T-parseInt(r.width))/T*100;if(parseInt(r.height)>1e3&&y>2&&!F.querySelector(H))return F.querySelector(l)?F.querySelector(l):F}}return null}get headCopyWithStyles(){const r=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((T=>{const l=T.KEY,H=T.ALL_STYLES_FROM,F=T.FEED_PAGE;for(let T of Array.from(r.children))if(-1!==T.nodeName.search(/^(style|link)$/gi)){if(T.dataset[l]){let r=H.some((r=>T.dataset[l].includes(r)));r||this.isCommentPage||(r=F.some((r=>T.dataset[l].includes(r)))),r||T.remove()}}else T.remove()})),this.neccesaryStyleRules){const T=document.createElement("style");T.innerHTML=this.neccesaryStyleRules,r.appendChild(T)}return this.getStylesByTagName(r),r}get neccesaryStyleRules(){let r=null;const T=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((r=>{const T=new RegExp(r,"gi"),l=document.querySelector("head").outerHTML.match(T);let H;return l&&l.length&&(H=l.join("")),H})).filter((r=>r));return T&&T.length&&(r=T.join("")),r}getClassNameForStyles(r){let T=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((l=>{const H=r.querySelector(l.CLASS_NAME_CHILD);let F=H&&H.parentElement?H.parentElement:null,y="";for(let r=1;r<l.DEEP_LEVEL;r++)F&&(F=F.parentElement);F&&(y=F.classList[0],T.innerHTML+="."+y+l.STYLES)})),T}getStylesByTagName(r){let T=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((T=>{const l=new RegExp(T.ATTRIBUTE_REGEX_VALUE);return Array.from(r.querySelectorAll(T.TAG_NAME)).filter((r=>{if(r&&r[T.ATTRIBUTE_NAME]&&-1!==r[T.ATTRIBUTE_NAME].search(l))return r;r.remove()}))})).filter((r=>r)).forEach((r=>{T=T.concat(r)})),T.forEach((T=>{r.appendChild(T)}))}get bodyCopyWithStyles(){const r=document.createElement("body"),T=Array.from(document.querySelectorAll("body style")).map((r=>{if(r)return r.cloneNode(!0)}));return T&&T.forEach((T=>{r.appendChild(T)})),r}maxWidthContainer(r){return r?r.offsetWidth+"px":"auto"}isVideoPost(r){let T=!1;if(r){T=Array.from(r.querySelectorAll("*")).some((r=>{let T=!!r.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!T&&r.shadowRoot&&(T=!!r.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),T}))}return T}lookingForVideoDataInContent(r){const T=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let l=r.querySelector(T);if(l){let r=l.getAttribute("src");l.getAttribute("poster");if(r&&!r.includes("blob:")){const T=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let l=r.match(T),H=null;if(l?.groups?.videoId)return H=l.groups.videoId,{videoId:H,url:r}}}return{}}isPromoted(r){if(r){let T=r;1===T.childElementCount&&T.firstElementChild.shadowRoot&&T.firstElementChild.shadowRoot.firstElementChild&&(T=T.firstElementChild.shadowRoot.firstElementChild);let l=Array.from(T.querySelectorAll(this.redditConfig.FEED.PROMOTED_SELECTOR)),H=Array.from(T.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)),F=Array.from(r.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR)),y=l.concat(F).concat(H);if(y.length)return y.some((r=>{let T=r.textContent.trim().toLowerCase();return T?this.redditConfig.PROMOTED_ALIASES.some((r=>T.indexOf(r)>=0)):r.dataset.beforeContent?(T=r.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((r=>T.indexOf(r)>=0))):void 0}))}return!1}IsPostContentRendered(r,T){let l=!1;if(r){let H=r.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(H&&0===H.length){let H=y.GetFullElementSize(r);if(H.w>0){y.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,r,H).some((r=>r>=T))&&(l=!0)}}r.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(l=!0)}return l}isAvatarImgReady(r){if(!r)return!1;let T=[r],l=null;1===r.childElementCount&&r.firstElementChild.shadowRoot&&(l=r.firstElementChild.shadowRoot.firstElementChild),r.shadowRoot&&(l=r.shadowRoot.firstElementChild),l&&T.push(l);let H=!1;for(let r of T){let T=r.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if(T){if(!T.shadowRoot)return!0;if(H=!!T.shadowRoot&&!!T.shadowRoot.querySelector("img"),H)break}}return H}get isValidUrl(){return!this.redditConfig.FEED.INVALID_URL_PATHS.some((r=>window.location.href.includes(r)))}}},9955:(r,T,l)=>{const H=l(655),F=l(1568),y=l(2880);r.exports=class extends H{constructor(r,T,l,H){super(r,T,l),this.id=r,this.rightColumnObserver=null,this.redditConfig=H,this.rightColumnContainer=null,this.AdBlockerAgent=l,this.lastTopPosition=null,this.adPlacementType=F.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN}HideElement(){}setSizesAndIdForAllElements(r){}getAdRedditObject(r,T,l,H){}doesElementExists(r){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer,!!this.rightColumnContainer}ActivateMutationObserver(){this.rightColumnContainer?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,F.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processRightColumnAds(),this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer,this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.extractOccurrences(F.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN)}allCellsAndMinImgSpace(){let r=[],T=0;return this.rightColumnContainer&&this.rightColumnContainer.children&&(r=Array.from(this.rightColumnContainer.children).map((r=>r.querySelector("div ~ div > button")?r.querySelector("div:nth-child(1)"):"HR"===r.nodeName||0===r.getBoundingClientRect().height?null:r)).filter((r=>r)),T=this.redditConfig.RIGHT_COLUMN.IMG_SPACE_PERCENTAGE),r=r.filter((r=>this.isPromoted(r))),{allCells:r,minImgSquarePercentage:T}}extractOccurrences(){let{allCells:r,minImgSquarePercentage:T}=this.allCellsAndMinImgSpace();if(r.length)for(let l of r)if(!l.hasAttribute(F.ATTRIBUTE_BIS_ID)&&!l.hasAttribute(F.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(l,T)){let r=y.GenerateAndSetBisIdToRedditAds(l);if(this.isShadowRootExist(l)){const T=this.deepClone(l);let H=this.buildBannerHtml(T),F=this.lookingTargetUrl(H),y=this.getAdRedditObject(l,H,F,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(l)&&(this.HideElement(l),this.AdBlockerAgent.SetHiddenAmount(1)),T.remove(),setTimeout(this.ExtractAd.bind(this,r,y),100)}else{this.setSizesAndIdForAllElements(l);const T=l.cloneNode(!0);let H=this.buildBannerHtml(T),F=this.lookingTargetUrl(H),y=this.getAdRedditObject(l,H,F,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(l)&&(this.HideElement(l),this.AdBlockerAgent.SetHiddenAmount(1)),T.remove(),setTimeout(this.ExtractAd.bind(this,r,y),100)}}}isShadowRootExist(r){if(r.shadowRoot)return!0;return Array.from(r.querySelectorAll("*")).some((r=>r.shadowRoot))}deepClone(r){let T=1;const l=(r,H)=>{const F=(r,T)=>{for(;r;)l(r,T),r=r.nextSibling};if(r){const l=r.cloneNode(!1);"SLOT"===r.nodeName&&(r.setAttribute("data-assigning-slot-id",T),l.setAttribute("data-assigning-slot-id",T)),r.assignedSlot&&r instanceof Element&&r.assignedSlot.hasAttribute("data-assigning-slot-id")&&l.setAttribute("data-assigned-to",r.assignedSlot.getAttribute("data-assigning-slot-id")),T+=1,H.appendChild(l),r.shadowRoot&&(this.setSizesAndIdForAllElements(r.shadowRoot),r.shadowRoot&&r.shadowRoot.firstChild.setAttribute&&y.SetFullSizeToElement(r.shadowRoot.firstChild),F(r.shadowRoot.firstChild,l)),this.setSizesAndIdForAllElements(r),r&&r.setAttribute&&y.SetFullSizeToElement(r),F(r.firstChild,l)}},H=document.createElement("div");return l(r,H),this.replaceElementsToRightSlots(H.firstElementChild),H.firstElementChild}buildBannerHtml(r){let T=this.rightColumnContainer;this.setWrapperClass(T);let l=this.headCopyWithStyles;const H=document.createElement("html"),F=this.bodyCopyWithStyles,y=document.createElement("div"),P=T.cloneNode();return y.appendChild(P),this.setWrapperStyles(T,y),l.appendChild(this.getClassNameForStyles(r)),H.appendChild(l),P.appendChild(r),F.appendChild(y),H.appendChild(F),H}setWrapperClass(r){let T=r.parentElement,l=!1;if(T)for(let F=0;F<50&&!l&&T;F++)if(T.nextSibling&&-1!==T.nextSibling.nodeName.search(/style/i)&&T.previousSibling&&-1!==T.previousSibling.nodeName.search(/style/i)){var H=T.getAttribute("class");r.className+=r.className.length?" "+H:H,l=!0}else T=T.parentElement}setWrapperStyles(r,T){T.style.cssText=T.style.cssText+`max-width: ${this.maxWidthContainer(r)}`}replaceElementsToRightSlots(r){const T=r.querySelectorAll("*[data-assigned-to]"),l=r.querySelectorAll("*[data-assigning-slot-id]");for(let r of T){const T=r.getAttribute("data-assigned-to");for(let H of l){if(T===H.getAttribute("data-assigning-slot-id")){H.appendChild(r);break}}}}isPromoted(r){if(r){let T=r,l=Array.from(T.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR));if(l.length)return l.some((r=>{let T=r.textContent.trim().toLowerCase();return T?this.redditConfig.PROMOTED_ALIASES.some((r=>T.indexOf(r)>=0)):r.dataset.beforeContent?(T=r.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((r=>T.indexOf(r)>=0))):void 0}))}return!1}IsPostContentRendered(r,T){let l=!1;if(r){let H=r.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(0===H?.length){let H=y.GetFullElementSize(r);if(H.w>0&&H.h>0){y.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,r,H).some((r=>r>=T))&&(l=!0)}}r.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(l=!0)}return l}lookingTargetUrl(r){let T="";let l=Array.from(r.querySelectorAll('a[target="_blank"]')).filter((r=>!(!r?.href||this.redditConfig.BAD_URL_PATTERN_FOR_TARGET_URL.some((T=>r.href.includes(T))))));return l.length&&(T=l[0].href),T}get headCopyWithStyles(){const r=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((T=>{const l=T.KEY,H=T.ALL_STYLES_FROM,F=T.FEED_PAGE;for(let T of Array.from(r.children))if(-1!==T.nodeName.search(/^(style|link)$/gi)){if(T.innerHTML=T.innerHTML.replace(/}.[^}]*{visibility:hidden}/,"}"),T.dataset[l]){let r=H.some((r=>T.dataset[l].includes(r)));r||this.isCommentPage||(r=F.some((r=>T.dataset[l].includes(r)))),r||T.remove()}}else T.remove()})),this.necessaryStyleRules){const T=document.createElement("style");T.innerHTML=this.necessaryStyleRules,r.appendChild(T)}return this.getStylesByTagName(r),r}get necessaryStyleRules(){let r=null;const T=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((r=>{const T=new RegExp(r,"gi"),l=document.querySelector("head").outerHTML.match(T);let H;return l&&l.length&&(H=l.join("")),H})).filter((r=>r));return T&&T.length&&(r=T.join("")),r}getClassNameForStyles(r){let T=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((l=>{const H=r.querySelector(l.CLASS_NAME_CHILD);let F=H&&H.parentElement?H.parentElement:null,y="";for(let r=1;r<l.DEEP_LEVEL;r++)F&&(F=F.parentElement);F&&(y=F.classList[0],T.innerHTML+="."+y+l.STYLES)})),T}getStylesByTagName(r){let T=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((T=>{const l=new RegExp(T.ATTRIBUTE_REGEX_VALUE);return Array.from(r.querySelectorAll(T.TAG_NAME)).filter((r=>{if(r&&r[T.ATTRIBUTE_NAME]&&-1!==r[T.ATTRIBUTE_NAME].search(l))return r;r.remove()}))})).filter((r=>r)).forEach((r=>{T=T.concat(r)})),T.forEach((T=>{r.appendChild(T)}))}get bodyCopyWithStyles(){const r=document.createElement("body"),T=document.querySelector("body style")?.cloneNode(!0);return T&&r.appendChild(T),r}maxWidthContainer(r){return r?r.offsetWidth+"px":"auto"}get getRightColumnContainer(){const r=this.redditConfig.RIGHT_COLUMN.QUERIES;let T=null;for(let l of r){let r=Array.from(document.querySelectorAll(l));if(!r.length)continue;let H=r.filter((r=>r.children.length>2));if(H&&H.length){T=H[0];break}}return T}}},9105:(r,T,l)=>{const H=l(2880);l(1568);r.exports=class{constructor(r){this.id=r}setAttributes(r){const T=H.getURL("../executors/reddit.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),r.src=T}InjectDetector(){if(document.head){var r=document.createElement("script"),T=function(){document.head.appendChild(r),window.removeEventListener("DOMContentLoaded",T)};this.setAttributes(r),window.addEventListener("DOMContentLoaded",T)}}}},5849:(r,T,l)=>{const H=l(9346),F=l(1568),y=l(8384),P=l(5364),X=l(1687),I=l(8838),R=l(2880),_=l(9358);r.exports=class extends H{constructor(r,T,l){super(r),this.id=r,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=l,this.tiktokConfig=T.TiktokConfig,this.tiktokDetectorFeed=null,this.ActivateTrafficDetector()}onPageUrlChanged(){this.available&&setTimeout((()=>{this.DeactivateDetectors(F.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.tiktokDetectorFeed.ActivateDetector()}DeactivateDetectors(r){this.tiktokDetectorFeed.DeactivateDetector(r)}ActivateDetector(r){r===F.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.tiktokDetectorFeed=new X(this.id,this.tiktokConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.tiktokConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.tiktokDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.tiktokDetectorFeed.getTiktokAdObject=this.getTiktokAdObject.bind(this),this.tiktokDetectorFeed.ExtractAd=this.processAndSendTiktokAd.bind(this),this.tiktokDetectorFeed.removePostCopy=this.removePostCopy.bind(this),this.tiktokDetectorFeed.HideElement=this.HideElement.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new I(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_t",JSON.stringify(this.tiktokConfig)))}processAndSendTiktokAd(r,T,l=document){let H=l.querySelector(`[${F.ATTRIBUTE_BIS_ID}=${r}]`);H&&(P.SendAdCandidates(this.id,[T],F.MESSAGE_TYPE_TIKTOK_FEED_DATA,null),y.Kr&&y.Jr&&(H.children[0].children[0].style.cssText+=F.STYLES_OUTLINE_VIDEO_AD))}getTiktokAdObject(r,T,l,H){const F=R.SetFullSizeToElement(r);return{content:_.encode(T.outerHTML),size:F,adPlacementType:H,videoId:l}}removePostCopy(r){r.remove()}}},1687:(r,T,l)=>{const H=l(2880),F=l(1568),y=l(655);r.exports=class extends y{constructor(r,T,l,H){super(r,T,l),this.tiktokConfig=H,this.id=r,this.adBlockerAgent=l,this.feedContainer=null,this.feedObserver=null}HideElement(r){}setSizesAndIdForAllElements(r){}getTiktokAdObject(r,T,l,H){}removePostCopy(r){}ActualizeDetector(){return this.feedContainer=this.#M(),!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,F.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.#V()}CheckIfAdRendered(r){for(let T of this.tiktokConfig.FEED.PREVIEW_QUERIES){const l=r.querySelector(T);if(l?.src)return new RegExp(/^https:\/\//).test(l.src)}return!1}#M(){const r=this.tiktokConfig.FEED.CONTAINER_QUERIES,T=this.tiktokConfig.FEED.CONTAINER_MIN_HEIGHT;for(let l of r){let r=document.querySelector(l);if(r){if(r.offsetHeight>=T)return r}}}#V(){let r=this.#U();if(r?.length)for(let T of r)if(this.CheckIfAdRendered(T)&&!T.hasAttribute(F.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements(T);const r=H.GenerateAndSetBisIdToInstagramAds(T),l=this.#Q(T),y=this.#q(T),P=this.getTiktokAdObject(T,l,y,F.TIKTOK_AD_PLACEMENT_TYPE_FEED);this.removePostCopy(l);let X=setTimeout((()=>{this.ExtractAd.call(this,r,P),clearTimeout(X)}),100)}}#U(){if(!this.feedContainer)return[];let r=Array.from(this.feedContainer.children),T=[];for(let l of r){if(this.tiktokConfig.FEED.PROMOTED_QUERIES.find((r=>l.querySelector(r)))){T.push(l);break}}return T}#Q(r){const T=this.feedContainer.cloneNode(),l=document.createElement("html"),H=this.#B(),F=this.#e(),y=r.cloneNode(!0);return T.appendChild(y),H.appendChild(T),l.appendChild(F),l.appendChild(H),l}#B(){const r=document.createElement("body"),T=document.querySelectorAll('body style, body link[rel="stylesheet"]');return T&&T.forEach((T=>{const l=T.cloneNode(!0);r.appendChild(l)})),r}#e(){const r=document.createElement("head"),T=document.querySelectorAll("style"),l=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head');return T&&T.forEach((T=>{let l="";for(let r of T.sheet.cssRules)l+=r.cssText;const H=T.cloneNode(!0);H.innerHTML=l,r.appendChild(H)})),l&&l.forEach((T=>{let l=T.cloneNode(!0);r.appendChild(l)})),r}#q(r){const T=this.tiktokConfig.FEED.VIDEO_CONTAINER_QUERIES.find((T=>r.querySelector(T))),l=r.querySelector(T);if(l){const r=new RegExp(/\d{5,}/).exec(l.id);return r?r[0]:null}return null}}},8838:(r,T,l)=>{const H=l(2880);r.exports=class{constructor(r,T){this.id=r,this.AdBlockerAgent=T}InjectDetector(r){if(document.head){let r=document.createElement("script");this.setAttributes(r),document.head.appendChild(r)}}setAttributes(r){const T=H.getURL("../executors/tiktok.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),r.src=T,this.AdBlockerAgent.IsEnabledForTiktok()&&r.setAttribute("adblock_use","")}}},9203:(r,T,l)=>{const H=l(1568),F=l(4736);r.exports=class{constructor(r,T,l,H){this.id=r,this.videoTrafficDetector=null,this.ioManager=l,this.adBlockerAgent=H,this.config=T.twitchConfig,this.videoTrafficDetector=new F(this.id,this.config,this.ioManager),this.videoTrafficDetector.InjectDetector()}ActivateDetector(r){r===H.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0)}}},4736:(r,T,l)=>{const H=l(2880),F=l(9358),y=l(855);r.exports=class extends y{constructor(r,T,l){super(r,T,l,!0),this.id=r,this.IOManager.onGotTwitchVideoInstreamDataCallback=this.processTwitchInstreamData.bind(this),this.signature=null,this.token=null,this.config=T}InjectDetector(){if(document.head){let r=document.createElement("script");this.setAttributes(r),document.head.appendChild(r)}}setAttributes(r){const T=H.getURL("../executors/twitch.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),r.src=T}processTwitchInstreamData(r){this.findAndSaveSignatureAndToken(r.content);const T=this.parsePostBodyData(r);let l=this.buildInstreamAdURL(T);const H=this.prepareObjectToSend(l);this.sendCandidateToBackground(H)}findAndSaveSignatureAndToken(r){r?.includes("streamPlaybackAccessToken")&&(this.signature=r.match(/signature":(| )["'](?<sig>.[^"]*)",/)?.groups?.sig,this.token=encodeURIComponent(r.match(/value":(| )["'](?<token>.*)/).groups.token.replace(/","signature":.*/,"").replace(/\\/g,"")))}parsePostBodyData(r){if(!new RegExp("video-edge.*.ts$").test(r.url)&&"application/x-www-form-urlencoded; charset=utf-8"!==r.type)return;if(!r.encodedPostBody||0!==r.encodedPostBody.search(/^data=/))return;let T=F.decode(r.encodedPostBody.replace(/data=/,""),!1);return JSON.parse(T)}buildInstreamAdURL(r){if(!this.signature)return;const T={};if(T.channel=document.location.pathname.match(/\//g)?.length>1?"":document.location.pathname.replace(/\//g,""),!T.channel)return;T.browserFamily=H.IsChrome()?"chrome":"firefox",T.browserVersion=navigator.userAgent.match(new RegExp("(chrome|firefox)/(?<browserVersion>\\d{3}.\\d)","i")).groups.browserVersion;const{osName:l,osVersion:F}=navigator.userAgent.match(/\((?<osName>.[^ ]*)\s(?<osVersion>.[^;]*);\)?/)?.groups;T.osName=l,T.osVersion=F,T.signature=this.signature,T.token=this.token,T.p=Math.floor(1e7*Math.random())+1;for(let l of r)if(l?.properties.hasOwnProperty("play_session_id")){T.playSessionId=l.properties.play_session_id;break}return T.playSessionId?this.replaceMacrosesInUrl(T):void 0}getMacrosArray(){return this.config.URL_PATTERN_TO_GET_HLS.match(/\$\{(.[^}]*)}/g).map((r=>r.replace(/[${}]/g,"")))}replaceMacrosesInUrl(r){let T=this.config.URL_PATTERN_TO_GET_HLS;for(let[l,H]of Object.entries(r))T=T.replace(`\${${l}}`,H);return T}prepareObjectToSend(r){return{requestMethod:"GET",urlToGetInstreamData:r,url:"",contentType:"",mediaType:"",alias:"TWITCH_HLS"}}sendCandidateToBackground(r){this.IOManager.SendTwitchInstreamData(this.id,r)}}},4919:(r,T,l)=>{const H=l(8384),F=l(2880),y=l(1568),P=l(9346),X=l(5364),I=l(1402),R=l(9473);l(5473);r.exports=class extends P{constructor(r,T,l){super(r),this.id=r,this.onPageRefreshed=this.onPageUrlChanged,this.twConfig=T.TwitterConfig,this.TwitterDetectorFeed=null,this.TwitterDetectorRightColumn=null,this.VideoTrafficDetector=null,this.AdBlockerAgent=l,this.ActivateVideoTrafficDetector()}onPageUrlChanged(r,T){this.available&&setTimeout((()=>{this.DeactivateDetectors(y.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new I(this.id),this.VideoTrafficDetector.InjectDetector())}ActivateDetector(r){r===y.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.TwitterDetectorFeed=new R(this.id,this.twConfig.FEED.DETECTOR_OPTIONS,this.twConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}ActivateDetectors(){this.TwitterDetectorFeed.ActivateDetector()}AddNecessaryMethods(){this.TwitterDetectorFeed.ExtractAd=this.processAndSendTwitterAd.bind(this),this.TwitterDetectorFeed.isVideo=this.isVideo.bind(this),this.TwitterDetectorFeed.HideElement=this.HideElement.bind(this),this.TwitterDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.TwitterDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.TwitterDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.TwitterDetectorFeed.getAdTwitterObject=this.getAdTwitterObject.bind(this)}DeactivateDetectors(r){this.TwitterDetectorFeed.DeactivateDetector(r)}IsAdContentRendered(r,T){let l=!1;if(r){let H=r.querySelectorAll(this.twConfig.PROGRESS_SELECTOR);if(H&&0===H.length){let H=F.GetFullElementSize(r);if(H.w>0){F.GetImagesSpacePercentage(this.twConfig.TAGS_FOR_LOADING_CHECK,r,H).some((r=>r>=T))&&(l=!0)}}}return l}processAndSendTwitterAd(r,T,l=!1,F=document){let P=F.querySelector(`[${y.ATTRIBUTE_BIS_ID}=${r}]`);P&&(X.SendCandidatePlacementsCount(this.id,1,y.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER,null),X.SendAdCandidates(this.id,[T],y.MESSAGE_TYPE_CANDIDATES_DATA_TWITTER,null),H.Kr&&H.Jr&&(P.style.cssText+=l?y.STYLES_OUTLINE_VIDEO_AD:y.STYLES_OUTLINE_SUCCESS_DETECT))}}},9473:(r,T,l)=>{const H=l(2880),F=l(1568),y=l(655);r.exports=class extends y{constructor(r,T,l,F){super(r,T,F),this.available=!1,this.twConfig=l,this.AdBlockerAgent=F,this.feedObserver=null,this.activated=!1,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.lastFeedPostAdsCheckTime=H.GetCurrentTimestampMs(),this.lastFeedWhoToFollowAdsCheckTime=H.GetCurrentTimestampMs(),this.feedContainer=null}isVideo(r,T){}HideElement(){}IsAdContentRendered(r,T){}doesElementExists(r){}setSizesAndIdForAllElements(r){}getAdTwitterObject(r,T,l){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}get getFeedContainer(){const r=this.twConfig.FEED.CONTAINER;let T=Array.from(document.querySelectorAll(r)).filter((r=>r&&r.children.length>2));return T&&T.length?T[0]:null}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.startIntervalDetectCandidates.bind(this,F.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processAdsFromFeed()}processAdsFromFeed(){this.processFeedAds(),this.processFeedWhoToFollowAds()}processFeedAds(){this.extractOccurrences(F.TWITTER_AD_PLACEMENT_TYPE_FEED)}processFeedWhoToFollowAds(){this.extractOccurrences(F.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW)}allCellsAndMinImgSpace(r){let T=[],l=0;return r===F.TWITTER_AD_PLACEMENT_TYPE_FEED?(this.feedContainer&&(T=Array.from(this.feedContainer.children)),l=this.twConfig.FEED.MIN_IMGS_SPACE_PERCENTAGE):r===F.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW&&(T=Array.from(document.querySelectorAll(this.twConfig.FEED.WHO_TO_FOLLOW_SELECTOR)),l=this.twConfig.FEED.WHO_TO_FOLLOW_MIN_IMGS_SPACE_PERCENTAGE),T=T.filter((r=>this.isPromoted(r))),{allCells:T,minImgSquarePercentage:l}}extractOccurrences(r){let{allCells:T,minImgSquarePercentage:l}=this.allCellsAndMinImgSpace(r);if(T.length)for(const y of T)if(!y.hasAttribute(F.ATTRIBUTE_BIS_ID)&&!y.hasAttribute(F.ATTRIBUTE_BIS_SIZE)&&this.IsAdContentRendered(y,l)){let T,l=H.GenerateAndSetBisIdToTwitterAds(y);this.setSizesAndIdForAllElements(y);let P=this.isVideo(y,this.twConfig.FEED.TAGS_FOR_VIDEO_TWEET_CHECK);const X=y.cloneNode(!0);let I=this.buildBannerHtml(X,r),R=this.chooseContent(y,I);T=this.getAdTwitterObject(R,y,r,this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT),r===F.TWITTER_AD_PLACEMENT_TYPE_FEED&&(P&&!this.isCarouselCandidate(y)?T.videoData={}:!P&&this.isCarouselCandidate(y)&&this.twConfig.COLLECT_CAROUSEL_DATA&&(T.carouselData={})),this.AdBlockerAgent.IsEnabledForTwitter()&&!this.AdBlockerAgent.IsElementHidden(y)&&(this.HideElement(y),this.AdBlockerAgent.SetHiddenAmount(1)),setTimeout(this.ExtractAd.bind(this,l,T,P),100)}}chooseContent(r,T){return this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT?T:r.querySelector(this.twConfig.FEED.TWEETS_SELECTOR)?r.querySelector(this.twConfig.FEED.TWEETS_SELECTOR):r}buildBannerHtml(r,T){let l=this.feedContainer;this.setWrapperClass(l),r.style.transform="none",r.style.position="relative";let H=this.headCopyWithStyles;const F=document.createElement("html"),y=document.createElement("body"),P=document.createElement("div"),X=l.cloneNode();return X.style.minHeight="auto",P.appendChild(X),this.setWrapperStyles(l,P),F.appendChild(H),X.appendChild(r),y.appendChild(P),F.appendChild(y),F}setWrapperClass(r){let T=r.parentElement,l=!1;if(T)for(let H=0;H<50&&!l&&T;H++)if(T.nextSibling&&-1!==T.nextSibling.nodeName.search(/style/i)&&T.previousSibling&&-1!==T.previousSibling.nodeName.search(/style/i)){let H=T.getAttribute("class");r.className+=r.className.length?" "+H:H,l=!0}else T=T.parentElement}setWrapperStyles(r,T){T.style.cssText=T.style.cssText+`max-width: ${this.maxWidthContainer(r)}`}maxWidthContainer(r){return r?r.offsetWidth+"px":"auto"}get headCopyWithStyles(){const r=document.createElement("head"),T=this.#b();if(T){let l=document.createElement("style");l.innerHTML=T,r.appendChild(l)}const l=Array.from(document.querySelectorAll("head meta")).map((r=>{if(r)return r.cloneNode(!0)}));return l&&l.forEach((T=>{r.appendChild(T)})),r}#b(){const r=Array.from(document.styleSheets);let T=[];for(let l of r)try{T.push(l.cssRules)}catch(r){}return T.reduce(((r,T)=>{for(let l of T)l?.cssText&&(r+=l.cssText+"\n");return r}),"")}isPromoted(r){if(r){let T=Array.from(r.querySelectorAll(this.twConfig.PROMOTED_SELECTOR));if(T.length)return T.some((r=>{let T=r.textContent;return!(!T||"string"!=typeof T)&&this.twConfig.PROMOTED_ALIASES.some((r=>{let l=T.toLowerCase().trim().split(" ");return l.length<6&&l.includes(r.toLowerCase().trim())}))}))}return!1}isCarouselCandidate(r){if(r){if(r.querySelector(this.twConfig.FEED.CHECK_IF_CAROUSEL_QUERY))return!0}return!1}}},5473:()=>{},1402:(r,T,l)=>{const H=l(2880);r.exports=class{constructor(r){this.id=r}InjectDetector(){if(document.head){let r=document.createElement("script"),T=function(){document.head.appendChild(r),window.removeEventListener("DOMContentLoaded",T)};this.setAttributes(r),window.addEventListener("DOMContentLoaded",T)}}setAttributes(r){const T=H.getURL("../executors/twitter.js");r.setAttribute("bis_use","true"),r.type="text/javascript",r.setAttribute("charset","utf-8"),r.setAttribute("nonce",""),r.src=T}}},2880:(r,T,l)=>{const H=l(1568);class F{static QuerySelectorAll(r,T){return document.__proto__.querySelectorAll.call(r,T)}static QuerySelector(r,T){return document.__proto__.querySelector.call(r,T)}static Escape(r){return r.replace(/\"/g,"&quot;")}static ToJSON(r){return"function"==typeof r.toJSON?r.toJSON():JSON.stringify(r)}static GetBaseHref(){let r=F.QuerySelector(document,"base");return r&&r.href?r.href:""}static GetTabIdKey(r){return"tb_"+r}static GetMainPageId(r){return"mp_"+r}static IsOnChromeRuntime(){let r=!0;if(chrome){if(chrome.runtime){try{chrome.runtime.getManifest()}catch(T){r=!1}if(r)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(chrome.app)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(self.navigator.userAgent.toLowerCase().includes("firefox"))return!!chrome.runtime;return!1}static GetElementSize(r){let T={x:0,y:0,w:0,h:0};if(r&&r.getBoundingClientRect){let l=r.getBoundingClientRect();T={x:~~(l.left+window.scrollX),y:~~(l.top+window.scrollY),w:~~l.width,h:~~l.height}}return T}static IsCoordinatesValid(r){return!!(r&&r.hasOwnProperty("x")&&"number"==typeof r.x&&r.hasOwnProperty("y")&&"number"==typeof r.y)}static GetFullElementSize(r,T,l){let H=F.GetElementSize(r);return F.IsCoordinatesValid(l)&&(H.x=H.x+l.x,H.y=H.y+l.y),F.IsCoordinatesValid(T)?(H.abs_x=H.x+T.x,H.abs_y=H.y+T.y):(H.abs_x=H.x,H.abs_y=H.y),H}static SetFullSizeToElement(r,T,l){let H={x:0,y:0,w:0,h:0};return F.IsCoordinatesValid(l)&&(H.x=H.x+l.x,H.y=H.y+l.y),r&&r.setAttribute&&(H=F.GetFullElementSize(r,T,l),r.setAttribute("bis_size",F.ToJSON(H))),H}static GenerateAndSetBisId(r,T){let l=T+F.GenerateQuickId();return r&&r.setAttribute&&r.setAttribute(H.ATTRIBUTE_BIS_ID,l),l}static GenerateAndSetBisIdToFrame(r){return F.GenerateAndSetBisId(r,"fr_")}static GenerateAndSetBisIdToBanner(r){return F.GenerateAndSetBisId(r,"bn_")}static GenerateAndSetBisIdToPinterestAds(r){return F.GenerateAndSetBisId(r,"pt_")}static GenerateAndSetBisIdToInstagramAds(r){return F.GenerateAndSetBisId(r,"ig_")}static GenerateAndSetBisIdToLinkedinAds(r){return F.GenerateAndSetBisId(r,"ln_")}static GenerateAndSetBisIdToFBAds(r){return F.GenerateAndSetBisId(r,"fb_")}static GenerateAndSetBisIdToTwitterAds(r){return F.GenerateAndSetBisId(r,"tw_")}static GenerateAndSetBisIdToRedditAds(r){return F.GenerateAndSetBisId(r,"rd_")}static SetBisDepth(r,T){r&&r.setAttribute&&r.setAttribute("bis_depth",T)}static SetBisChainId(r,T){r&&r.setAttribute&&r.setAttribute("bis_chainid",T)}static SetBannerId(r,T){r&&r.setAttribute&&r.setAttribute("bis_bannerid",T)}static UpdateCandidateStatusBorderColor(r,T){if(r&&r.style&&r.style.cssText&&T){let l="";T.filteredOut?l=H.STYLES_BORDER_BANNER_FILTERED:T.sentToBackend?l=H.STYLES_BORDER_BANNER_SENT:T.targetUrlExtracted?l=H.STYLES_BORDER_BANNER_URL_EXTRACTED:T.fullContentExtracted&&(l=H.STYLES_BORDER_BANNER_CONTENT_EXTRACTED);let F=r.style.cssText;F.includes(l)||(F=F.replace(/((border|outline): .{3,20} solid 6px !important;)|((border|outline): 6px solid .{3,20} !important;)/,l),r.style.cssText=F)}}static GetMainDomainFromHost(r){if(r&&r.split){let T=r.split(".");if(T.length>=2){let r=T[T.length-2],l=T[T.length-1];return T.length>=3&&2===l.length&&3===r.length?`${T[T.length-3]}.${r}.${l}`:r+"."+l}}return null}static GetMainDomainFromUrl(r){return F.GetMainDomainFromHost(F.GetHostNameFromUrl(r))}static GetHostNameFromUrl(r){let T=r.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=T&&T.length>2&&"string"==typeof T[2]&&T[2].length>0?T[2]:null}static IsUrlFromHost(r,T){return-1!==r.indexOf(F.GetMainDomainFromUrl(T))}static IsPublisherInBlacklist(r,T){let l=!1,H=F.GetHostNameFromUrl(r);return T&&T.length&&H&&T.includes(H)&&(l=!0),l}static GetUrlFromStyleStr(r){let T=r.replace(/"/g,"'"),l=T.indexOf("http");-1===l&&(l=T.indexOf("//"));let H=T.indexOf("'",l),F="";return l>0&&H>0&&l<H&&(F=T.substr(l,H-l)),F}static GetCurrentDataTimeStr(r=null){function T(r){return r<10?"0"+r:""+r}let l=r?new Date(r):new Date;return`${l.getFullYear()}-${T(l.getMonth()+1)}-${T(l.getDate())} ${T(l.getHours())}:${T(l.getMinutes())}:${T(l.getSeconds())}`}static GetCurrentDataTimeStrWithGMT(r=null){function T(r){return r<10?"0"+r:""+r}let l=r?new Date(r):new Date;return`${l.getFullYear()}-${T(l.getMonth()+1)}-${T(l.getDate())} ${T(l.getHours())}:${T(l.getMinutes())}:${T(l.getSeconds())} ${l.toTimeString().match(/GMT.\S*/)[0]}`}static GetWindowSize(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}static IsIframeHasContentScript(r){try{if(r&&!F.IsIframeSecure(r)&&"ok"!==r.contentDocument.body.getAttribute("bis_status"))return!1}catch(r){}return!0}static IsIframeSecure(r){return!r||0!==r.src.length&&"about:blank"!==r.src&&"about:srcdoc"!==r.src&&0!==r.src.indexOf("javascript:")}static isValidUrl(r){return"string"==typeof r&&r.length>0&&(-1!==r.indexOf("http")||-1!==r.indexOf("//"))}static IsValidBisId(r){return!!(r.startsWith("mp_")||r.startsWith("bg_")||r.startsWith("fr_"))}static IsYouTubeUrl(r){let T=F.GetHostNameFromUrl(r);return!!T&&-1!==T.indexOf("youtube.com")}static IsFacebookUrl(r){let T=F.GetHostNameFromUrl(r);return!!T&&-1!==T.indexOf("facebook.com")}static IsTwitterUrl(r){let T=F.GetHostNameFromUrl(r);return!!T&&-1!==T.search(/twitter|x\.com/)}static IsRedditUrl(r){let T=F.GetHostNameFromUrl(r);return!!T&&-1!==T.indexOf("reddit.com")}static IsPinterestUrl(r){let T=F.GetHostNameFromUrl(r);return!!T&&-1!==T.search(/pinterest\.(com|ca|at|ch|cl|co\.kr|com\.au|com\.mx|co\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/)}static IsInstagramUrl(r){let T=F.GetHostNameFromUrl(r);return!!T&&-1!==T.indexOf("instagram.com")}static IsLinkedinUrl(r){let T=F.GetHostNameFromUrl(r);return!!T&&-1!==T.indexOf("linkedin.com")}static IsTiktokUrl(r){return!!~F.GetHostNameFromUrl(r).indexOf("tiktok.com")}static IsTwitchUrl(r){let T=F.GetHostNameFromUrl(r);return!!T&&-1!==T.indexOf("twitch.tv")}static isClaudeUrl(r,T){const l=T?.Yr?.URL_PATTERN,H=F.GetHostNameFromUrl(r);return!!l&&F.getRegExpFromString(l).test(H)}static isChatgptUrl(r,T){const l=T?.vr?.URL_PATTERN,H=F.GetHostNameFromUrl(r);return!!l&&F.getRegExpFromString(l).test(H)}static isDeepseekUrl(r,T){const l=T?.$r?.URL_PATTERN,H=F.GetHostNameFromUrl(r);return!!l&&F.getRegExpFromString(l).test(H)}static isCopilotUrl(r,T){const l=T?.Sr?.URL_PATTERN,H=F.GetHostNameFromUrl(r);return!!l&&F.getRegExpFromString(l).test(H)}static isPerplexityUrl(r,T){const l=T?.jr?.URL_PATTERN,H=F.GetHostNameFromUrl(r);return!!l&&F.getRegExpFromString(l).test(H)}static isMetaUrl(r,T){const l=T?.cr?.URL_PATTERN,H=F.GetHostNameFromUrl(r);return!!l&&F.getRegExpFromString(l).test(H)}static isGeminiUrl(r,T){const l=T?.Cr?.URL_PATTERN,H=F.GetHostNameFromUrl(r);return!!l&&F.getRegExpFromString(l).test(H)}static isGrokUrl(r,T){const l=T?.sr?.URL_PATTERN,H=F.GetHostNameFromUrl(r);return!!l&&F.getRegExpFromString(l).test(H)}static isAI(r,T){return[F.isClaudeUrl,F.isChatgptUrl,F.isCopilotUrl,F.isDeepseekUrl,F.isPerplexityUrl,F.isMetaUrl,F.isGeminiUrl,F.isGrokUrl].some((l=>l(r,T)))}static GetFullIdStr(r,T,l){return`ext:${chrome.runtime.id}-chainId:${r}-frameId:${T}-bisId:${l}`}static GetRandomIntInRange(r,T){return parseInt((Math.random()*(T-r)+r).toFixed(0))}static GetCurrentTimestamp(){return Date.now()/1e3|0}static GetCurrentTimestampMs(){return Date.now()}static GenerateQuickId(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}static GenerateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){let T=16*Math.random()|0;return("x"==r?T:3&T|8).toString(16)}))}static IsInFilterList(r,T){let l=!1;if(r)for(let H=0;H<r.length&&!l;H++)-1!==T.indexOf(r[H])&&(l=!0);return l}static IsChrome(){return-1!==navigator.userAgent.indexOf("Chrome")}static IsFirefox(){return-1!==navigator.userAgent.indexOf("Firefox")}static IsFBVideoDataValid(r){let T=!1;if(r)try{"number"==typeof r.detectionTime&&"string"==typeof r.videoId&&"string"==typeof r.videoUrl&&r.videoId.length&&r.videoUrl.length&&(T=!0)}catch(r){}return T}static GetDefaultAdblockerStatus(){return{[H.ADBLOCKER_FOR_DISPLAY]:H.ADBLOCKER_STATUS_DISABLED,[H.ADBLOCKER_FOR_FACEBOOK]:H.ADBLOCKER_STATUS_DISABLED,[H.ADBLOCKER_FOR_TWITTER]:H.ADBLOCKER_STATUS_DISABLED,[H.ADBLOCKER_FOR_REDDIT]:H.ADBLOCKER_STATUS_DISABLED,[H.ADBLOCKER_FOR_PINTEREST]:H.ADBLOCKER_STATUS_DISABLED,[H.ADBLOCKER_FOR_INSTAGRAM]:H.ADBLOCKER_STATUS_DISABLED,[H.ADBLOCKER_FOR_TIKTOK]:H.ADBLOCKER_STATUS_DISABLED,[H.ADBLOCKER_FOR_LINKEDIN]:H.ADBLOCKER_STATUS_DISABLED,[H.USE_LOCAL_CONFIG]:H.ADBLOCKER_STATUS_DISABLED}}static GetImagesSpacePercentage(r,T,l){let H=[];if(!T)return H;const y=l.w*l.h;let P=[],X=Array.from(T.querySelectorAll("*")).map((T=>T.shadowRoot?T.shadowRoot.querySelectorAll(r):"IMG"===T.nodeName||"IFRAME"===T.nodeName?T:T.querySelectorAll(r))).filter((r=>r)).reduce(((r,T)=>(T&&T.length&&T.forEach((T=>{r.includes(T)||r.push(T)})),"IMG"!==T.nodeName&&"IFRAME"!==T.nodeName||r.push(T),r)),[]);if(!X?.length||0===y)return H;for(let T of X){let l=T;l&&l.shadowRoot&&(l=l.shadowRoot.firstElementChild.querySelector(r));let H=F.GetElementSize(l);P.push(H.w*H.h/y*100)}return P}static CheckDocumentReadyState(r){return document.readyState===r}static getURL(r){return chrome.runtime.getURL(r)}static getDataFromStorageLocal(r){return chrome.storage.local.get([r]).then((T=>T[r]?T[r]:T))}static getDataFromStorageSync(r){return new Promise(((T,l)=>{try{chrome.storage.sync.get([r]).then((l=>{l[r]?T(l[r]):T(l)}))}catch(r){l(r)}}))}static GetCookie(r){let T=r+"=",l=decodeURIComponent(document.cookie).split(";");for(let r=0;r<l.length;r++){let H=l[r];for(;" "==H.charAt(0);)H=H.substring(1);if(0==H.indexOf(T))return H.substring(T.length,H.length)}return""}static GetOriginFromHref(r){r&&r.search(/^http/)}static GetLocaleDateString(){try{return(new Date).toJSON().replace("T",", ")}catch(r){return(new Date).toTimeString()}}static GetAllCookies(){return document.cookie}static async waitForElement(r,T=1e4){return new Promise(((l,H)=>{const F=document.querySelector(r);if(F)return l(F);const y=new MutationObserver((()=>{const T=document.querySelector(r);T&&(y.disconnect(),l(T))}));y.observe(document.body,{childList:!0,subtree:!0}),T&&setTimeout((()=>{y.disconnect(),H(new Error(`Element ${r} not found within timeout`))}),T)}))}static getRegExpFromString(r){let T=r.replace(/.*\/([gimy]*)$/,"$1"),l=r.replace(new RegExp("^/(.*?)/"+T+"$"),"$1");return new RegExp(l,T)}}r.exports=F},1568:(r,T,l)=>{const H=l(9358);r.exports=class{static get DOCUMENT_READYSTATE_LOADING(){return"loading"}static get DOCUMENT_READYSTATE_INTERACTIVE(){return"interactive"}static get DOCUMENT_READYSTATE_COMPLETE(){return"complete"}static get ATTRIBUTE_BIS_ID(){return"bis_id"}static get ATTRIBUTE_BIS_SIZE(){return"bis_size"}static get ATTRIBUTE_BIS_STYLE(){return"bis_style"}static get ATTRIBUTE_BIS_STATUS(){return"bis_status"}static get ATTRIBUTE_BIS_LABEL(){return"bis_label"}static get ATTRIBUTE_BIS_ELEMENT_ID(){return"bis_element_id"}static get ATTRIBUTE_BIS_HIDE_HEIGHT(){return"bis_hide_height"}static get ATTRIBUTE_BIS_HIDE_WIDTH(){return"bis_hide_width"}static get ATTRIBUTE_BIS_HIDE_STATUS(){return"bis_hide_status"}static get ATTRIBUTE_BIS_HIDE_LEFT_OFFSET(){return"bis_hide_left_offset"}static get ATTRIBUTE_BIS_PRECISE_AD(){return"bis_precise_ad"}static get ACTIVATION_BY_ADS_MANAGER(){return"ACTIVATION_BY_ADS_MANAGER"}static get ACTIVATION_BY_ADS_SELF(){return"ACTIVATION_BY_ADS_SELF"}static get MESSAGE_ID(){return"PANELOS_MESSAGE"}static get MESSAGE_TYPE_TEST(){return"TEST"}static get MESSAGE_TYPE_IFRAME_CONTENT(){return"IFRAME_CONTENT"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE"}static get MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT(){return"IFRAME_INVALID_CHAIN_SEGMENT_CONTENT"}static get MESSAGE_TYPE_TAB_INITIALIZATION(){return"TAB_INITIALIZATION"}static get MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION(){return"TAB_SINGLE_PAGE_REINITIALIZATION"}static get MESSAGE_TYPE_TAB_URL_CHANGED(){return"TAB_URL_CHANGED"}static get MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED(){return"TAB_ADBLOCKER_STATUS_CHANGED"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION(){return"IFRAME_INITIALIZATION"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE(){return"IFRAME_INITIALIZATION_RESPONSE"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS(){return"IFRAME_CONTENT_INFO_DETECTED_INPUTS"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS(){return"IFRAME_CONTENT_INFO_DETECTED_REDIRECTS"}static get MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT(){return"HIDDEN_AD_CANDIDATES_AMOUNT"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL(){return"GET_WINDOW_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND(){return"GET_WINDOW_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL(){return"GET_WINDOW_CLICK_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND(){return"GET_WINDOW_CLICK_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_FRAME_CONTENT(){return"GET_FRAME_CONTENT"}static get MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK(){return"TARGET_URL_DETECTION_BY_CLICK"}static get MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET(){return"NEW_PAGE_CREATED_TICKET"}static get MESSAGE_TYPE_PANEL_REGULATOR_RESULT(){return"PANEL_REGULATOR_RESULT"}static get MESSAGE_TYPE_OUT_TICKET(){return"OUT_TICKET"}static get MESSAGE_TYPE_CHAIN_ACTIVATION(){return"CHAIN_ACTIVATION"}static get MESSAGE_TYPE_HEADER_INFO_TO_STORAGE(){return"HEADER_INFO_TO_STORAGE"}static get MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE(){return"LINKEDIN_FRAME_CONTENT_TO_STORAGE"}static get MESSAGE_TYPE_CANDIDATES_DATA_SKINADS(){return"CANDIDATES_DATA_SKINADS"}static get MESSAGE_TYPE_CANDIDATES_DATA_BANNERS(){return"CANDIDATES_DATA_BANNERS"}static get MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK(){return"CANDIDATES_DATA_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH(){return"CANDIDATES_VIDEO_DATA_TWITCH"}static get MESSAGE_TYPE_CANDIDATES_DATA_TWITTER(){return"CANDIDATES_DATA_TWITTER"}static get MESSAGE_TYPE_CANDIDATES_DATA_REDDIT(){return"CANDIDATES_DATA_REDDIT"}static get MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST(){return"CANDIDATES_DATA_PINTEREST"}static get MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM(){return"CANDIDATES_DATA_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN(){return"CANDIDATES_DATA_LINKEDIN"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK(){return"CANDIDATE_PLACEMENTS_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER(){return"CANDIDATE_PLACEMENTS_TWITTER"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT(){return"CANDIDATE_PLACEMENTS_REDDIT"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST(){return"CANDIDATE_PLACEMENTS_PINTEREST"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5(){return"CANDIDATE_PLACEMENTS_HTML5"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM(){return"CANDIDATE_PLACEMENTS_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN(){return"CANDIDATE_PLACEMENTS_LINKEDIN"}static get MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES(){return"HTML5_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES(){return"BANNER_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES(){return"SKIN_AD_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_VIDEO_XHR_CANDIDATE(){return"VIDEO_XHR_CANDIDATE"}static get MESSAGE_TYPE_VIDEO_HAR(){return"VIDEO_HAR"}static get MESSAGE_TYPE_FACEBOOK_VIDEO_DATA(){return"FACEBOOK_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA(){return"FACEBOOK_INSTREAM_DATA"}static get MESSAGE_TYPE_FACEBOOK_MARKETPLACE_VIDEO_DATA(){return"FACEBOOK_MARKETPLACE_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_CANVAS_TEXT(){return"FACEBOOK_CANVAS_TEXT"}static get MESSAGE_TYPE_PINTEREST_VIDEO_DATA(){return"PINTEREST_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_VIDEO_DATA(){return"TWITTER_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_CAROUSEL_DATA(){return"TWITTER_CAROUSEL_DATA"}static get MESSAGE_TYPE_REDDIT_VIDEO_DATA(){return"REDDIT_VIDEO_DATA"}static get MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA(){return"REDDIT_RIGHT_COLUMN_DATA"}static get MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA(){return"INSTAGRAM_VIDEO_DATA"}static get MESSAGE_TYPE_INSTAGRAM_STORY_DATA(){return"INSTAGRAM_STORY_DATA"}static get MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA(){return"INSTAGRAM_FULL_TEXT_DATA"}static get MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES(){return"INSTAGRAM_CAROUSEL_SLIDES_SOURCES"}static get MESSAGE_TYPE_LINKEDIN_VIDEO_DATA(){return"LINKEDIN_VIDEO_DATA"}static get MESSAGE_TYPE_LINKEDIN_SLIDES_DATA(){return"LINKEDIN_SLIDES_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA(){return"VIDEO_TWITCH_INSTREAM_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_ACCESS_TOKEN_DATA(){return"VIDEO_XHR_ACCESS_TOKEN_DATA"}static get MESSAGE_TYPE_TIKTOK_FEED_DATA(){return"TIKTOK_FEED_DATA"}static get MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES(){return"TIKTOK_VIDEO_CANDIDATES"}static get MESSAGE_TYPE_CLAUDE_DATA(){return"CLAUDE_DATA"}static get MESSAGE_TYPE_CHATGPT_DATA(){return"CHATGPT_DATA"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_CHECK_RESPONSE(){return"CHATGPT_PROTECTION_CHECK_RESPONSE"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_NO_WARNINGS(){return"CHATGPT_PROTECTION_NO_WARNINGS"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_CLEAR_TIMEOUT(){return"CHATGPT_PROTECTION_CLEAR_TIMEOUT"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS(){return"CHATGPT_PROTECTION_STATUS"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS_RESPONSE(){return"CHATGPT_PROTECTION_STATUS_RESPONSE"}static get MESSAGE_TYPE_GEMINI_DATA(){return"GEMINI_DATA"}static get MESSAGE_TYPE_COPILOT_DATA(){return"COPILOT_DATA"}static get MESSAGE_TYPE_PERPLEXITY_DATA(){return"PERPLEXITY_DATA"}static get MESSAGE_TYPE_META_AI_DATA(){return"META_AI_DATA"}static get MESSAGE_TYPE_DEEPSEEK_DATA(){return"DEEPSEEK_DATA"}static get MESSAGE_TYPE_GROK_DATA(){return"GROK_DATA"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANALYTICS_ID(){return"GET_PANALYTICS_ID"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANELOS_VERSION(){return"GET_PANELOS_VERSION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_STATUS(){return"GET_ADBLOCKER_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_COUNTERS(){return"GET_ADBLOCKER_COUNTERS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_ADBLOCKER(){return"ENABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_ADBLOCKER(){return"DISABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_DATA_COLLECTION_STATUS(){return"GET_DATA_COLLECTION_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_DATA_COLLECTION(){return"ENABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_DATA_COLLECTION(){return"DISABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT(){return"ADBLOCK_INSPECTOR_AGENT_REPORT"}static get MESSAGE_TYPE_GET_EXCLUDE_LIST(){return"GET_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_INTO_EXCLUDE_LIST(){return"ADD_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_REMOVE_FROM_EXCLUDE_LIST(){return"REMOVE_FROM_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_GET_CURRENT_DOMAIN(){return"GET_CURRENT_DOMAIN"}static get MESSAGE_TYPE_GET_CURRENT_PAGE_URL(){return"GET_CURRENT_PAGE_URL"}static get MESSAGE_TYPE_USE_LOCAL_CONFIG(){return"USE_LOCAL_CONFIG"}static get MESSAGE_TYPE_GET_LOCAL_CONFIG_STATUS(){return"GET_LOCAL_CONFIG_STATUS"}static get ADBLOCKER_STATUS_ENABLED(){return"enabled"}static get ADBLOCKER_STATUS_DISABLED(){return"disabled"}static get VIDEO_TRAFFIC_SOURCE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_SOURCE_JS(){return"JS"}static get VIDEO_TRAFFIC_SOURCE_XHR(){return"XHR"}static get VIDEO_TRAFFIC_MEDIA_TYPE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON(){return"JSON"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON(){return"JSON_FB"}static get VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE(){return"YT_JSON_NEXTPAGE"}static get VIDEO_TRAFFIC_ALIAS_YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE(){return"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH(){return"feedWatch"}static get FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE(){return"marketplace"}static get FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN(){return"rightColumn"}static get FACEBOOK_AD_PLACEMENT_TYPE_STORIES(){return"stories"}static get FACEBOOK_AD_PLACEMENT_TYPE_VIDEO_PAGE(){return"videoPage"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_NAME(){return"[ADVERTISER_NAME]"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID(){return"[VIDEO_ID]"}static get TWITTER_AD_PLACEMENT_TYPE_FEED(){return"feedPost"}static get TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW(){return"feedWhoToFollow"}static get TWITTER_AD_PLACEMENT_TYPE_RIGHT_COLUMN_WHO_TO_FOLLOW(){return"rightColumnWhoToFollow"}static get REDDIT_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE(){return"commentPage"}static get REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get LINKEDIN_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get PINTEREST_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get PINTEREST_AD_PLACEMENT_TYPE_SEARCH(){return"searchPage"}static get PINTEREST_AD_PLACEMENT_TYPE_PIN(){return"pinPage"}static get PINTEREST_LOADER_TYPE_PIN_PAGE(){return"pinPage"}static get PINTEREST_LOADER_TYPE_USER_INFO(){return"userInfo"}static get INSTAGRAM_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get INSTAGRAM_AD_PLACEMENT_TYPE_STORY(){return"story"}static get TIKTOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get KNOWN_CSS_NAMES(){return["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","block-size","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start-color","border-block-start-style","border-block-start-width","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-adjust","color-interpolation","color-interpolation-filters","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-width","contain","content","counter-increment","counter-reset","counter-set","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","fill","fill-opacity","fill-rule","filter","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-start","grid-row-end","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","image-rendering","ime-mode","inline-size","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style-image","list-style-position","list-style-type","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker-end","marker-mid","marker-start","mask","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-position-x","mask-position-y","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-inline","overflow-wrap","overflow-x","overflow-y","overscroll-behavior-x","overscroll-behavior-y","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","paint-order","perspective","perspective-origin","pointer-events","position","quotes","r","resize","right","row-gap","ruby-align","ruby-position","rx","ry","scroll-behavior","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","scrollbar-color","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","table-layout","text-align","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","top","touch-action","transform","transform-box","transform-origin","transform-style","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vector-effect","vertical-align","visibility","white-space","width","will-change","word-break","word-spacing","writing-mode","x","y","z-index","-moz-appearance","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-float-edge","-moz-force-broken-image-icon","-moz-image-region","-moz-orient","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-moz-stack-sizing","-moz-tab-size","-moz-text-size-adjust","-moz-user-focus","-moz-user-input","-moz-user-modify","-moz-window-dragging","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke-color","-webkit-text-stroke-width","offset-distance","offset-path","offset-rotate","orphans","speak","tab-size","text-underline-position","text-size-adjust","widows","zoom","-webkit-appearance","-webkit-border-horizontal-spacing","-webkit-border-image","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","column-span","backdrop-filter","-webkit-font-smoothing","-webkit-highlight","-webkit-hyphenate-character","-webkit-line-break","-webkit-locale","-webkit-margin-before-collapse","-webkit-margin-after-collapse","-webkit-mask-box-image","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-clip","-webkit-mask-composite","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-position","-webkit-mask-repeat","-webkit-mask-size","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-emphasis-color","-webkit-text-emphasis-position","-webkit-text-emphasis-style","-webkit-text-orientation","-webkit-text-security","-webkit-user-drag","-webkit-user-modify","-webkit-writing-mode","-webkit-app-region","buffered-rendering","color-rendering","alignment-baseline","baseline-shift","d"]}static get FACEBOOK_DESIGN_VERSION_OLD(){return 1}static get FACEBOOK_DESIGN_VERSION_NEW(){return 2}static get OUT_TICKET_TYPE_SINGLE(){return"SINGLE"}static get OUT_TICKET_TYPE_MULTI(){return"MULTI"}static get ADBLOCKER_FOR_DISPLAY(){return"DISPLAY"}static get ADBLOCKER_FOR_FACEBOOK(){return"FACEBOOK"}static get ADBLOCKER_FOR_TWITTER(){return"TWITTER"}static get ADBLOCKER_FOR_REDDIT(){return"REDDIT"}static get ADBLOCKER_FOR_PINTEREST(){return"PINTEREST"}static get ADBLOCKER_FOR_INSTAGRAM(){return"INSTAGRAM"}static get ADBLOCKER_FOR_TIKTOK(){return"TIKTOK"}static get ADBLOCKER_FOR_LINKEDIN(){return"LINKEDIN"}static get USE_LOCAL_CONFIG(){return"CONFIG"}static get AD_DETECTOR_INITIATOR_TIMER(){return"timer"}static get AD_DETECTOR_INITIATOR_MUTATION(){return"mutation"}static get AD_DETECTOR_INITIATOR_PAGECHANGE(){return"pagechange"}static get AD_DETECTOR_INITIATOR_ACTIVATION(){return"activation"}static get AD_DETECTOR_INITIATOR_URL(){return"url"}static get AD_DETECTOR_INITIATOR_SCROLL_EVENT(){return"scroll"}static get IFRAMES_CHAIN_BUILDING_STATUS_NONE(){return 0}static get IFRAMES_CHAIN_BUILDING_STATUS_INITED(){return 1}static get IFRAMES_CHAIN_BUILDING_STATUS_STARTED(){return 2}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED(){return 3}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED(){return 4}static get IFRAMES_CHAIN_BUILDING_STATUS_FINISHED(){return 5}static get IFRAMES_TRAFFIC_FILENAME_TO_INJECT(){return"fr-co.js"}static get CANDIDATE_PROCESS_STATUS_DETECTED(){return 1}static get CANDIDATE_PROCESS_STATUS_START_PROCESSING(){return 2}static get CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED(){return 3}static get CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT(){return 4}static get TICKET_BUILDING_STATUS_INIT(){return 0}static get TICKET_BUILDING_STATUS_STARTED(){return 1}static get TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES(){return 2}static get TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES(){return 3}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_ACTIVE(){return 4}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_DONE(){return 5}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_ACTIVE(){return 6}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_DONE(){return 7}static get TICKET_BUILDING_STATUS_DONE(){return 8}static get MESSAGE_TYPE_CONFIG_NOT_FOUND(){return"CONFIG_NOT_FOUND"}static get MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE(){return"CONFIG_UPDATED_IN_STORAGE"}static get TICKET_ALIAS_PANALYTICSID(){return H.decode("cGFuZWxpc3RJZA==")}static get TICKET_ALIAS_PINSTANCEID(){return H.decode("cGFuZWxJZA==")}static get MAX_OUT_TICKETS_QUEUE_LENGTH(){return 20}static EXCLUDE_DOMAINS_LIST(){return"EXCLUDE_DOMAINS_LIST"}static EXCLUDE_PAGES_LIST(){return"EXCLUDE_PAGES_LIST"}static get STYLES_BORDER_BANNER_CONTENT_EXTRACTED(){return"border: 6px solid blue !important;"}static get STYLES_BORDER_BANNER_URL_EXTRACTED(){return"border: 6px solid blueviolet !important;"}static get STYLES_BORDER_BANNER_FILTERED(){return"border: 6px solid orange !important;"}static get STYLES_BORDER_BANNER_SENT(){return"border: 6px solid green !important;"}static get STYLES_OUTLINE_SUCCESS_DETECT(){return"outline: green solid 6px !important;"}static get STYLES_OUTLINE_VIDEO_AD(){return"outline: rgba(42, 213, 255, 1) solid 6px !important;"}static get STYLES_OUTLINE_TEXT_AD(){return"outline: rgba(243, 143, 20, 1) solid 6px !important;"}static get STYLES_CONSOLE_LOGS_INFO(){return"background-color: rgba(108, 101, 224, 0.2); color: rgba(58, 191, 224, 1)"}static get STYLES_CONSOLE_LOGS_ERROR(){return"background-color: rgba(241, 0, 43, 0.4); color: rgba(58, 191, 224, 1)"}static get STYLES_HIDE_INSTAGRAM_FEED_AD(){return["position: absolute !important; height: 0px !important; margin: 0px !important; padding: 0px !important; overflow: hidden !important;","height: 0px !important; visibility: hidden !important;"]}static get STYLES_HIDE_ELEMENT(){return"left: -10000px !important; position: absolute !important; height: 0;"}}},6882:(r,T,l)=>{const H=l(1568),F=l(2880);r.exports=class{static get EmptyMessage(){return{posdMessageId:H.MESSAGE_ID,posdHash:F.GenerateQuickId(),from:"",to:"",multiTo:[],type:"",content:""}}static IsValid(r){try{if(void 0!==r&&void 0!==r.posdMessageId&&void 0!==r.type&&void 0!==r.content)return r.posdMessageId===H.MESSAGE_ID}catch(r){throw r}return!1}static IsStrictValid(r){try{if(void 0!==r&&void 0!==r.posdMessageId&&void 0!==r.from&&void 0!==r.to&&void 0!==r.type&&void 0!==r.content)return r.posdMessageId===H.MESSAGE_ID}catch(r){throw r}return!1}}},533:(r,T,l)=>{const H=l(1568);r.exports=class{constructor(){}getStylesByElementsBisId(r){let T={};return this.addStylesForNode(r,T),r.querySelectorAll("*").forEach((r=>{this.addStylesForNode(r,T)})),T}addStylesForNode(r,T){let l=this.getStyles(r);T[r.getAttribute(H.ATTRIBUTE_BIS_ELEMENT_ID)]=l}getStyles(r){let T=window.getComputedStyle(r,null);return this.minimiseComputedStyles(T)}minimiseComputedStyles(r){let T={};for(let l=0;l<r.length;l++){let F=r.item(l),y=r.getPropertyValue(F);T[y]||(T[y]=[]);let P=H.KNOWN_CSS_NAMES.indexOf(F);P>=0?T[y].push(P):T[y].push(F)}return T}}},9358:r=>{var T={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(r,l=!0){if(TextEncoder&&atob&&btoa&&l)return T.bytesToBase64((new TextEncoder).encode(r));let H,F,y,P,X,I,R,_="",t=0;for(r=T._utf8_encode(r);t<r.length;)H=r.charCodeAt(t++),F=r.charCodeAt(t++),y=r.charCodeAt(t++),P=H>>2,X=(3&H)<<4|F>>4,I=(15&F)<<2|y>>6,R=63&y,isNaN(F)?I=R=64:isNaN(y)&&(R=64),_=_+this._keyStr.charAt(P)+this._keyStr.charAt(X)+this._keyStr.charAt(I)+this._keyStr.charAt(R);return _},decode:function(r,l=!0){if("{"===r[0])return r;if(TextDecoder&&atob&&btoa&&l)return(new TextDecoder).decode(T.base64ToBytes(r));let H,F,y,P,X,I,R,_="",t=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");t<r.length;)P=this._keyStr.indexOf(r.charAt(t++)),X=this._keyStr.indexOf(r.charAt(t++)),I=this._keyStr.indexOf(r.charAt(t++)),R=this._keyStr.indexOf(r.charAt(t++)),H=P<<2|X>>4,F=(15&X)<<4|I>>2,y=(3&I)<<6|R,_+=String.fromCharCode(H),64!=I&&(_+=String.fromCharCode(F)),64!=R&&(_+=String.fromCharCode(y));return _=T._utf8_decode(_),_},_utf8_encode:function(r){r=r.replace(/\r\n/g,"\n");let T="";for(let l=0;l<r.length;l++){let H=r.charCodeAt(l);H<128?T+=String.fromCharCode(H):H>127&&H<2048?(T+=String.fromCharCode(H>>6|192),T+=String.fromCharCode(63&H|128)):(T+=String.fromCharCode(H>>12|224),T+=String.fromCharCode(H>>6&63|128),T+=String.fromCharCode(63&H|128))}return T},_utf8_decode:function(r){let T="",l=0,H=0,F=0,y=0;for(;l<r.length;)H=r.charCodeAt(l),H<128?(T+=String.fromCharCode(H),l++):H>191&&H<224?(F=r.charCodeAt(l+1),T+=String.fromCharCode((31&H)<<6|63&F),l+=2):(F=r.charCodeAt(l+1),y=r.charCodeAt(l+2),T+=String.fromCharCode((15&H)<<12|(63&F)<<6|63&y),l+=3);return T},base64ToBytes:function(r){const T=atob(r);return Uint8Array.from(T,(r=>r.codePointAt(0)))},bytesToBase64:function(r){const T=Array.from(r,(r=>String.fromCodePoint(r))).join("");return btoa(T)}};r.exports=T}},T={};function l(H){var F=T[H];if(void 0!==F)return F.exports;var y=T[H]={exports:{}};return r[H](y,y.exports,l),y.exports}l.n=r=>{var T=r&&r.__esModule?()=>r.default:()=>r;return l.d(T,{a:T}),T},l.d=(r,T)=>{for(var H in T)l.o(T,H)&&!l.o(r,H)&&Object.defineProperty(r,H,{enumerable:!0,get:T[H]})},l.o=(r,T)=>Object.prototype.hasOwnProperty.call(r,T),(()=>{"use strict";l(7452);const r=l(1568),T=l(3129),H=l(3870),F=l(2880);if(self===top){(new T).Init()}else if(F.CheckDocumentReadyState(r.DOCUMENT_READYSTATE_LOADING))document.addEventListener("DOMContentLoaded",(()=>{(new H).Init()}));else if(F.CheckDocumentReadyState(r.DOCUMENT_READYSTATE_INTERACTIVE)||F.CheckDocumentReadyState(r.DOCUMENT_READYSTATE_COMPLETE)){(new H).Init()}})()})();